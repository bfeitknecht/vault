{"path":"sem2/DDCA/VRL/slides/DDCA-L10a-number-systems.pdf","text":"C a r ne gi e M e l l on 1 D i g i t a l D e s i g n a nd C o m put e r A r c hi t e c t ur e M o ha m m a d S a dr o s a da t i F r a nk K . G ür k a y na k A d a p t e d f r o m D i g i t a l D e s i g n a n d C o m p u t e r A r c h i t e c t u r e , D a v i d M o n e y H a r r i s & S a r a h L . H a r r i s © 2 0 0 7 E l s e v i e r http:// safari.ethz.ch / ddca Nu m b er S y stem s C a r ne gi e M e l l on 2 Wh a t w ill w e lea r n ? ¢ Ho w t o re pre s e nt f ra c t io ns ? ¢ Fi xe d po i nt ¢ F l o a t i n g p o i n t ¢ B r i e f l y: § A ddi ng f l o a t i ng po i nt num be r s § L i f e i s a bi t m o r e c o m pl i c a t e d C a r ne gi e M e l l on 3 Nu m b er S y stem s ¢ F o r w h a t k i n d o f n u m b e r s d o yo u k n o w b i n a r y r e p r e s e n t a t i o n s ? § Po si t i ve i n t e g e r s U ns i g ne d bi na r y § Ne g a t i ve i n t e g e r s S i g n/ m a g ni t ude num be r s T w o ’s c o m pl e m e nt ¢ Wh a t a b o u t f r a c t i o n s ? C a r ne gi e M e l l on 4 Frac t i o n s : T w o Re p re s e n t at i o n s ¢ Fi xe d - po i n t : b i n a r y p o i n t i s f i x e d 1101101 . 0001001 ¢ Fl oa t i ng - po i n t : b i n a r y p o i n t f l o a t s t o t h e r i gh t o f t h e m o s t s i gn i f i c a n t 1 a n d a n e x p o n e n t i s u s e d 1 . 1011010001001 x 2 6 C a r ne gi e M e l l on 5 Fi xe d - Po i n t N u mb e rs ¢ Fi xe d - p o i n t r e p r e s e n t a t i o n u s i n g 4 i n t e ge r b i t s a n d 3 f r a c t i o n b i t s : 0110110 0110 . 110 = ? in t e r p r e t e d a s C a r ne gi e M e l l on 6 Fi xe d - Po i n t N u mb e rs ¢ Fi xe d - p o i n t r e p r e s e n t a t i o n u s i n g 4 i n t e ge r b i t s a n d 3 f r a c t i o n b i t s : ¢ T h e b i n a r y p o i n t is not a p a r t of t h e r e p r e s e n t a t ion b u t is im p lie d ¢ T h e n u m b e r o f i n t e ge r a n d f r a c t i o n b i t s m u s t b e agr e e d u po n b y t h o s e ge n e r a t i n g a n d t h o s e r e a d i n g t h e n u m b e r 0110110 0110 . 110 = 2 2 + 2 1 + 2 - 1 + 2 - 2 = 6.75 in t e r p r e t e d a s C a r ne gi e M e l l on 12 Si g n e d Fi xe d - Po i n t N u mb e rs ¢ N e ga t i v e f r a c t i o n a l n u m b e r s c a n b e r e p r e s e n t e d t w o w a ys : § S i g n/ m a g ni t ude no t a t i o n § T w o ’s c o m pl e m e nt no t a t i o n ¢ Re pre s e nt - 7.5 10 u s i n g a n 8 - b i t b i n a r y r e p r e s e n t a t i o n w i t h 4 i n t e ge r b i t s a n d 4 f r a c t i o n b i t s i n T w o ’ s c o m p l e m e n t : § +7 . 5 : 01111000 § I nv e r t bi t s : 10000111 § A dd 1 to ls b : 1000 1000 C a r ne gi e M e l l on 13 Fl o at i n g - Po i n t N u mb e rs ¢ T h e b i n a r y p o i n t f l o a t s t o t h e r i gh t o f t h e m o s t s i gn i f i c a n t d i gi t ¢ Si m i l ar t o d e c i m al s c i e n t i f i c n o t at i o n : § F o r e x a m pl e , 2 7 3 10 i n s c i e nt i f i c no t a t i o n i s 273 = 2. 73 × 10 2 ¢ I n ge n e r a l , a n u m b e r i s w r i t t e n i n s c i e n t i f i c n o t a t i o n a s : ± M × B E Wh e r e : § M = m a nt i s s a § B = ba s e § E = e x po ne nt ¢ In t h e e x a m p le , M = 2.73, B = 10, a n d E = 2 C a r ne gi e M e l l on 14 Fl o at i n g - Po i n t N u mb e rs ¢ E x a m p l e : r e p r e s e n t t h e v a l u e 2 2 8 10 u s i n g a 3 2 - b i t f l o a t i n g p o i n t re pre s e nt a t io n ¢ W e s h o w t h r e e v e r s i o n s ; t h e f i n a l v e r s i o n i s u s e d i n t h e I E E E 754 f l oa t i n g - po i nt s t a nda rd SignExponent Mantissa 1 bit 8 bits 23 bits C a r ne gi e M e l l on 15 Fl o at i n g - Po i n t Re p re s e n t at i o n 1 ¢ C o n v e r t t h e d e c i m a l n u m b e r t o b i n a r y: 228 10 = 11100100 2 = 1.11001 × 2 7 ¢ Fi l l i n e a c h f i e l d o f t he 3 2 - bi t numbe r: § T he s i g n bi t i s po s i t i v e ( 0 ) § T he 8 e x po ne nt bi t s r e pr e s e nt t he v a l ue 7 § T he r e m a i ni ng 2 3 bi t s a r e t he m a nt i s s a 0 00000111 11 1001 0000 0000 0000 0000SignExponent Mantissa 1 bit 8 bits 23 bits C a r ne gi e M e l l on 16 Fl o at i n g - Po i n t Re p re s e n t at i o n 2 ¢ F i r s t b i t o f t h e m a n t i s s a i s a l w a ys 1 : 228 10 = 11100100 2 = 1 .11001 × 2 7 § T hus , s t o r i ng t he m o s t s i g ni f i c a nt 1 , a l s o c a l l e d t he i m pl i c i t l e a di ng 1 , i s r e dunda nt i nf o r m a t i o n ¢ In s t e a d , s t or e j u s t t h e f r a ct ion b it s in t h e 23 - bi t f i e l d Th e l e a d i n g 1 i s i m p l i e d 0 00000111 110 0100 0000 0000 0000 0000SignExponent Fraction 1 bit 8 bits 23 bits C a r ne gi e M e l l on 17 Fl o at i n g - Po i n t Re p re s e n t at i o n 3 ( I E E E ) ¢ Bi a s fo r 8 b i t s = 127 10 = 01111111 2 ¢ Bi a s e d e x p o n e n t = b i a s + ex p o n en t § E x po ne nt o f 7 i s s t o r e d a s : 127 + 7 = 134 = 10000110 2 ¢ The I E E E 7 5 4 3 2 - bi t f l o a t i ng - po i nt re pre s e nt a t i o n o f 2 2 8 10 0 10000110SignBiasedExponent Fraction 1 bit 8 bits 23 bits 110 0100 0000 0000 0000 0000 C a r ne gi e M e l l on 18 Fl o at i n g - Po i n t E xamp l e Wr i t e t h e v a l u e - 58.25 10 u s i n g I E E E 7 5 4 3 2 - bi t f l o a t i ng - po i nt s t a nda rd ¢ F i r s t , c o n v e r t t h e d e c i m a l n u m b e r t o b i n a r y: 58.25 10 = ¢ Ne x t , f i l l i n e a c h f i e l d i n t h e 3 2 - bi t numbe r: § S i g n bi t : § 8 e x po ne nt bi t s : § 2 3 f r a c t i o n bi t s : SignExponent Fraction 1 bit 8 bits 23 bits C a r ne gi e M e l l on 19 Fl o at i n g - Po i n t E xamp l e Wr i t e t h e v a l u e - 58.25 10 u s i n g I E E E 7 5 4 3 2 - bi t f l o a t i ng - po i nt s t a nda rd ¢ F i r s t , c o n v e r t t h e d e c i m a l n u m b e r t o b i n a r y: 58.25 10 = 111010.01 2 = 1. 1101001 × 2 5 ¢ Ne x t , f i l l i n e a c h f i e l d i n t h e 3 2 - bi t numbe r: § S i g n bi t : 1 ( ne g a t i v e ) § 8 e x po ne nt bi t s : (127 + 5) = 132 10 = 10000100 2 § 2 3 f r a c t i o n bi t s : 110 1001 0000 0000 0000 0000 2 I n he x a de c i m a l : 0xC2690000 1 100 0010 0 110 1001 0000 0000 0000 0000SignExponent Fraction 1 bit 8 bits 23 bits C a r ne gi e M e l l on 20 Fl o at i n g - Po i n t N u mb e rs : Sp e c i al Cas e s ¢ The I E E E 7 5 4 s t a nda r d i nc l ude s s pe c i a l c a s e s f o r numbe r s t ha t ar e d i f f i c u l t t o r e p r e s e n t , s u c h as 0 b e c au s e i t l ac k s an i m p l i c i t l e a d i n g 1 ¢ Na N (= N o t a N u m b e r ) i s u s e d f o r n u m b e r s t h at d o n ’ t e x i s t , su c h a s sq r t ( - 1 ) o r l o g( - 5) Nu m b e r S i gn Ex p o n e n t Fr a c t i o n 0 X 00000000 00000000000000000000000 ∞ 0 11111111 00000000000000000000000 - ∞ 1 11111111 00000000000000000000000 NaN X 11111111 no n - ze r o C a r ne gi e M e l l on 21 Fl o at i n g - Po i n t N u mb e r Pre c i s i o n ¢ Sin g le - Pr e cis ion : § 32 - bi t no t a t i o n § 1 si g n bi t , 8 e x po ne nt bi t s , 2 3 fra c t i o n bi t s § bi a s = 1 2 7 ¢ Do u b l e - Pr e cis ion : § 64 - bi t no t a t i o n § 1 si g n bi t , 1 1 e x po ne nt bi t s , 5 2 fra c t i o n bi t s § bi a s = 1 0 2 3 C a r ne gi e M e l l on 22 Fl o at i n g - Po i n t N u mb e rs : Ro u n d i n g ¢ Pro ble ms : § Ov e r f l o w : num be r i s t o o l a r g e t o be r e pr e s e nt e d § Un de r f l o w : num be r i s t o o s m a l l t o be r e pr e s e nt e d ¢ R o u n d i n g m o d e s : § Do wn § Up § T o w a r d z e r o § T o ne a r e s t C a r ne gi e M e l l on 23 Fl o at i n g - Po i n t N u mb e rs : Ro u n d i n g E xamp l e ¢ Ro und 1.100101 ( 1.578125 ) s o t h a t i t u s e s o n l y 3 f r a c t i o n a l b i t s § D o w n: § U p: § T o w a r d z e r o : § T o ne a r e s t : C a r ne gi e M e l l on 24 Fl o at i n g - Po i n t N u mb e rs : Ro u n d i n g E xamp l e ¢ Ro und 1.100101 ( 1.578125 ) s o t h a t i t u s e s o n l y 3 f r a c t i o n a l b i t s § D o w n: 1.100 § U p: 1.101 § T o w a r d z e r o : 1.100 § T o ne a r e s t : 1.101 ( 1 . 6 2 5 i s c l o s e r t o 1 . 5 7 8 1 2 5 t ha n 1 . 5 i s ) C a r ne gi e M e l l on 25 Fl o at i n g - Po i n t A d d i t i o n ¢ S t e p s f o r f l o a t i n g p o i n t a d d i t i o n : 1. E x t r a c t e x po ne nt a nd f r a c t i o n bi t s 2. P r e pe nd l e a di ng 1 t o f o r m m a nt i s s a 3. C o m pa r e e x po ne nt s 4. S hi f t s m a l l e r m a nt i s s a i f ne c e s s a r y 5. A dd m a nt i s s a s 6. N o r m a l i z e m a nt i s s a a nd a dj us t e x po ne nt i f ne c e s s a r y 7. R o und r e s ul t 8. A s s e m bl e e x po ne nt a nd f r a c t i o n ba c k i nt o f l o a t i ng - po i nt f o r m a t ¢ N o t s o e a s y a s b i n a r y a d d i t i o n ! C a r ne gi e M e l l on 26 Fl o at i n g - Po i n t A d d i t i o n : E xamp l e ¢ A d d t h e f o l l o w i n g f l o a t i n g - po i nt numbe rs : 0x3FC00000 0x40500000 C a r ne gi e M e l l on 27 Fl o at i n g - Po i n t A d d i t i o n : E xamp l e 1. Ex tr a c t e x p o n e n t a n d fr a c ti o n b i ts § F o r f i r s t num be r ( N 1 ) : S = 0 , E = 127 , F = .1 § F o r s e c o nd num be r ( N 2 ) : S = 0 , E = 128 , F = .101 2. P r e p e n d l e a d i n g 1 t o f o r m m a n t i s s a § N1 : 1.1 § N2 : 1.101 0 01111111 100 0000 0000 0000 0000 0000 Sign Exponent Fraction 1 bit 8 bits 23 bits 0 10000000 101 0000 0000 0000 0000 0000 1 bit 8 bits 23 bits Sign Exponent Fraction C a r ne gi e M e l l on 28 Fl o at i n g - Po i n t A d d i t i o n : E xamp l e 3. Co m p a r e ex p o n en ts 127 – 128 = - 1 s o s hi f t N 1 r i g ht by 1 bi t 4. Sh i f t s m al l e r m an t i s s a i f n e c e s s ar y s hi f t N 1 ’s m a nt i s s a : 1.1 >> 1 = 0.11 ( × 2 1 ) 5. Ad d m a n t i s s a s 0.11 × 2 1 + 1.101 × 2 1 10.011 × 2 1 C a r ne gi e M e l l on 29 Fl o at i n g - Po i n t A d d i t i o n : E xamp l e 6. No r m a l i z e m a n t i s s a a n d a d j u s t e x p o n e n t i f n e c e s s a r y 10.011 × 2 1 = 1.0011 × 2 2 7. Ro und re s ul t N o ne e d ( f i t s i n 2 3 bi t s ) 8. As s e m b l e e x p on e n t a n d f r a c t i on b a c k i n t o f l oa t i n g - po i nt f o rma t S = 0 , E = 2 + 1 2 7 = 1 2 9 = 10000001 2 , F = 001100.. W r i t t e n i n he x a de c i m a l : 0x40980000 0 10000001 001 1000 0000 0000 0000 0000SignExponent Fraction 1 bit 8 bits 23 bits C a r ne gi e M e l l on 30 Fl o at i n g - P o i n t U n i t o f A R M C a r ne gi e M e l l on 35 Wh a t d id w e lea r n ¢ Ho w t o e xpre s s re a l numbe rs in bina ry § F i x e d po i nt § F l o a t i ng po i nt ¢ I E E E S t a n d a r d t o e x p r e s s f l o a t i n g p o i n t n u m b e r s § Si g n § E x po ne nt ( bi a s e d) § M a nt i s s a ¢ Br i e fl y § A ddi ng f l o a t i ng po i nt num be r s","libVersion":"0.3.1","langs":""}