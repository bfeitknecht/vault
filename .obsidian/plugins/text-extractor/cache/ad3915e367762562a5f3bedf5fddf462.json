{"path":"sem4/CN/VRL/extra/slides/18-Algorithms.pdf","text":"Computer Networks: Networking Algorithms Adrian Perrig Based on slides by Markus Legner and Ankit Singla Photo: ETH Zürich / Gian Marco Castelberg Good news: Networks and Cybersecurity are #2 Skills expected to see increasing demand 2025-2030 Article URL: https://ieeexplore.ieee.org/abstract/document/10918570 2 Plan for this lecture 3 • Finding optimal paths a. Repetition: algorithms for shortest paths b. How to optimize for other criteria? c. Advanced topic: optimize for multiple criteria • Traffic engineering: flow problems a. Repetition: max-flow problem b. Multi-commodity flow problems • Circuits and matchings Optimal paths Shortest paths and related problems 4http://www.martingrandjean.ch/connected-world-air-traffic-network/Facebook / Paul Butler [GÉANT network] [Internet2] Shortest path from Zürich to London? 7 Shortest path from S to T? 8 S A C E D B G F H T I J 10 4 3 2 9 6 6 7 10 2 2 2 2 2 2 4 5 5 3 7 1 5 8 Shortest path from S to T? Better than 14? 9 S A C E D B G F H T I J 10 4 3 2 9 6 6 7 10 2 2 2 2 2 2 4 5 5 3 7 1 5 8 Shortest path from S to T: length 12 10 S A C E D B G F H T I J 10 4 3 2 9 6 6 7 10 2 2 2 2 2 2 4 5 5 3 7 1 5 8 The shortest-path problem • Graph with weighted edges • Goal: Minimize sum of weights of path between two vertices • Dijkstra algorithm (→A&D, Routing): - Time complexity (with binary heap): O ( 𝑉 + 𝐸 ) ⋅ log 𝑉 - Additional requirement: non-negative weights • (Distributed) Bellman–Ford (→A&D, Routing): - Time complexity: O 𝑉 ⋅ 𝐸 - Usable even with negative weights (if no negative cycles are present) • Unweighted graph: breadth-first search (BFS) (→A&D): - Time complexity: O 𝑉 + 𝐸 11A&D 2020: ad20-11, ad20-12, ad20-14 For which criteria can we apply shortest-path algorithms? • Typical criteria in networking: - Latency - Bandwidth - Loss rate • What assumption do shortest-path algorithms make (implicitly) about the weights? • Weights are additive: 12 The weight of a path is the sum of the weights of the edges. • Latency: ✅ • Loss rate: - Not directly: 2 edges with 50% loss  75% loss (≠ 100%) - “Success rate” is multiplicative  Can be transformed to additive quantity (exercise 10) • Bandwidth: - No: bandwidth of a path is the minimum of the bandwidths of the edges - Still fulfills an important isotonicity property: - Given two paths P1 and P2 AB and a path P3 BC - If P1 is better than P2 (i.e., higher bandwidth) then P1 + P3 is better than (or equal to) P2 + P3 - “The relative preference between any two paths is preserved when both are extended by any third path.”  Allows application of modified shortest-path algorithms: use “min” instead of “sum” as operation when extending paths Which criteria are additive? 13 Can we optimize for multiple criteria simultaneously? 14 Shortest widest paths: • Optimize for bandwidth (𝑤) first • Among all paths of maximum bandwidth, select the one of minimal length (𝑙) •  Lexicographic order for 𝑤, −𝑙 • Note that the shortest widest paths criteria does not fulfill the isotonicity property Widest shortest paths: • Optimize for length first, bandwidth second •  Lexicographic order for −𝑙, 𝑤 Recommended reading: • Sobrinho and Ferreira “Routing on Multiple Optimality Criteria” (https://dl.acm.org/doi/abs/10.1 145/3387514.3405864) Shortest widest paths (SWP) do not fulfill the isotonicity property 15 S A B T (5, 1) (10, 3) (20, 1) (10, 2) (20, 4) • Each edge has weights 𝑤, 𝑙 • SWP BT: - B-A-T (20, 5) - Better than B-T (10, 2) • SWP ST: - S-B-T (10, 5) - Better than S-B-A-T (10, 8)  When searching for optimal paths towards T, must keep track of multiple paths - Requires changes to routing protocols - Cannot easily use standard algorithms Example adapted from Sobrinho and Ferreira “Routing on Multiple Optimality Criteria” Traffic engineering Flow problems in networking Maximum traffic from S to T? 17 S A C E D B G F H T I J 10 4 3 2 9 6 6 7 10 2 2 2 2 2 2 4 5 5 3 7 1 5 8 Example adapted from Amir Ali Ahmadi, Princeton Maximum traffic from S to T? My first attempt 18 S A C E D B G F H T I J 10 4 3 2 9 6 6 7 10 2 2 2 2 2 2 4 5 5 3 7 1 5 8 3 + 2 + 2 + 2 = 9 Example adapted from Amir Ali Ahmadi, Princeton Maximum traffic from S to T? Better than 9? 19 S A C E D B G F H T I J 10 4 3 2 9 6 6 7 10 2 2 2 2 2 2 4 5 5 3 7 1 5 8 Example adapted from Amir Ali Ahmadi, Princeton Maximum traffic from S to T? Example with flow 11 S A C E D B G F H T I J 10 4 3 2 9 6 6 7 10 2 2 2 2 2 2 4 5 5 3 7 1 5 8 Example adapted from Amir Ali Ahmadi, Princeton 20 Max-flow/min-cut theorem: max-flow ≤ 11 21 S A C E D B G F H T I J 10 4 3 2 9 6 6 7 10 2 2 2 2 2 2 4 5 5 3 7 1 5 8 Example adapted from Amir Ali Ahmadi, Princeton Try a larger graph … Alexander Schrijver “On the history of the transportation and maximum flow problems” (https://homepages.cwi.nl/~lex/files/histtrpclean.pdf) 22 Destroying an enemy rail network … Alexander Schrijver “On the history of the transportation and maximum flow problems” (https://homepages.cwi.nl/~lex/files/histtrpclean.pdf) 23 “… a method intended to help the specialist who is engaged in estimating railway capabilities, so that he might more readily accomplish this purpose …” - RAND, 1954 [Declassified: 1999] The Internet is today’s critical infrastructure! Network Vulnerability to Single, Multiple, and Probabilistic Physical Attacks. Agarwal et. al. 24 The maximum-flow problem • Max-flow: how much traffic can a network carry? • Min-cut: how reliable is a network? - How many edges must be removed to break it? - Where should I add more edges to make my network more reliable? • Max-flow and min-cut duality: - The maximum flow of a graph is equal to the minimal cut • Ford–Fulkerson (→A&W): - Based on augmenting paths in the residual network • Variation of Ford–Fulkerson: Edmonds–Karp - Optimized search for augmenting paths Guaranteed termination - Time complexity O 𝑉 ! ⋅ 𝐸 25A&W 2021, Lecture 20 What if there are many sources / destinations? 26 A C E D B G F H I J 4 3 2 10 2 2 2 2 2 5 3 7 1 5 8 Example adapted from Amir Ali Ahmadi, Princeton Add a “fake” source 27 S A C E D B G F H I J 4 3 2 10 2 2 2 2 2 5 3 7 1 5 8 ∞ ∞ ∞ ∞ Example adapted from Amir Ali Ahmadi, Princeton T … and a “fake” destination 28 S A C E D B G F H I J 4 3 2 10 2 2 2 2 2 5 3 7 1 5 8 ∞ ∞ ∞ ∞ ∞ ∞  Use standard algorithms Example adapted from Amir Ali Ahmadi, Princeton Small modification changes problem completely: different flows 29 A C E D B G F H I J 4 3 2 10 2 2 2 2 2 5 3 7 1 5 8 Multi-commodity flow (MCF) problem • Cannot be solved with standard algorithms •  Next lecture Example adapted from Amir Ali Ahmadi, Princeton Common problem in networking! Scenario A: You are an ISP • Swisscom, Deutsche Telecom, SWITCH, Lumen, … • Many customers • No control over sources, destinations 30GÉANT Network Common problem in networking! 31 Scenario B: Between your own data centers • Hyperscalers: Microsoft, Google, Meta … • Content-distribution networks (CDNs) • Control sources, destinations — additional flexibility! Microsoft / Ratul Mahajan Circuits and matchings How many simultaneous circuits? Nodes: forwarding elements Edges: possible circuits Constraint: each node participates in at most one circuit 33 A C E D B G F H I J  Maximum-matching problem How many simultaneous circuits? 34 A C E D B G F H I J How many simultaneous circuits? 35 A C E D B G F H I J The maximum-cardinality matching problem • Bipartite graph: - Describe as max-flow problem: - “Fake” source and destination - All edges have capacity 1 - Time complexity: O 𝑉 ! ⋅ 𝐸 - Hopcroft–Karp algorithm (→A&W): - Finds multiple augmenting paths simultaneously - Time complexity: O 𝑉 + 𝐸 ⋅ 𝑉 • General graph: - Several algorithms that have same complexity as Hopcroft–Karp (e.g., Blum) 36A&W 2021, Lecture 5 Matching formulated as max-flow problem 37 A C E D B G F H I J S T Matching formulated as max-flow problem 38A&W Lecture 21 Inside a circuit switch 39Patent US6445841 B1; Texas Instruments Summary 40 Many graph algorithms discussed in A&D/A&W have applications in networking Networking problems are often variations of standard problems Some problems can be solved by adapted standard algorithms: • Optimal paths with non- additive criteria • Flow problems with multiple sources and destinations Some problems require different algorithms: • Optimal paths with multiple criteria • Multi- commodity flow problem Next lecture: linear programming","libVersion":"0.3.2","langs":""}