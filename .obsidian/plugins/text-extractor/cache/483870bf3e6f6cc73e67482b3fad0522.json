{"path":"sem4/CN/PV/exams/CN-FS18.pdf","text":"Final Exam 252-064-00L Computer Networks 2018 Summer 2018: Saturday 11.08, 09:00-11:00, HIL G 41 Last Name, First Name: Student Identiﬁcation Number: Student Signature: Rules and guidelines: • Place your identiﬁcation card on your desk. An assistant will check your identity during the exam. • Once the exam starts, make sure you have received all pages of the exam. The exam should have 20 pages total, including three pages for extra space. Do not separate the exam sheets. • Do not forget to ﬁll in your name, student identiﬁcation number and signature on this page. With your signature you certify that you solved these problems on your own, that you turned in your solution, and that there were no environmental or other factors that disturbed you during this exam or that diminished your performance. • You must answer questions using black or blue ink. Illegible answers may not get any credit. • The use of any additional material other than your pen and a dictionary is not allowed. • You have 120 minutes to complete this exam. • As a general guideline, one point should correspond to one minute. Thus you should write answers that are clear and concise. Generally, you do not need to completely ﬁll the space provided for solutions. In addition, if you need more space your answer is probably too long. • You are not required to score all points to get the maximum grade. • When answering questions, always explain your reasoning, unless a question explicitly says otherwise. If a question asks, for instance, whether A is more secure than B, a plain “yes” or “no” answer will not be awarded any points. • For questions during the exam, raise your hand and an assistant will come to answer your question. • You are free to leave whenever you have ﬁnished the exam. But to avoid disturbing your colleagues, nobody can leave the room during the last 30 minutes. • Your answers can be given either in English or German. Question: 1 2 3 4 5 Total Points: 21 25 21 36 17 120 Score: 1 1. The Basics (21 points) For the following questions, circle the correct answer(s). Note that there may be more than one correct answer, and no partial credit will be awarded for partially correct answers. (a) (1 point) Which statement(s) are true? A. Devices that participate in the Internet can self-assign arbitrary IP address(es) on a ﬁrst-come-ﬁrst-serve basis. B. An IP address cannot map to more than one hostname. C. A hostname can map to multiple IP addresses. (b) (2 points) Which statement(s) are true? A. Every DNS record contains a Time-To-Live (TTL) value. B. In recursive querying, the local resolver is responsible for contacting the next DNS server if the ﬁrst contacted server does not have the answer cached. C. HTTP GET responses cannot be cached. D. HTTP is a stateless protocol. E. Cookies are stored server-side and are associated with a user based on IP address. (c) (2 points) Link provisioning. Assume that N users share the same up-link to their Internet Service Provider. The link capacity is 10 Mbps. When online, a user will require 2 Mbps bandwidth. The probability of a user at any point in time being online follows a Bernoulli distribution with p = Ponline. Assume users behave independent of each other. In closed form, what is the probability that there is not enough available link capacity to fully satisfy the needs of the online users? A. ∑5 x=0 xPonline B. ∑5 x=0 Binomial(x; Ponline, N ) C. ∑N x=6 xPonline D. ∑N x=6 Binomial(x; Ponline, N ) E. ∑5 x=0 xPonline · x! (d) (2 points) Root servers. Recall that a.root-servers.net is one of the authoritative name servers that serve the DNS root zone. What do you expect “dig @a.root-servers.net example.com” to return? A. An A type record with an IP address for example.com B. An NS type record pointing to example.com’s DNS server C. An NS type record pointing to com’s DNS server D. None of the above (e) (2 points) Which statement(s) are true? A. The ability to express a problem X as an integer linear program (ILP) is proof that X is NP-hard. B. All ﬁnite linear programs (LPs) are solvable in polynomial time. C. There is at most one variable assignment which constitutes the solution for any linear program. D. A look-up in a Bloom ﬁlter cannot result in a false positive. Page 2 (f) (2 points) Bloom ﬁlters. A Bloom ﬁlter of size m uses k hashing functions. After the insertion of n independent elements, what is the probability that a particular bit is 1? A. (1/m) kn B. (1 − 1/m) kn C. 1 − (1 − 1/m) kn D. 1 − (1/m) kn (g) (1 point) If Alice and Bob are connected via a 200 Mbps connection, which has a constant 5 ms RTT, what would be the ideal congestion window size W in kilobytes? A. 25 kB B. 1000 kB C. 125 kB D. 100 kB (h) (2 points) Which statement(s) are true? A. If there are N minimal cuts between a source and a destination in a network, then N −1 failing links cannot prevent communication between the source and the destination. B. If there is a minimal cut with capacity X between a source and a destination in a network, then the source and destination can establish a ﬂow with capacity X between them. C. Even if we increase the capacity of all links of all minimal cuts, the maximum ﬂow might not increase. (i) (1 point) “Layering” is commonly used in computer networks because... A. ...encapsulation requires the least overhead to transmit data. B. ...it allows widespread code and implementation re-use. C. ...it forces all network software to be written in ANSI ‘C’. D. None of the above (j) (1 point) For sending ﬁxed size packets, which of the following delay(s) change as the amount of traﬃc varies in a wired network? A. Propagation Delay B. Transmission Delay C. Queuing Delay D. None of the above (k) (1 point) Which task(s) are performed by the data link layer? A. Framing B. Error detection C. Address translation D. Signal ampliﬁcation (l) (1 point) Which are true about Ethernet protocols? A. Ethernet is commonly used for the link-layer protocol for long-distance links (such as across a country). B. Ethernet adaptors send frames as soon as they have any available data. C. The Ethernet spanning tree may take a longer path through a network than the path that would be calculated by a link-state algorithm (assuming both have converged). D. The Ethernet spanning tree protocol prevents Ethernet forwarding from ever encoun- tering a loop. Page 3 (m) (1 point) Which of the following is/are true about Address Resolution Protocol (ARP) and learning bridges? A. A learning bridge maintains state that maps IP addresses to hardware (MAC) ad- dresses. B. A learning bridge maintains state that maps MAC addresses to IP addresses. C. A hosts’s ARP table maintains state that maps IP addresses to hardware (MAC) addresses. D. A host’s ARP table maintains state that maps hardware addresses to IP addresses. (n) (1 point) Which of the following is/are true about BGP? A. A simpliﬁed BGP protocol where ASes choose routes with the shortest AS-PATH length is guaranteed to converge. B. A BGP protocol is guaranteed to converge even if ASes use arbitrary path selection policies. C. A BGP route between two hosts is the shortest in terms of AS hops but may not be in terms of router hops. D. A BGP route between two hosts may not be the shortest in terms of both router hops and AS hops. E. BGP policies often lead to asymmetric routing. Yet, the forwarding and reverse paths will always have the same length in terms of number of AS hops. (o) (1 point) Which of the following is/are true about link-state routing protocols? A. In link-state routing, each router learns the entire topology of the network. B. In link-state routing, each router only learns the cost to reach the destinations via its neighbors. C. Since link-state routing generally converges fast, it would be an ideal candidate to replace BGP, which can converge slowly. D. Using poison reverse can help link-state routing protocols to avoid “count-to-inﬁnity” problem. Page 4 2. The Application Layer (25 points) (a) (7 points) HTTP A D F EKB H G C L J I 150ms 50ms 50ms100ms 20ms 180ms 50ms 100ms 150ms 200ms 100ms 40ms 40ms 70ms 40ms 50ms FIN Figure 1: Webpage dependency graph i. (2 points) Consider the time-annotated dependency graph for the loading times of a web- page in Figure 1. Every arrow indicates the dependency between resources, and the value at the arrow is the time it takes to load this resource. For example: A 50ms ←−−− B means that B depends on A, and A take 50ms to complete loading. Calculate the ﬁnal overall load time. No explanation is required, only the ﬁnal answer is needed (i.e. “..... ms”). ii. (1 point) In the dependency graph of the previous question, can we reduce the total web- page load time by reducing the load time of L? And if so, by how much can we reduce it before the ﬁnal overall load time no longer decreases? No explanation is required, only the ﬁnal answer is needed (i.e. “Yes, we can decrease L’s load time to xxx ms and any further reduction has no eﬀect.”, or “No.”). Page 5 Figure 2: Network topology (1 Mbps = 106 bit/s) Figure 3: Webpage dependency graph (1 Mbit = 10 6 bit) iii. (4 points) A client retrieves a webpage over HTTP from a server as seen in the graph in Figure 2. The webpage, shown in Figure 3, consists of three parts (A, B, and C) of respective sizes (1 Mbit, 40 Mbit, and 1 Mbit). Part C is loaded ﬁrst, part B is loaded after part C ﬁnishes, and part A is loaded after both part B and C ﬁnish. The webpage is successfully retrieved once part A is fetched. The server caches part of the response (node B) in a CDN. You must not take into account connection setup time and congestion control, and you must assume packets arrive with zero latency and are inﬁnitely small. This means that the client can immediately download at full line rate. How long does it take the client to retrieve the webpage with and without usage of the CDN by the client? No explanation is required, only the ﬁnal answer is needed. • Using CDN: • Not using CDN: Page 6 (b) (12 points) Video Streaming. Consider a User X who uses a video streaming platform to watch Video Y. Video Y is divided into 3 segments, each lasting 4 seconds. Each segment of Video Y is available in 2 diﬀerent qualities: LOW and HIGH. Segments of quality LOW and HIGH are composed of 50000 bytes and 100000 bytes respectively. User X’s download speed over time is depicted in Figure 4 shown below. Figure 4: User X’s download speed over time (1 Mbps = 106 bit/s). After t = 1.5s the download speed is always 1.5 Mbps. i. (2 points) The start-up delay is deﬁned as the time for the player to start the playback of the ﬁrst segment of video. The playback is only started when the entire segment is received. Given that in the start-up phase the default quality is LOW, how long will the start-up delay be? No explanation is required, only the ﬁnal answer is needed (i.e. “The start-up delay will be .... ms.”). ii. (4 points) Assume that the video streaming platform utilizes a pure rate-based approach for quality adaptation. Speciﬁcally, the quality of the segment n+1 is decided depending on the estimated bandwidth which is the average bandwidth experienced during the down- load of the previous nth segment. The (n + 1)th segment request is immediately sent after the download of the nth segment. If the estimated bandwidth is greater than or equal to 1 Mbps, the quality picked is HIGH, otherwise it is LOW. The bandwidth of the 0 th seg- ment is arbitrarily deﬁned to be 0 Mbps. Which are the selected qualities for the three segments sequence? Complete the table below. No explanation is required, only the ﬁnal answer is needed. Segment 1 Segment 2 Segment 3 LOW Page 7 iii. (4 points) Assume now that the video streaming platform utilizes a pure buﬀer-based approach. In this case, the quality of the segment n + 1 is decided depending on the buﬀer occupancy of the player at the time of the request. As before, the (n + 1) th segment request is immediately sent after the download of the nth segment. If the buﬀer contains segments worth playback time greater than or equal to 5 seconds, the quality picked is HIGH, otherwise it is LOW. The starting buﬀer occupancy is of course empty (0s). A segment is played (i.e. draining the buﬀer) when it has been received in its entirety. Which are now the selected qualities for the three segments sequence? Complete the table below. No explanation is required, only the ﬁnal answer is needed. Segment 1 Segment 2 Segment 3 iv. (2 points) Apart from the startup phase, are there any rebuﬀering events experienced in the two aforementioned approaches? A. Yes, both buﬀer-based and rate-based approach experience rebuﬀering. B. Yes, buﬀer-based approach experiences rebuﬀering, while rate-based doesn’t. C. Yes, rate-based approach experiences rebuﬀering, while buﬀer-based doesn’t. D. No, neither of them experience rebuﬀering events. Page 8 (c) (6 points) Equilibria α S T 1 - α 1 αβ Figure 5: Network graph. In Figure 5 we have α fraction of traﬃc going over the bottom red route and 1 − α fraction going over the top green route. The cost incurred on a link equals the fraction of traﬃc sent along it (i.e., α or 1 − α), multiplied by the cost per unit traﬃc on the link (i.e., αβ or 1). For the following two equilibria, calculate the α-split as a function of β (β ≥ 1). Firstly, for the optimum equilibrium which minimizes the total cost. Secondly, for the selﬁsh equilibrium, where each inﬁnitesimal unit of traﬃc selﬁshly decides which path to take. • αOPT = • αselﬁsh = Page 9 3. The Transport Layer (21 points) (a) (8 points) TCP. A TCP connection uses fast re-transmit, fast-recovery, timeouts, congestion avoidance and slow start. Fast re-transmit / fast-recovery is a TCP mechanism in which after the sender has received three consecutive duplicate acknowledgements, it immediately re-transmits the oldest unacknowledged packet, and sets the new ssthresh to half the old cwnd and the new cwnd equal to the new ssthresh. Figure 6 shows an example of the change in the size of the congestion window of such a TCP connection over time. The initial congestion window size is 1 packet. The duration of the timeout is 1 RTT and the minimum congestion window size is 1 packet. Complete the congestion window sizes in the graph up until 35 RTTs given that the following events occur. (a) Single packet loss at 5 RTTs, 14 RTTs and 17 RTTs which causes at least 3 consecutive duplicate acknowledgements in that window, and (b) a packet loss at 27 RTTs which does not cause 3 consecutive duplicate acknowledgements thus results in a timeout. Write the congestion window size at the indicated time in the following table. We will grade based only on the table. Time in RTTs Congestion window size 5 32 14 15 17 18 20 9 27 28 31 35 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 0 5 10 15 20 25 30 35 Figure 6: Congestion window size in packets (y-axis) against time in number of RTTs (x-axis) Page 10 (b) (8 points) Window behavior. Consider a Go-Back-N sender and receiver directly connected by a 20 Mbps link with a one-way propagation delay of 100 milliseconds. The retransmission timer is set to 5 seconds and the window has a length of 3 segments. The sender’s timeout timer is reset each time an ACK is received, even if it is a duplicate. An ACK is transmitted as soon as the last bit of the corresponding data segment is received and the size of the ACK is negligibly small. 6 segments are to be sent, and each segment contains 20000 bits. i. (3 points) Fill in the table below with the acknowledgement times of the segments when there are no losses. The acknowledgement time is the moment at which the sender has a segment cumulatively acknowledged and as such can move the window. Hint: We suggest drawing a time sequence diagram (e.g., Figure 7) before ﬁlling in the table. We will grade based only on the table. Segment Acknowledgement time (ms) 1 2 3 4 5 6 0ms 1 A1 Figure 7: Time sequence diagram template. Page 11 ii. (3 points) What is the acknowledgement time of segment 6 in the case where the ﬁrst ACK of segment 6 is lost in (i)? No explanation is required, only the ﬁnal answer is needed. iii. (2 points) If in (i) instead of a Go-Back-N, the sender would use a Stop-and-Wait strat- egy, how long would it take for all 6 segments to be acknowledged assuming no loss? No explanation is required, only the ﬁnal answer is needed. (c) (5 points) QUIC. The QUIC protocol currently being standardized in the IETF provides a connection-oriented transport which multiplexes multiple streams of application data onto a single connection. i. (2 points) QUIC performs ﬂow control at two levels. What are the two levels and what are their respective purposes? ii. (2 points) QUIC allows an endpoint to be identiﬁed via a connection identiﬁer instead of its host-port pair. Describe one beneﬁt of abandoning the usage of the traditional host-port pair as an identiﬁer. iii. (1 point) A colleague of yours has suggested that QUIC is an unnecessary protocol. Instead, he argues that TCP can be extended to implement functionalities of QUIC by using new TCP extensions. What problem(s), if any, can you foresee when trying to deploy such a TCP with extensions? Page 12 4. The Network Layer (36 points) (a) (6 points) Longest Preﬁx Matching. Reduce the number of entries in the following routing table as much as possible, without changing the routing behavior. Preﬁx Outgoing Interface 86.119.119.0/25 eth1 86.119.119.0/26 eth1 86.119.119.64/27 eth0 86.119.119.64/28 eth1 default eth2 Preﬁx Outgoing Interface (b) (12 points) Distance Vector Protocol. A network operator is managing a small network with the routers and the topology as shown in Figure 8. The routers are running a distance- vector protocol to discover minimum-cost paths among them. Table 1 shows the initial routing table for router A. A B C D E 5 11 3 4 5 5 10 Figure 8: Network topology with 5 routers, A-E Destination Cost B 5 C 5 D 11 E ∞ Table 1: Initial routing table for router A i. (1 point) Fill in the information for the initial routing table at router E. Destination Cost A B C D ii. (4 points) Fill in the information about the routing table at router E, after one and after two iterations of the distance-vector protocol. Assume that all message exchanges are synchronized so that all routers send messages to their neighbors at the same time. Destination Cost A B C D Destination Cost A B C D On the left is the forwarding table after one iteration, and on the right after two iterations. Page 13 iii. (5 points) On one of the boring days, the operator decided to reconﬁgure the network so that it uses the maximum-cost paths between nodes. For example, router A would send traﬃc to router B over the path A − C − D − E − B. Since the operator cannot change the distance-vector protocol itself so that it chooses maximum-cost paths, he decided to assign to all links the opposite weight of the ones shown. Now the cost from A to B over the direct link becomes -5, whereas over the longer path it becomes -24. Brieﬂy explain why this is a bad idea. iv. (2 points) Not giving up, the operator read about a family of routing protocols named path-vector protocols. Would a path-vector protocol help in this case? Brieﬂy explain. (c) (14 points) Inferring Business Relationships. In class, you have learned how ASes choose and announce routes based on the business relationships with the neighboring ASes. In this question, we investigate how one could infer the business relationships between ASes by observ- ing BGP announcements. Consider a network with four ASes as shown in Figure 9. The ﬁgure also depicts the BGP announcements about preﬁx p, which are shown by the arrows. For example, the three arrows from AS A to ASes B, C, D depict three BGP announcements by AS A to the three ASes. A B D p Figure 9: BGP announcements between four ASes. Note that the arrows show the direction of the announcements, NOT the business relationships. Assumptions: 1. All ASes follow the route import, selection, export policies based solely on the business relationships, and do not use any custom policies. 2. We have observed all announcements. That is, no other announcement is made other than through the shown arrows. 3. We know that 1) ASes B and C have a peering relationship, 2) ASes A and D have a peering relationship, and 3) ASes C and D have a provider-customer relationship, where C is the provider. Answer the following questions based on the assumptions above, unless told otherwise. i. (3 points) What can you say about the business relationship between ASes A and C? Page 14 A B D p Figure 10: Copy of Figure 9 for your convenience. ii. (2 points) AS D receives two advertisements, one from A and the other from B. Would AS D use the announcement from AS A to make an announcement to AS C? Explain why. iii. (8 points) What can you say about the business relationship between ASes B and D? Similarly, what can you say about the relationship between ASes A and B? Justify your answer. iv. (1 point) Which route would AS C use to reach preﬁx p? (d) (4 points) SCION. Answer the following questions about the SCION future Internet architec- ture. i. (2 points) In the lecture, you learned that BGP may suﬀer from temporary unavailability during route convergence. How does SCION avoid such a problem? ii. (2 points) Routing protocols (e.g., BGP, link-state protocols, etc) have something called a “self-healing” property, i.e., when a failure occurs they will automatically recover by ﬁnding an alternative path. However, the SCION core network infrastructure does not provide the “self-healing” property. Describe a speciﬁc problem that can occur and a potential solution. Answers that are too vague (e.g., simply stating to add resiliency and/or recovery protocol) will not receive any point. Page 15 5. The Link Layer (17 points) (a) (6 points) Spanning Tree Protocol. The spanning-tree protocol is used to create a loop- free topology on top of the underlying network topology and ensures that backwards learning will operate seamlessly. Backwards learning is the process through which switches ﬁll in their forwarding table so that MAC addresses are associated with an outgoing interface. You are given a network topology (Figure 11) that consists of switches S1 to S4. The address of switch Si is 00:00:00:00:00:0i. S1 S2 S3 S4 Figure 11: Network topology with 4 switches, S1-S4. i. (2 points) Which link(s) are removed after the completion of the spanning-tree protocol? Use the lowest switch address to break ties. Mark the removed link(s) directly on Figure 11. ii. (4 points) What is the problem with backwards learning on topologies that contain loops? For the topology in Figure 11, the network operator is thinking of alternative solutions that would solve the problem, but do not require the spanning tree protocol. One potential solution, inspired by the network layer, would be to use a Time-To-Live (TTL) ﬁeld in packets. Can you think of other approaches? Page 16 (b) (11 points) Link-layer and Network-layer. This question examines concepts that are related to both the link layer and the network layer, and more speciﬁcally their interaction. You are given a network topology (Figure 12) that consists of hosts (H1 and H2), switches (S1 and S2), and a router (R1). The interface of each entity is annotated with an IP and a MAC address. Note that switches also have one IP address that is typically used for management purposes (e.g., for the administrator to conﬁgure the switch). Assuming that host H1 sends a packet to host H2, answer the following questions. S1 S2R1 H1 H2 H1.ip H1.mac S1a.mac S1b.mac R1a.mac R1a.ip R1b.mac R1b.ip S2a.mac S1.ip S2.ip S2b.mac H2.ip H2.mac Figure 12: Network topology with 2 hosts (H1, H2), 2 switches (S1, S2), and 1 router (R1). i. (3 points) How many broadcast domains are there in Figure 12? Write down all addresses that belong to each broadcast domain. A broadcast domain is a network segment in which all nodes can reach each other through broadcast at the link layer. ii. (2 points) Just when the packet leaves from host H1, what is its link-layer destination address? How does host H1 ﬁnd out this destination address? iii. (1 point) Just before the packet arrives at switch S2, what is its link-layer source address? iv. (1 point) Just before the packet leaves from router R1, what is its network-layer source address? v. (2 points) Does the entry of R1b.mac appear in the forwarding table of switch S1? Brieﬂy explain. vi. (2 points) H1 decides to run a traceroute to host H2. What is the result of the traceroute? There can be multiple correct answers, provide one of them. Page 17 Extra Page Please use this page in case you run out of space elsewhere in the exam. Page 18 Extra Page Please use this page in case you run out of space elsewhere in the exam. Page 19 Extra Page Please use this page in case you run out of space elsewhere in the exam. Page 20","libVersion":"0.5.0","langs":""}