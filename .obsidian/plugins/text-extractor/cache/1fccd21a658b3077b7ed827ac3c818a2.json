{"path":"sem2/PProg/VRL/slides/PProg-L01-introduction.pdf","text":"Pa r a l l e l P r o g r a m m i n g In tr o d u c ti o n & Co u r s e O v e r v i e w Pr o f . B a r b a r a So l e n t h a l e r SS 2 0 2 4 Le c t u r e r s 2 P r o f . B a r ba r a S o l e n t ha l e r CN B G 1 0 2 .1 s o l e n t ha l e r @ i n f . e t hz . c h T e a c he s P a r t I O f f i c e ho ur s : pe r e m a i l r e que s t Pr o f . To r s t e n Ho e f ler OA T V 1 5 t o r s t e n. ho e f l e r @ i n f . e t hz . c h T e a c he s P a r t I I O f f i c e ho ur s : pe r e m a i l r e que s t ht t p s : / / s p c l . i n f . e t h z . c h / T e a c h i n g / 2 0 2 4 - pp/ 1. Pa r a l l e l p r o g r a m m i n g i s a ne ce ssi ty – si nce 2000 - is h 2. A d i f f e r e n t w a y o f c o m p u t a t i o n a l thi nki ng – who sai d e v e r y thi ng ne e ds a t o t al o r de r? 3. Ge n e r a l l y f u n ( s i n ce a l w a y s ) – if yo u l i k e t o c h a l l e n g e yo u r b r a i n 3 W h y Th i s C o u r s e ? Ka r l R u p p ’ s b l o g Co u r se Ov e r v i e w Pa r a l l e l P r o g r a m m i n g ( 2 5 2 - 0029 - 00L ) • 4L + 2U • 7 E C T S C r e di t s • Audi e nce : C o m put e r S ci e nce B a che l o r • P a rt o f B a s i s p rü f u n g • Le c tu r e La n g u a g e : De n g l i s ch 4 Co u r se Co o r d i n a t i o n • L e c t u r e s 2 x w e e k : • Mon d a y 10 - 12 H G F 5 , HG F 7 • Tu e s d a y 10 - 12 H G F 5 , HG F 7 • We e k l y E x e r c i s e S e s s i o n s • We d n e s d a y 1 6 - 1 8 o r F ri d a y 1 0 - 12 • En r o l l v i a my S t u d i e s • Fo c u s g r o u p s 5 Co u r se Ma t e ri a l a n d Co mmu n i c a t i o n Co ur s e we b s i t e : h t t p s :/ / s p c l . i n f . e t h z . c h / T e a c h i n g / 2 0 2 4 - pp/ Mood l e 2024: h t t p s :/ / m o o d l e - ap p 2 . l e t . e t h z . c h / c o u r s e / vi e w . p h p ?i d = 2 2 2 8 1 L e c t u r e s l i d e s , e x e r c i s e s , f o ru m 6 A b o u t Th i s C o u r s e Hea d T A s : • Ph i l i n e W i t z i g ( P a r t I ) • Ti m o S c h n e i d e r (P a rt I I ) Te a c h i n g A s s i s t a n t s ( P a r t I ) : 7 Gr a d e s : • C l a s s i s pa r t o f B a s i s pr üf ung : w r i t t e n, c e n t r a l i z e d e x a m a f t e r t he t e r m • 1 0 0 % o f g r a de de t e r m i ne d b y f i na l e x a m • E x e r c i s e s no t g r a de d but e s s e n t i a l Y o ur T A ► H e a d T A ► L e c t ur e r Com m u n i c a t i on : • D a ni e l D o r da • A ur e l G r ube r • Ni k ol a K o v a c e vi c • L a s s e L i ng e ns • T i l l S c hna be l • A g o n S e r i f i • Y i ng y a n X u • L i ng c he n Y a ng • B e nj a m i n G r uz m a n • Ga m a l H a s s a n • F i nn H e c k m a n • S a r a h K uhn • R a pha e l L a r i s c h • J ul i a nne O r e l • Z e r o t o l e r a n c e c h e a t i n g p o l i c y ( c h e a t = f a i l + b e i n g r e p o rt e d ) • H o m e w o rk • D o n ’t l o o k a t o t h e r s t u d e n t s c o d e • D o n ’t c o p y c o d e f r o m a n y w h e r e • Ok t o d i sc u ss t h i n g s – but t he n y o u ha v e t o do i t a l o ne • Co d e ma y b e c h e c k e d wi th t o o l s • D o n ’t c o p y - pa s t e • Co d e • Te x t • Ima g e s 8 Ac a de m i c I n t e gr i t yCo n c e p t s a n d P r a c t i c e Our g o a l i s t w o f o l d: • Le ar n ho w t o w r it e par alle l pr o gr ams in pr ac t ic e • Us i n g J a v a f o r t h e m o s t p a r t • And s ho w i ng ho w i t w o r k s i n C • Un d e r s t a n d t h e u n d e rl y i n g f u n d a m e n t a l c o n ce p t s • Ge n e r ic c o n c e p t s o u t liv e s p e c ific t o o ls • Th e r e a r e oth e r a p p r oa c h e s th a n J a v a ' s 9 Yo u a r e E n c o u r a g e d t o : • As k q u e s t i o n s : • he l p s us k e e p a g o o d pa c e • he l p s y o u unde r s t a nd t he m a t e r i a l • le t ' s m ak e t h e c o u r s e in t e r ac t iv e • cl a s s o r v i a e - ma i l or v i a f or u m • Us e t h e w e b t o f i n d a d d i t i o n a l i n f o rm a t i o n • Ja v a d o c s • St a ck O v e r f l o w • Wr i t e C o d e & E x p e r i m e n t 10 If th e r e is a pr o bl e m , le t us kn o w as ea rl y as po s s i bl e ! Wha t a r e Ex e r c i se s f o r ? Le ar ning t o o l Se e ing a c o r r e c t s o lut io n is no t e no ugh Yo u s h o u l d t r y t o s o l v e t h e p r o b l e m y o u r s e l v e s H e n c e , e x e r c i s e s e s s i o n s a r e fo r g u i d i n g y o u t o s o l v e t h e p r o b l e m no t f o r s po o n - fe e d i n g y o u s o l u t i o n s 11 Cl a ss Ov e r v i e w 12 Pa r a l l e l i s m • U nde r s t a ndi ng a nd de t e c t i ng pa r a l l e l i s m • In t r o t o P C A r c hi t e c t ur e s • F o r m a l i z i ng pa r a l l e l i s m • P r o g r a m m i ng m o de l s f o r pa r a l l e l i s m (P a r a l l e l ) P r o g r a m m i n g • R e c a p: P r o g r a m m i ng i n J a v a + a bi t o f J V M • P a r a l l e l i s m i n J a v a ( T hr e a ds ) Co n cu rr e n cy • S ha r e d da t a • R a c e C o ndi t i o ns • L o c k s , S e m a pho r e s , e t c . • Lo c k - fr e e pr o g r a m m i ng • C o m m uni c a t i o n a c r o s s t a s k s a nd pr o c e s s e s Pa r a l l e l A l g o r i t h m s • U s e f ul & c o m m o n a l g o r i t hm s i n pa r a l l e l • D a t a s t r uc t ur e s f o r pa r a l l e l i s m • S o r t i ng & S e a r c hi ng , e t c . Sc h e d u l e ( P a rt I ) 13 Le c t u r e Ex 1 In t r o d u c t i o n Ex 2 In t r o d u c t i o n t o M u l t i - th r e a d i n g Ex 3 Mul t i - th r e a d i n g Ex 4 Pa r a l l e l M o d e l s Ex 5 Di v i d e a n d C o n q u e r Ex 6 Ta s k P a r a l l e l i s m Ex 7 Sy n c h r o n i z a t i o n a n d Re s o u rc e S h a r i n g Ex e r c i se s Fe b 1 9 In t r o d u c t i o n & C o u r s e O v e r v i e w Fe b 2 0 Ja v a R ec a p a n d JV M O v er v i e w Fe b 2 6 In t r o d u c t i o n t o T h r e a d s a n d S y n c h r o n i z a t i o n ( P a r t I) Fe b 2 7 In t r o d u c t i o n t o T h r e a d s a n d S y n c h r o n i z a t i o n ( P a r t II) Ma r 4 In t r o d u c t i o n t o T h r e a d s a n d S y n c h r o n i z a t i o n ( P a r t II) Ma r 5 Pa r a l l e l A r c h i t e c t u r e s : Pa r a l l e l i s m o n t h e H a r d w a r e L e v e l ( Pa r t I ) Ma r 11 Ba s i c C o n c e p t s i n P a r a l l e l i s m Ma r 12 Di v i d e a n d C o n q u e r Ma r 18 Fo r k J o i n Fr a m e w o r k Ma r 19 Cilk - st y l e b o u n d s a n d T a s k P a r a l l e l A l g o r i t h m s Ma r 25 Cilk - st y l e b o u n d s a n d T a s k P a r a l l e l A l g o r i t h m s Ma r 26 Vi r tu a l th r e a d s Apr 8 S h a r e d M e m o r y C o n c u r r e n c y , L o c k s a n d D a t a R a c e s Apr 9 R e s e r v e , e x a m p r e p Sc h e d u l e ( P a rt I I ) 14 Le c t u r e Ex e r c i se s Ex 8 Sy n c h r o n i z a t i o n II Ex 9 Re a s o n i n g a b o u t L o c k s / J a v a M e m o r y Mo del B a si c s Ex 1 0 Adv a nc e d S y nc hr o ni z a t i o n M e c ha ni s m s Ex 1 1 Adv a nc e S y nc hr o ni z a t i o n M e c ha ni s m s Ex 1 2 Li n e a ri z a b i l i t y Ex 1 3 So f t w a r e T r a n s a ct i o n a l M e m o r y Ex 1 4 MP I + R educ t i o ns Apr 1 5 Da t a R a c e s - Im p l e m e n t i n g l o c k s w i t h A t o m i c R e g i s t e r s Apr 1 6 Da t a R a c e s - Im p l e m e n t i n g l o c k s w i t h A t o m i c R e g i s t e r s II Apr 2 2 B e y o n d L o c k s I : S p i n l o c k s , D e a d l o c k s , S e m a p h o r e s Apr 2 3 B e y o n d L o c k s I I : S e m a p h o r e , B a r r i e r , P r o d u c e r - / C o n s u m e r , M o n i t o r s Apr 2 9 R e a d e r s / W r i t e r s L o c k , L o c k G r a n u l a r i t y : C o a r s e G r a i n e d , F i n e G r a i n e d , O p t i m a l , a n d L a z y S y n c h r o n i z a t i o n Apr 3 0 L o c k t r i c k s , s k i p l i s t s , a n d w i t h o u t L o c k s I Ma y 6 Wit h o u t L o c k s I I Ma y 7 A B A P r o b l e m , C o n c u r r e n c y T h e o r y Ma y 13 S e q u e n t i a l C o n s i s t e n c y , C o n s e n s u s , T r a n s a c t i o n a l M e m o r y Ma y 14 Co n s e n s u s H ie r ar c h y + T r an s ac t io n al M e m o r y Ma y 21 Tr a n s a c t i o n a l M e m o r y + M e s s a g e P a s s i n g Ma y 27 Messa g e P a ssi ng Ma y 28 Co n s e n s u s P r o o f an d R e d u c t io n s Pa r a l l e l S o r t i n g Bi g P i c t u r e (P a rt I ) 15 CPU OS JV M (P r o c e s s A ) Co r e Co r e Co r e Co r e OS t h r ea d OS t h r ea d OS t h r ea d OS t h r ea d OS s c h ed u l er JV M s c h e d u l e r JV M th r e a d Pr o ce s s B Me m o r y S pa c e A Me m o r y S pa c e B Ph y s i c a l M em o r y JV M th r e a d JV M th r e a d JV M th r e a d L0 3 - 05 L0 6 L0 7 L0 8 - 09 L1 0 - L1 1 L1 3 … … St a c k Re g i s t e r s PC St a c k Re g i s t e r s PC St a c k Re g i s t e r s PC St a c k Re g i s t e r s PC Pa r a l l e l per f o r m a nc e & alg o r it h m s L1 2 Vi r tu a l th r e a d s • ht t p s : / / cg l . e t h z . ch /t e a c h i n g /p a r a l l e l p r og 2 4 /p a g e s/ t e rm i n o l o g y . h t m l 16 Te r m i n o l o g y Co u r se Ov e r v i e w 17 ak a w h y s h ou ld y ou c ar e? H o w D o e s Th i s C o u r s e F i t I n t o t h e C S C u r r i c u l u m ? • Pr o g r a m m i n g - in - th e - sm a l l • Pr o g r a m m i n g - in - th e - lar g e 18 P r o g r a m = A l g o r i t h m s + D a t a S t r u ct u r e s => D a t a S t r u c t u r es a n d A l g o r i t h m s S y s t e m = P r o ce s s e s + O b j e ct s + C o m m u n i c a t i o n Th i s c l a s s In tr o t o P r o g r a m m i n g Th i s c l a s s H o w D o e s Th i s C o u r s e F i t I n t o t h e C S C u r r i c u l u m ? 19 Pr o c e s s / Pr o g r a m Al g o r i t h m Da t a s t r uc t ur e Al g o r i t h m Da t a s t r uc t ur e … … Pr o c e s s / Pr o g r a m Al g o r i t h m Al g o r i t h m Da t a s t r uc t ur e … … … … Op e r a t i n g S y s t e m Ne t w o r k OS Le a rn i n g O b j e c t i v e s By t he e nd of t he c o ur s e yo u s ho ul d 1. ha v e ma s t e r e d f unda m e n t a l c o nc e p t s in pa r a l l e l i s m 2. k no w ho w to c o ns t r uc t pa r a l l e l a l g o r i t hm s us i ng di f f e r e n t pa r a l l e l pr o g r a m m i ng pa r a di g m s (e . g . , ta s k pa r a l l e l i s m , da t a pa r a l l e l i s m ) a nd m e c ha ni s m s (e . g . , t hr e a ds , ta s k s , lo c k s, c o m m uni c a t i o n c ha nne l s ) . 3. be qua l i f i e d to re a s o n a bo ut c o r r e c t ne s s a nd pe r f o r m a nc e of pa r a l l e l a l g o r i t hm s 4. be r e a dy to i m pl e m e n t pa r a l l e l pr o g r a m s fo r re a l - wo r l d a ppl i c a t i o n ta s k s (e . g . s e a r c hi ng lar g e da t a se t s) 20 Re q u i r e m e n t s Ba s i c u n d e r s t a n d i n g o f C o m p u t e r S ci e n ce c o n ce p t s Ba s i c k n o w l e d g e o f p r o g r a m m i n g c o n ce p t s : We w i l l d o a quick re v i e w o f J a v a a n d b r i e f l y d i s c u s s J V M s Ba s i c u n d e r s t a n d i n g o f c o m p u t e r a r ch i t e ct u r e s : No d e t a i l ed kn o w l ed g e n eces s a r y ( w e w i l l c o v er s o m e) 21 Im a g e s o u r c e : ht t p : / / j o l y o n . c o . u k 22 Mo t i v a t i o n – Wh y P a r a l l e l i sm ? 24 M o o r e ’ s L a w R e c a p : T r a n s i s t o r c o u n t s d o u b l e e v e r y t w o y e a r s § Me a n s : Sma l l e r t r a n s i s t o r s = > c a n p u t mo r e o n c h i p = > c o mp u t a t i o n a l p o w e r g r o w s e x p o n e n t i a l l y = > y o u r se q u e n ti a l p r o g r a m a u t o m a ti c a l l y g e ts f a s t e r . § Al s o a p p l i e s t o R AM s i z e a n d p i x e l d e n s i t i e s CP U D B Mo t i v a t i o n – Wh y P a r a l l e l i sm ? 25 CP U D B W h y D o n ’ t W e K e e p I n cr e a s i n g C l o ck S p e e d s ? Tr a n s i s t o r s h a v e no t st o p p e d g e t t i n g s m a l l e r + f a st e r ( M o o r e l i v e s ) He a t a nd po w e r ha v e be c o me t he pr i ma r y c o nc e r n i n mo de r n co m p u te r a r c h i te c t u r e ! Co ns e que nc e : • S m a l l e r , m o r e e f f i c i e n t P r o c e s s o r s i n t e r m s o f p o w e r ( O p s / W a t t ) • Mo r e pr o c e sso r s – of t e n i n on e p a c k a g e 26 M a i n de s i g n c o ns t r a i n t t o da y i s po w e r § S i ng l e - Co r e CP U s: § C o m p l e x c o n t r o l h a r d w a r e § Pr o : F l e x i b i l i t y + p e r f o r m a n c e § Co n : E x p e n s i v e i n t e r m s o f p o w e r ( O p s / W a t t ) § Ma n y - Co r e / G P U s et c : § S i m p l e r c o n t r o l h a r d w a r e § Pr o : P o t e n t i a l l y m o r e p o w e r e f f i c i e n t ( O p s / W a t t ) § Co n : M o r e r e s t r i c t i v e / c o m p l e x p r o g r a m m i n g m o d e l s [ b u t u s e f u l i n m a n y d o m a i n s , e . g . d e e p l e a r n i n g ] . 27 W h a t K i n d o f P r o ce s s o r s D o W e B u i l d T h e n ? 1. M U T U A L EX CL U S I O N T hr e e st o r i e s 28 Al i ce ’ s C a t v s . B o b’ s D o g 29 A B Re q u i r e m e n t I: M ut ual Ex c lusio n ! 30 A B 31 A B Re q u i r e m e n t II: N o Lo c k o ut whe n f r e e 32 A B Com m u n ic a t ion : Ide a 1 [ Al t e rna t e ] 33 A B ca tdo g Do g i s allo w e d in y ar d A c c e s s Pr o t o c o l [ Al t e rna t e ] 34 A B ca tdo g No w c a t is allo w e d in ya r d Pr o b l e m : St ar v a t ion ! 35 A B ca tdo g on v a c a t i on Com m u n ic a t ion : Ide a 2 [ No t i fi c a t i o n ] 36 A B My p e t i s i n th e y a r d A c c e s s Pr o t o c o l 2 . 1 : I d e a 37 A B Ca t w a n t s t o ge t o u t 38 A B 39 A B Ano the r S ce na ri o 40 A B Ca t w a n t s t o ge t o u t Do g w a n t s to g e t o u t 41 A B 42 A B Pr o b l e m : No Mu tu a l Ex cl usi o n ! 43 A B Ch e c k in g Flag s Tw i c e Doe s No t Hel p : D ea d l o c k ! 44 A B A c c e s s Pr o t o c o l 2 . 2 45 A B Ca t w a n t s t o ge t o u t 46 A B 47 A B 48 A B 49 A B Do g w a n t s to g e t o u t 50 A B 51 A B A c c e s s Pr o t o c o l 2 . 2 i s p r o v a b l y c o r r e c t 52 A B M i n o r ( ? ) Pr o b l e m s : L i v e l o c k , S t a r v a t i o n 53 A B Fin al Solu t ion 54 A B ca tdo g do g g o e s fir s t Fin al Solu t ion 55 A B ca tdo g Do g w a n t s to g e t o u t Ca t w a n t s t o ge t o u t Fin al Solu t ion 56 A B ca tdo g Fin al Solu t ion 57 A B ca tdo g Fin al Solu t ion 58 A B ca tdo g Fin al Solu t ion 59 A B ca tdo g Ne x t ti m e c a t go e s f i r s t S t i l l : G e n e r a l Pr o b l e m o f W a i t i n g . . . 60 A B 2. PR OD U CER - CO N S U M E R T hr e e st o r i e s 61 Pr o d u c e r - Con su m e r 62 A B Pr o d u c e r - Con su m e r 63 A B Ru l es 64 A B 65 A B 66 A B Com m u n ic a t ion 67 A B Fo o d i s em p t y Pr o t o c o l 68 A B 69 A B no t a n y mo r e 70 A B 71 A B Em pty ag ain Oh d e a r ... 3. RE A D ER S - WR I T E R S T hr e e st o r i e s 7273 A B PE T PE T 74 A B LO V E S PE T LO V E S 75 A B HAM PE T LO V E S 76 A B I PE T LO V E S 77 A B HA T E PE T LO V E S 78 A B SA L A D PE T LO V E S SA L A D Th e b a d n e w s § Re a l i t y o f p a r a l l e l c o m p u t i n g i s mu c h mo r e c o mp lic a t e d th a n th i s . § T h e r e s u l t s o f o n e a c t i o n , s u c h a s t h e l i f t i n g o f a f l a g b y o n e t h r e a d , c a n b e c o m e v i s i b l e b y o t h e r t h r e a d s d e l a y e d o r e v e n i n d i f f e r e n t o r d e r , ma ki n g th e a f or e me n ti on e d p r ot oc ol s e v e n mor e tr i c ky . § Pr e ci s e r e a s o n s w i l l b e c o m e cl e a r m u ch l a t e r i n y o u r s t u d i e s . Bu t w e w i l l unde r s t a nd c o nse que nc e s i n t he l e c t ur e s l a t e r . 79 Th e g ood n e w s § On p ar alle l h ar d w ar e w e w ill fin d an in t e r e s t in g t o o l t o d e al w it h lo w le v e l c o n c u r r e n c y is s u e s . § Th e r e i s s u f f i c i e n t ab s tr acti o n in t h e pr o g r a m m i ng m o de l s of d i f f e r e n t pr o g r a m m i ng l a ng ua g e s. § L a t e r o n , w e w i l l n o t r e a l l y h a v e t o d e a l w i t h s u c h l o w l e v e l c o n c u r r e n c y is s u e s . B u t w e s h o u ld h a v e u n d e r s t o o d t h e m o n c e . 80 La ngua g e La nds c a pe C , C + + J a v a , K o t l i n , C # P y t h o n , R u b y , P e r l G o , R u s t H a s k e l l , OCam l J a v a S c r i p t , T y p e S c r i p t S w i f t , D a r t … 81 Wh y u s e Ja v a ? Is u b i q u i t o u s ( s e e o r a c l e i n s t a l l e r ) • Ma n y ( v e r y use f ul ) l i br a r i e s • Ex c e lle n t o n lin e t u t o r ials & b o o k s Pa r a l l e l i s m i s w e l l s u p p o r t e d • In t h e l a n gu a g e a n d v i a f r a m e w o r k s I n t e r o p e r a b l e w i t h m o d e r n J VM l a n g u a g e s • E . g . , Ak k a fr am e w o r k Y e t , n o t p e r f e c t • T e n d s t o b e v e r b o s e , l o t s o f b o i l e r p l a t e c o d e 82 I n t r o d u c t i o n t o J a v a Pr o g r a m m i n g § I n t r o d u c t i o n t o J a v a P r o g r a m m i n g , 2014. § Da n i e l L i a n g . § IS B N - 13: 9780133813463 § Ch a p t e r s 1 - 13 ( w i t h so m e omi s s i on s ) § We e k 1 - 3 83 J a v a C o n c u r r e n c y i n Pr a c t i c e § J a v a C o n c u r r e n c y i n P r a c t i c e , 2 0 0 6 . § B r i a n G o e t z , T i m Pe i e r l s , J o s h u a B l o c h , J o s e p h Bo w b e e r , D a v i d H o l m e s , D o u g L e a . § IS B N - 13: 9780321349606 § We e k 4 - 9 84 Th e or y a n d b e y on d • Fu n d a m e n t a l t r e a t m e n t o f co n c u r r e n c y • In p a r t i c u l a r t h e \" P r i n c i p l e s \" p a r t i s uni que • No t e a s y • In t h i s c o u r s e § T h e o r y o f c o n c u rr e n c y § Be h i n d l o c k s § Lo c k - fr ee p r o g r a m m i n g 85","libVersion":"0.3.1","langs":""}