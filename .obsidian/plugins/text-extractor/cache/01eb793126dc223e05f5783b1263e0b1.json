{"path":"sem4/CN/UE/s/CN-u01-s.pdf","text":"Exercise 1: Overview Question 1: Packet vs Circuit Switching Suppose you are recruited to improve the current Internet. You think about changing all the Internet to circuit-switching (instead of packet-switching). 1. Which application would mostly benefit from this change? Which wont? 2. You know from external sources that most of the transmitted traffic is video streaming. Would circuit switching be more beneficial in this case? 3. Can you think of applications that could benefit from a mixed (circuit and packet-switching) approach? Solution: 1. Applications that could benefit from circuit-switching are those that have a constant (or almost constant) bandwidth requirement, and tight latency constraints: for example, video streaming and phone calls (VoIP). These applications have in common that they need to keep transmitting at least a certain amount of data to be compliant with what the users expect. On the other hand, applications such as web traffic (HTTP) or email transfer are better suited for packet-switching, as they are bursty and are not required to keep strict schedules. Implementing applications such as this in a circuit-switched manner would be wasteful and not improve the quality of experience of the users. 2. Yes! Circuit switching is beneficial for video streaming as it can, when successfully established, guarantee a stable connection with constant band- width available. This is perfect for video streaming where users want to watch without interruption or delays. However note that reserving a stable connection for circuit switching in a large network is a very challenging task. Also note that current implementations of Video Stream plattforms (e.g. Netflix, Youtube,..) are designed and optimized for packet switching of todays internet. 3. A mix of circuit-switching and packet-switching could be considered a middle ground between being wasteful and not not giving any guarantees; for example, live streaming could send part of the information (minimum to make the system work) using a circuit, and send extra information that could improve quality in case the network is not too busy. Question 2: Cloud Services Making use of cloud services instead of own networking infrastructure has become increasingly popular, especially among small- to medium-sized companies not in the IT field (i.e., a company selling items online). Which problems would such a company have to face when trying to use their own infrastructure. Think about (a) handling peak usage, (b) providing global quality of service, and (c) maintenance. How do cloud services ameliorate these issues? 1 Solution: Possible reasons: • Lack of statistical multiplexing ability: A company has certain periods of massive amounts of shoppers visiting their website, e.g. on Black Friday. If the company would have to build a network to handle this peak load (as they would lose revenue if they did not), the network would remain severely underutilized during the remainder of time. In general, in order to facilitate growth, a first expensive initial purchase of equipment has to be made: in cloud-services you can scale on-demand. • Locality: The company’s infrastructure would need good Internet access and manage content distribution on a world-wide scale. Buying small amounts of infrastructure and deploying/growing it globally is infeasible. Cloud services already have presence around the world and offer the rental of small amount of infrastructure. • Maintenance: Maintaining and operating data centers (across the globe) is highly specialized labor that a non-technical company does not possess. Cloud service companies (i.e., Amazon AWS) are specialized in maintaining large network infrastructure, as it’s its core business. Question 3. Provisioning Assume that N users share the same up-link to their Internet Service Provider. The link capacity is C Mbps. When online, a user will require U Mbps bandwidth. The probability of a user being online at any point in time is Ponline independent of other users. Question 3.1 In closed form, what is the probability Pinadequate that there is not enough available link capacity to fully satisfy the needs of the online users? Hint: Say X is the amount of users online. Think about the distribution of X Solution: Let’s say the amount of discrete users online is X. Because the probability of a user being online is independent from other users, X follows a binomial distribution: P (X = x) = Bin(x; Ponline, N ) The probability of being inadequate is when X > f loor( C U ), i.e. when the demands of the users exceed the available link capacity. From this follows: Pinadequate = P (X > f loor( C U )) = N∑ i=f loor( C U )+1 Bin(i; Ponline, N ) 2 Question 3.2 For N=5 users, C=20 Mbps, U=7 Mbps, and Ponline = 0.3: what is is the probability Pinadequate of the link being inadequate? Hint: You might use some of these values: Binomial probabilities Bin(i = 1;P = 0.3 , N = 5) = 0.36015 Bin(i = 2;P = 0.3 , N = 5) = 0.3087 Bin(i = 3;P = 0.3 , N = 5) = 0.1323 Bin(i = 4;P = 0.3 , N = 5) = 0.02835 Bin(i = 5;P = 0.3 , N = 5) = 0.00243 Solution: f loor( C U ) = f loor( 20 7 ) = 2Pinadequate = 5∑ i=3 Bin(i; 0.3, 5) = 0.16308 Question 3.3 Assume you are a network engineer at the Internet Service provider. Using a link with smaller capacity C is way cheaper and profitable for your company. You can probably get away without provisioning for peak usage (having enough bandwidth to handle all users at the same time, i.e. C = N · U ). However you want to keep the risk of the link being inadequate Pinadequate smaller than Pmax.risk. Given (N, U, Ponline, Pmax.risk) we want to know: what is the minimum C such that Pinadequate ≤ Pmax.risk? Complete the algorithm below that computes the minimum C: Algorithm template Solution: The problem statement is: 3 Pinadequate = N∑ i=f loor( C U )+1 Bin(i; Ponline, N ) ≤ Pmax.risk Insights: • Because of the floor and summation, there is no continuous analytic solution for C ; • Bin(i, Ponline) is independent of the choice of C, and 0 ≤ i ≤ N ; • i = f loor( C U ) + 1, so we only need to test C as multiples of U. Any capacity less than U added to the multiple of U will not allow us to have more users| simultaneously online. Algorithm: Algorithm solution Question 3.4 (optional) Implement the algorithm of Q3.3 in a language of your choosing. For N = 130 users, U = 4 Mbps, and Ponline = 0.2: what is the minimum link capacity Cmin needed such that Pinadequate ≤ 0.01? Solution: Cmin = 148 Algorithm in Java: package com.example.workspace.xpt.networks2018; import java.math.BigDecimal; import java.math.BigInteger; 4 public class Exercise1 { public static void main(String args[]) { BigInteger N = BigInteger.valueOf(130); BigDecimal U = BigDecimal.valueOf(4); BigDecimal POnline = BigDecimal.valueOf(0.2); BigDecimal PMaxRisk = BigDecimal.valueOf(0.01); System.out.println(calculateCMin(N, U, POnline, PMaxRisk)); } private static BigDecimal calculateCMin(BigInteger N, BigDecimal U, BigDecimal POnline, BigDecimal PMaxRisk) { BigDecimal sum = BigDecimal.ZERO; for (int i = 0; i <= N.intValue(); i++) { sum = sum.add(binomialPMF(BigInteger.valueOf(i), N, POnline)); if (sum.compareTo(BigDecimal.ONE.subtract(PMaxRisk)) >= 0) { return U.multiply(BigDecimal.valueOf(i)); } } return null; } private static BigDecimal binomialPMF(BigInteger kBI, BigInteger nBI, BigDecimal pBD) { return new BigDecimal(factorial(nBI)) .divide(new BigDecimal(factorial(kBI).multiply(factorial(nBI.subtract(kBI))))) .multiply(pBD.pow(kBI.intValue())) .multiply(BigDecimal.ONE.subtract(pBD).pow(nBI.subtract(kBI).intValue())); } private static BigInteger factorial(BigInteger i) { if (i.equals(BigInteger.ZERO)) { return BigInteger.ONE; } else { return i.multiply(factorial(i.subtract(BigInteger.ONE))); } } } Question 4: Queuing delay Suppose N packets are enqueued at a interface at the same time. Upon arrival of the packets, the queue is empty, and nothing is being transmitted currently. All packets are of size S and the transmission rate of the link is R. 1. What is the queueing delay for the first packet? 2. What is the queueing delay for the 5 n-th packet? 3. What is the average queuing delay for the N packets? Solution: The queuing delay is 0 for the first packet, S R for the second (while the first is being sent); for the n-th packet, the delay is (n − 1) S R . Hence, the average for N packets is: ( S R + 2S R + 3S R + 4S R + ...)/N = S RN N −1∑ i=1 i = S RN N (N − 1) 2 = S(N − 1) 2R Question 5: Throughput in a Network In this exercise you will calculate the throughput in a network and the time it takes to send a file over this network. We will neglect any sort of delay and focus solely on the transmission rates of links. We will further assume that the server and the client in the picture below are the only ones communicating on the network and therefore congestion (and therefore packet loss) is also irrelevant. Maximum flow answer template 1. The diagram below shows the capacities for each link in Mbps. Compute the throughput of this network also in Mbps. 2. Assuming this network is much larger and more complex, is there a way to systematically compute the throughput? 3. Given a file F of size 19 million bits. How long does it take to transmit the whole file (again, neglecting any delay except for transmission delay)? Solution: 1. The throughput is given by the maximum flow, which is 5Mbps. 6 Maximum flow solution 2. This corresponds to finding the max flow in a graph and can be systemati- cally solved using for example Ford Fulkerson. See https://en.wikipedia. org/wiki/Ford%E2%80%93Fulkerson_algorithm 3. The throughput of the network is 5Mbps and the file has F = 19 ∗ 10 6 bits. Dividing F/R yields 3.8s. Question 6: DSL Still today many homes use a DSL connection to connect to the internet. 1. Short Questions: • Which infrastructure does DSL use? 1. television infrastructure 2. telephone infrastructure 3. its own infrastructure 4. other • Is the DSL connection symmetric (i.e., the upload and download stream have different bandwidths)? If not, briefly explain why. 1. Yes 2. No. The download connection has higher bandwidth 3. No. The upload connection has higher bandwidth 2. Assume you are running a business that provides a content service to your customers over the internet. Is making use of a DSL connection a good idea? Why or why not? 3. In recent years, fiber optic connections to the home (FTTH) have gained in popularity. FTTH can deliver up to Gbps rates. Name two reasons why this technology has not become the most prevalent yet. Solution: 1. • DSL uses existing telephone infrastructure 7 • The download connection has higher bandwidth, by a multiplicative factor. These home connections are optimized for the type of usage that on average occurs on them. For an average home connection the amount of data that is downloaded is substantially larger than the data that is uploaded. The reason for this is that requests for data such as homepages or even videos are many times smaller than the data that is being requested, at least if we look at the average request and data size. A good example is when a client wants to load a webpage which can nowadays easily be multiple MB large while the request for this webpage is a single one lined request. (The same applies to the original use of cable, which is broadcasting television.) 2. If you are a content provider many requests for data are sent to you, which uses your download speed. However, as a content provider, you will need to send significantly more data to the customer/user as a response, which uses your upload connection. As we have mentioned in previous question, these connection usually have a higher download bandwidth than upload bandwidth and that the data is (usually) larger than the requests. Therefore for a content provider such a asymmetric connection is matched exactly in the incorrect direction, the data has to be sent through the low bandwidth (upload) connection and the request come in through the high bandwidth connection (download). For this reason businesses often use different offerings from their respective ISPs than consumers. 3. FTTH requires, as the name suggests, fiber optic cables, which are not laid in most older homes and are expensive to do so. Also new technologies have sped up DSL and cable, offering higher up- and download rates than the original protocols. Question 7: Peak & average transmission rate: Assume a client transmits data with the following transmission rate over time. Give all results with respect to m and k Transmission rate over time 8 1. What is the peak rate P ? 2. What is the average rate A ? 3. Assume circuit switching. In order to transmit all of the data correctly without delays. What is the minimal bandwidth R that must be reserved? 4. What is the utilization of this connection? Hint: The utilization is defined as A/R 5. Given that the P/A is large (≫ 1). Which approach gives better perfor- mance?: • packet switching • circuit switching • both give the same performance Solution: 1. P = m + k. The peak rate is the highest rate overall 2. A = m. The “average rate” equals “average transmission rate over time”. Inspecting the graph one can see that the increase in transmission rate is followed by a symmetrical decrease. Therefore the average rate is not influenced by the changes. 3. One must have enough bandwidth to handle the highest transmission rate overall, so R = P 4. A/R = A/P = m/(m + k) 5. Packet switching. If P/A is large we know that A < P . When the peak is way higher than the average we get a very small utilization of the channel which is not performant. Packet switching is more performant as it does not require to reserve the a bandwidth of P during the whole connection. 9","libVersion":"0.5.0","langs":""}