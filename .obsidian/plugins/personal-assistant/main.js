/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var A_=Object.create;var ds=Object.defineProperty;var D_=Object.getOwnPropertyDescriptor;var T_=Object.getOwnPropertyNames;var M_=Object.getPrototypeOf,O_=Object.prototype.hasOwnProperty;var P_=(n,t,e)=>t in n?ds(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var pt=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),F_=(n,t)=>{for(var e in t)ds(n,e,{get:t[e],enumerable:!0})},Gc=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of T_(t))!O_.call(n,s)&&s!==e&&ds(n,s,{get:()=>t[s],enumerable:!(i=D_(t,s))||i.enumerable});return n};var fs=(n,t,e)=>(e=n!=null?A_(M_(n)):{},Gc(t||!n||!n.__esModule?ds(e,"default",{value:n,enumerable:!0}):e,n)),R_=n=>Gc(ds({},"__esModule",{value:!0}),n);var at=(n,t,e)=>(P_(n,typeof t!="symbol"?t+"":t,e),e);var ra=pt((sa,Mi)=>{(function(n,t){typeof sa=="object"&&typeof Mi!="undefined"?Mi.exports=t():typeof define=="function"&&define.amd?define(t):n.moment=t()})(sa,function(){"use strict";var n;function t(){return n.apply(null,arguments)}function e(l){n=l}function i(l){return l instanceof Array||Object.prototype.toString.call(l)==="[object Array]"}function s(l){return l!=null&&Object.prototype.toString.call(l)==="[object Object]"}function r(l,h){return Object.prototype.hasOwnProperty.call(l,h)}function o(l){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(l).length===0;var h;for(h in l)if(r(l,h))return!1;return!0}function a(l){return l===void 0}function c(l){return typeof l=="number"||Object.prototype.toString.call(l)==="[object Number]"}function u(l){return l instanceof Date||Object.prototype.toString.call(l)==="[object Date]"}function d(l,h){var m=[],y,k=l.length;for(y=0;y<k;++y)m.push(h(l[y],y));return m}function f(l,h){for(var m in h)r(h,m)&&(l[m]=h[m]);return r(h,"toString")&&(l.toString=h.toString),r(h,"valueOf")&&(l.valueOf=h.valueOf),l}function p(l,h,m,y){return Ec(l,h,m,y,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function _(l){return l._pf==null&&(l._pf=g()),l._pf}var b;Array.prototype.some?b=Array.prototype.some:b=function(l){var h=Object(this),m=h.length>>>0,y;for(y=0;y<m;y++)if(y in h&&l.call(this,h[y],y,h))return!0;return!1};function w(l){if(l._isValid==null){var h=_(l),m=b.call(h.parsedDateParts,function(k){return k!=null}),y=!isNaN(l._d.getTime())&&h.overflow<0&&!h.empty&&!h.invalidEra&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&m);if(l._strict&&(y=y&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(l))l._isValid=y;else return y}return l._isValid}function S(l){var h=p(NaN);return l!=null?f(_(h),l):_(h).userInvalidated=!0,h}var C=t.momentProperties=[],E=!1;function F(l,h){var m,y,k,O=C.length;if(a(h._isAMomentObject)||(l._isAMomentObject=h._isAMomentObject),a(h._i)||(l._i=h._i),a(h._f)||(l._f=h._f),a(h._l)||(l._l=h._l),a(h._strict)||(l._strict=h._strict),a(h._tzm)||(l._tzm=h._tzm),a(h._isUTC)||(l._isUTC=h._isUTC),a(h._offset)||(l._offset=h._offset),a(h._pf)||(l._pf=_(h)),a(h._locale)||(l._locale=h._locale),O>0)for(m=0;m<O;m++)y=C[m],k=h[y],a(k)||(l[y]=k);return l}function M(l){F(this,l),this._d=new Date(l._d!=null?l._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),E===!1&&(E=!0,t.updateOffset(this),E=!1)}function P(l){return l instanceof M||l!=null&&l._isAMomentObject!=null}function R(l){t.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+l)}function N(l,h){var m=!0;return f(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,l),m){var y=[],k,O,U,ht=arguments.length;for(O=0;O<ht;O++){if(k="",typeof arguments[O]=="object"){k+=`
[`+O+"] ";for(U in arguments[0])r(arguments[0],U)&&(k+=U+": "+arguments[0][U]+", ");k=k.slice(0,-2)}else k=arguments[O];y.push(k)}R(l+`
Arguments: `+Array.prototype.slice.call(y).join("")+`
`+new Error().stack),m=!1}return h.apply(this,arguments)},h)}var Y={};function T(l,h){t.deprecationHandler!=null&&t.deprecationHandler(l,h),Y[l]||(R(h),Y[l]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function I(l){return typeof Function!="undefined"&&l instanceof Function||Object.prototype.toString.call(l)==="[object Function]"}function x(l){var h,m;for(m in l)r(l,m)&&(h=l[m],I(h)?this[m]=h:this["_"+m]=h);this._config=l,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function H(l,h){var m=f({},l),y;for(y in h)r(h,y)&&(s(l[y])&&s(h[y])?(m[y]={},f(m[y],l[y]),f(m[y],h[y])):h[y]!=null?m[y]=h[y]:delete m[y]);for(y in l)r(l,y)&&!r(h,y)&&s(l[y])&&(m[y]=f({},m[y]));return m}function lt(l){l!=null&&this.set(l)}var V;Object.keys?V=Object.keys:V=function(l){var h,m=[];for(h in l)r(l,h)&&m.push(h);return m};var rt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function X(l,h,m){var y=this._calendar[l]||this._calendar.sameElse;return I(y)?y.call(h,m):y}function ot(l,h,m){var y=""+Math.abs(l),k=h-y.length,O=l>=0;return(O?m?"+":"":"-")+Math.pow(10,Math.max(0,k)).toString().substr(1)+y}var W=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ut={},tt={};function $(l,h,m,y){var k=y;typeof y=="string"&&(k=function(){return this[y]()}),l&&(tt[l]=k),h&&(tt[h[0]]=function(){return ot(k.apply(this,arguments),h[1],h[2])}),m&&(tt[m]=function(){return this.localeData().ordinal(k.apply(this,arguments),l)})}function Et(l){return l.match(/\[[\s\S]/)?l.replace(/^\[|\]$/g,""):l.replace(/\\/g,"")}function Nt(l){var h=l.match(W),m,y;for(m=0,y=h.length;m<y;m++)tt[h[m]]?h[m]=tt[h[m]]:h[m]=Et(h[m]);return function(k){var O="",U;for(U=0;U<y;U++)O+=I(h[U])?h[U].call(k,l):h[U];return O}}function gt(l,h){return l.isValid()?(h=xt(h,l.localeData()),ut[h]=ut[h]||Nt(h),ut[h](l)):l.localeData().invalidDate()}function xt(l,h){var m=5;function y(k){return h.longDateFormat(k)||k}for(z.lastIndex=0;m>=0&&z.test(l);)l=l.replace(z,y),z.lastIndex=0,m-=1;return l}var Gt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function zt(l){var h=this._longDateFormat[l],m=this._longDateFormat[l.toUpperCase()];return h||!m?h:(this._longDateFormat[l]=m.match(W).map(function(y){return y==="MMMM"||y==="MM"||y==="DD"||y==="dddd"?y.slice(1):y}).join(""),this._longDateFormat[l])}var Fe="Invalid date";function Ee(){return this._invalidDate}var v="%d",q=/\d{1,2}/;function j(l){return this._ordinal.replace("%d",l)}var D={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function A(l,h,m,y){var k=this._relativeTime[m];return I(k)?k(l,h,m,y):k.replace(/%d/i,l)}function L(l,h){var m=this._relativeTime[l>0?"future":"past"];return I(m)?m(h):m.replace(/%s/i,h)}var Z={};function G(l,h){var m=l.toLowerCase();Z[m]=Z[m+"s"]=Z[h]=l}function B(l){return typeof l=="string"?Z[l]||Z[l.toLowerCase()]:void 0}function Q(l){var h={},m,y;for(y in l)r(l,y)&&(m=B(y),m&&(h[m]=l[y]));return h}var et={};function J(l,h){et[l]=h}function dt(l){var h=[],m;for(m in l)r(l,m)&&h.push({unit:m,priority:et[m]});return h.sort(function(y,k){return y.priority-k.priority}),h}function Ct(l){return l%4===0&&l%100!==0||l%400===0}function mt(l){return l<0?Math.ceil(l)||0:Math.floor(l)}function ft(l){var h=+l,m=0;return h!==0&&isFinite(h)&&(m=mt(h)),m}function Re(l,h){return function(m){return m!=null?(Fn(this,l,m),t.updateOffset(this,h),this):ae(this,l)}}function ae(l,h){return l.isValid()?l._d["get"+(l._isUTC?"UTC":"")+h]():NaN}function Fn(l,h,m){l.isValid()&&!isNaN(m)&&(h==="FullYear"&&Ct(l.year())&&l.month()===1&&l.date()===29?(m=ft(m),l._d["set"+(l._isUTC?"UTC":"")+h](m,l.month(),sr(m,l.month()))):l._d["set"+(l._isUTC?"UTC":"")+h](m))}function Wt(l){return l=B(l),I(this[l])?this[l]():this}function wi(l,h){if(typeof l=="object"){l=Q(l);var m=dt(l),y,k=m.length;for(y=0;y<k;y++)this[m[y].unit](l[m[y].unit])}else if(l=B(l),I(this[l]))return this[l](h);return this}var xi=/\d/,$t=/\d\d/,es=/\d{3}/,ns=/\d{4}/,ki=/[+-]?\d{6}/,Ot=/\d\d?/,is=/\d\d\d\d?/,Rn=/\d\d\d\d\d\d?/,on=/\d{1,3}/,zo=/\d{1,4}/,tr=/[+-]?\d{1,6}/,Si=/\d+/,er=/[+-]?\d+/,Gp=/Z|[+-]\d\d:?\d\d/gi,nr=/Z|[+-]\d\d(?::?\d\d)?/gi,qp=/[+-]?\d+(\.\d{1,3})?/,ss=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ir;ir={};function st(l,h,m){ir[l]=I(h)?h:function(y,k){return y&&m?m:h}}function Zp(l,h){return r(ir,l)?ir[l](h._strict,h._locale):new RegExp(Xp(l))}function Xp(l){return Ce(l.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,m,y,k,O){return m||y||k||O}))}function Ce(l){return l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Wo={};function Tt(l,h){var m,y=h,k;for(typeof l=="string"&&(l=[l]),c(h)&&(y=function(O,U){U[h]=ft(O)}),k=l.length,m=0;m<k;m++)Wo[l[m]]=y}function rs(l,h){Tt(l,function(m,y,k,O){k._w=k._w||{},h(m,k._w,k,O)})}function Jp(l,h,m){h!=null&&r(Wo,l)&&Wo[l](h,m._a,m,l)}var se=0,an=1,qe=2,Jt=3,We=4,ln=5,Xn=6,Kp=7,Qp=8;function tg(l,h){return(l%h+h)%h}var Vt;Array.prototype.indexOf?Vt=Array.prototype.indexOf:Vt=function(l){var h;for(h=0;h<this.length;++h)if(this[h]===l)return h;return-1};function sr(l,h){if(isNaN(l)||isNaN(h))return NaN;var m=tg(h,12);return l+=(h-m)/12,m===1?Ct(l)?29:28:31-m%7%2}$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(l){return this.localeData().monthsShort(this,l)}),$("MMMM",0,0,function(l){return this.localeData().months(this,l)}),G("month","M"),J("month",8),st("M",Ot),st("MM",Ot,$t),st("MMM",function(l,h){return h.monthsShortRegex(l)}),st("MMMM",function(l,h){return h.monthsRegex(l)}),Tt(["M","MM"],function(l,h){h[an]=ft(l)-1}),Tt(["MMM","MMMM"],function(l,h,m,y){var k=m._locale.monthsParse(l,y,m._strict);k!=null?h[an]=k:_(m).invalidMonth=l});var eg="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),uc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ng=ss,ig=ss;function sg(l,h){return l?i(this._months)?this._months[l.month()]:this._months[(this._months.isFormat||hc).test(h)?"format":"standalone"][l.month()]:i(this._months)?this._months:this._months.standalone}function rg(l,h){return l?i(this._monthsShort)?this._monthsShort[l.month()]:this._monthsShort[hc.test(h)?"format":"standalone"][l.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function og(l,h,m){var y,k,O,U=l.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],y=0;y<12;++y)O=p([2e3,y]),this._shortMonthsParse[y]=this.monthsShort(O,"").toLocaleLowerCase(),this._longMonthsParse[y]=this.months(O,"").toLocaleLowerCase();return m?h==="MMM"?(k=Vt.call(this._shortMonthsParse,U),k!==-1?k:null):(k=Vt.call(this._longMonthsParse,U),k!==-1?k:null):h==="MMM"?(k=Vt.call(this._shortMonthsParse,U),k!==-1?k:(k=Vt.call(this._longMonthsParse,U),k!==-1?k:null)):(k=Vt.call(this._longMonthsParse,U),k!==-1?k:(k=Vt.call(this._shortMonthsParse,U),k!==-1?k:null))}function ag(l,h,m){var y,k,O;if(this._monthsParseExact)return og.call(this,l,h,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),y=0;y<12;y++){if(k=p([2e3,y]),m&&!this._longMonthsParse[y]&&(this._longMonthsParse[y]=new RegExp("^"+this.months(k,"").replace(".","")+"$","i"),this._shortMonthsParse[y]=new RegExp("^"+this.monthsShort(k,"").replace(".","")+"$","i")),!m&&!this._monthsParse[y]&&(O="^"+this.months(k,"")+"|^"+this.monthsShort(k,""),this._monthsParse[y]=new RegExp(O.replace(".",""),"i")),m&&h==="MMMM"&&this._longMonthsParse[y].test(l))return y;if(m&&h==="MMM"&&this._shortMonthsParse[y].test(l))return y;if(!m&&this._monthsParse[y].test(l))return y}}function dc(l,h){var m;if(!l.isValid())return l;if(typeof h=="string"){if(/^\d+$/.test(h))h=ft(h);else if(h=l.localeData().monthsParse(h),!c(h))return l}return m=Math.min(l.date(),sr(l.year(),h)),l._d["set"+(l._isUTC?"UTC":"")+"Month"](h,m),l}function fc(l){return l!=null?(dc(this,l),t.updateOffset(this,!0),this):ae(this,"Month")}function lg(){return sr(this.year(),this.month())}function cg(l){return this._monthsParseExact?(r(this,"_monthsRegex")||pc.call(this),l?this._monthsShortStrictRegex:this._monthsShortRegex):(r(this,"_monthsShortRegex")||(this._monthsShortRegex=ng),this._monthsShortStrictRegex&&l?this._monthsShortStrictRegex:this._monthsShortRegex)}function ug(l){return this._monthsParseExact?(r(this,"_monthsRegex")||pc.call(this),l?this._monthsStrictRegex:this._monthsRegex):(r(this,"_monthsRegex")||(this._monthsRegex=ig),this._monthsStrictRegex&&l?this._monthsStrictRegex:this._monthsRegex)}function pc(){function l(U,ht){return ht.length-U.length}var h=[],m=[],y=[],k,O;for(k=0;k<12;k++)O=p([2e3,k]),h.push(this.monthsShort(O,"")),m.push(this.months(O,"")),y.push(this.months(O,"")),y.push(this.monthsShort(O,""));for(h.sort(l),m.sort(l),y.sort(l),k=0;k<12;k++)h[k]=Ce(h[k]),m[k]=Ce(m[k]);for(k=0;k<24;k++)y[k]=Ce(y[k]);this._monthsRegex=new RegExp("^("+y.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}$("Y",0,0,function(){var l=this.year();return l<=9999?ot(l,4):"+"+l}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),G("year","y"),J("year",1),st("Y",er),st("YY",Ot,$t),st("YYYY",zo,ns),st("YYYYY",tr,ki),st("YYYYYY",tr,ki),Tt(["YYYYY","YYYYYY"],se),Tt("YYYY",function(l,h){h[se]=l.length===2?t.parseTwoDigitYear(l):ft(l)}),Tt("YY",function(l,h){h[se]=t.parseTwoDigitYear(l)}),Tt("Y",function(l,h){h[se]=parseInt(l,10)});function os(l){return Ct(l)?366:365}t.parseTwoDigitYear=function(l){return ft(l)+(ft(l)>68?1900:2e3)};var gc=Re("FullYear",!0);function hg(){return Ct(this.year())}function dg(l,h,m,y,k,O,U){var ht;return l<100&&l>=0?(ht=new Date(l+400,h,m,y,k,O,U),isFinite(ht.getFullYear())&&ht.setFullYear(l)):ht=new Date(l,h,m,y,k,O,U),ht}function as(l){var h,m;return l<100&&l>=0?(m=Array.prototype.slice.call(arguments),m[0]=l+400,h=new Date(Date.UTC.apply(null,m)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(l)):h=new Date(Date.UTC.apply(null,arguments)),h}function rr(l,h,m){var y=7+h-m,k=(7+as(l,0,y).getUTCDay()-h)%7;return-k+y-1}function mc(l,h,m,y,k){var O=(7+m-y)%7,U=rr(l,y,k),ht=1+7*(h-1)+O+U,bt,Mt;return ht<=0?(bt=l-1,Mt=os(bt)+ht):ht>os(l)?(bt=l+1,Mt=ht-os(l)):(bt=l,Mt=ht),{year:bt,dayOfYear:Mt}}function ls(l,h,m){var y=rr(l.year(),h,m),k=Math.floor((l.dayOfYear()-y-1)/7)+1,O,U;return k<1?(U=l.year()-1,O=k+cn(U,h,m)):k>cn(l.year(),h,m)?(O=k-cn(l.year(),h,m),U=l.year()+1):(U=l.year(),O=k),{week:O,year:U}}function cn(l,h,m){var y=rr(l,h,m),k=rr(l+1,h,m);return(os(l)-y+k)/7}$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),G("week","w"),G("isoWeek","W"),J("week",5),J("isoWeek",5),st("w",Ot),st("ww",Ot,$t),st("W",Ot),st("WW",Ot,$t),rs(["w","ww","W","WW"],function(l,h,m,y){h[y.substr(0,1)]=ft(l)});function fg(l){return ls(l,this._week.dow,this._week.doy).week}var pg={dow:0,doy:6};function gg(){return this._week.dow}function mg(){return this._week.doy}function _g(l){var h=this.localeData().week(this);return l==null?h:this.add((l-h)*7,"d")}function bg(l){var h=ls(this,1,4).week;return l==null?h:this.add((l-h)*7,"d")}$("d",0,"do","day"),$("dd",0,0,function(l){return this.localeData().weekdaysMin(this,l)}),$("ddd",0,0,function(l){return this.localeData().weekdaysShort(this,l)}),$("dddd",0,0,function(l){return this.localeData().weekdays(this,l)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),G("day","d"),G("weekday","e"),G("isoWeekday","E"),J("day",11),J("weekday",11),J("isoWeekday",11),st("d",Ot),st("e",Ot),st("E",Ot),st("dd",function(l,h){return h.weekdaysMinRegex(l)}),st("ddd",function(l,h){return h.weekdaysShortRegex(l)}),st("dddd",function(l,h){return h.weekdaysRegex(l)}),rs(["dd","ddd","dddd"],function(l,h,m,y){var k=m._locale.weekdaysParse(l,y,m._strict);k!=null?h.d=k:_(m).invalidWeekday=l}),rs(["d","e","E"],function(l,h,m,y){h[y]=ft(l)});function yg(l,h){return typeof l!="string"?l:isNaN(l)?(l=h.weekdaysParse(l),typeof l=="number"?l:null):parseInt(l,10)}function vg(l,h){return typeof l=="string"?h.weekdaysParse(l)%7||7:isNaN(l)?null:l}function $o(l,h){return l.slice(h,7).concat(l.slice(0,h))}var wg="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_c="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xg="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),kg=ss,Sg=ss,Eg=ss;function Cg(l,h){var m=i(this._weekdays)?this._weekdays:this._weekdays[l&&l!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return l===!0?$o(m,this._week.dow):l?m[l.day()]:m}function Ag(l){return l===!0?$o(this._weekdaysShort,this._week.dow):l?this._weekdaysShort[l.day()]:this._weekdaysShort}function Dg(l){return l===!0?$o(this._weekdaysMin,this._week.dow):l?this._weekdaysMin[l.day()]:this._weekdaysMin}function Tg(l,h,m){var y,k,O,U=l.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],y=0;y<7;++y)O=p([2e3,1]).day(y),this._minWeekdaysParse[y]=this.weekdaysMin(O,"").toLocaleLowerCase(),this._shortWeekdaysParse[y]=this.weekdaysShort(O,"").toLocaleLowerCase(),this._weekdaysParse[y]=this.weekdays(O,"").toLocaleLowerCase();return m?h==="dddd"?(k=Vt.call(this._weekdaysParse,U),k!==-1?k:null):h==="ddd"?(k=Vt.call(this._shortWeekdaysParse,U),k!==-1?k:null):(k=Vt.call(this._minWeekdaysParse,U),k!==-1?k:null):h==="dddd"?(k=Vt.call(this._weekdaysParse,U),k!==-1||(k=Vt.call(this._shortWeekdaysParse,U),k!==-1)?k:(k=Vt.call(this._minWeekdaysParse,U),k!==-1?k:null)):h==="ddd"?(k=Vt.call(this._shortWeekdaysParse,U),k!==-1||(k=Vt.call(this._weekdaysParse,U),k!==-1)?k:(k=Vt.call(this._minWeekdaysParse,U),k!==-1?k:null)):(k=Vt.call(this._minWeekdaysParse,U),k!==-1||(k=Vt.call(this._weekdaysParse,U),k!==-1)?k:(k=Vt.call(this._shortWeekdaysParse,U),k!==-1?k:null))}function Mg(l,h,m){var y,k,O;if(this._weekdaysParseExact)return Tg.call(this,l,h,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),y=0;y<7;y++){if(k=p([2e3,1]).day(y),m&&!this._fullWeekdaysParse[y]&&(this._fullWeekdaysParse[y]=new RegExp("^"+this.weekdays(k,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[y]=new RegExp("^"+this.weekdaysShort(k,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[y]=new RegExp("^"+this.weekdaysMin(k,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[y]||(O="^"+this.weekdays(k,"")+"|^"+this.weekdaysShort(k,"")+"|^"+this.weekdaysMin(k,""),this._weekdaysParse[y]=new RegExp(O.replace(".",""),"i")),m&&h==="dddd"&&this._fullWeekdaysParse[y].test(l))return y;if(m&&h==="ddd"&&this._shortWeekdaysParse[y].test(l))return y;if(m&&h==="dd"&&this._minWeekdaysParse[y].test(l))return y;if(!m&&this._weekdaysParse[y].test(l))return y}}function Og(l){if(!this.isValid())return l!=null?this:NaN;var h=this._isUTC?this._d.getUTCDay():this._d.getDay();return l!=null?(l=yg(l,this.localeData()),this.add(l-h,"d")):h}function Pg(l){if(!this.isValid())return l!=null?this:NaN;var h=(this.day()+7-this.localeData()._week.dow)%7;return l==null?h:this.add(l-h,"d")}function Fg(l){if(!this.isValid())return l!=null?this:NaN;if(l!=null){var h=vg(l,this.localeData());return this.day(this.day()%7?h:h-7)}else return this.day()||7}function Rg(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||jo.call(this),l?this._weekdaysStrictRegex:this._weekdaysRegex):(r(this,"_weekdaysRegex")||(this._weekdaysRegex=kg),this._weekdaysStrictRegex&&l?this._weekdaysStrictRegex:this._weekdaysRegex)}function Lg(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||jo.call(this),l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(r(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Sg),this._weekdaysShortStrictRegex&&l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ig(l){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||jo.call(this),l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(r(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Eg),this._weekdaysMinStrictRegex&&l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function jo(){function l(le,pn){return pn.length-le.length}var h=[],m=[],y=[],k=[],O,U,ht,bt,Mt;for(O=0;O<7;O++)U=p([2e3,1]).day(O),ht=Ce(this.weekdaysMin(U,"")),bt=Ce(this.weekdaysShort(U,"")),Mt=Ce(this.weekdays(U,"")),h.push(ht),m.push(bt),y.push(Mt),k.push(ht),k.push(bt),k.push(Mt);h.sort(l),m.sort(l),y.sort(l),k.sort(l),this._weekdaysRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+y.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function Ho(){return this.hours()%12||12}function Ng(){return this.hours()||24}$("H",["HH",2],0,"hour"),$("h",["hh",2],0,Ho),$("k",["kk",2],0,Ng),$("hmm",0,0,function(){return""+Ho.apply(this)+ot(this.minutes(),2)}),$("hmmss",0,0,function(){return""+Ho.apply(this)+ot(this.minutes(),2)+ot(this.seconds(),2)}),$("Hmm",0,0,function(){return""+this.hours()+ot(this.minutes(),2)}),$("Hmmss",0,0,function(){return""+this.hours()+ot(this.minutes(),2)+ot(this.seconds(),2)});function bc(l,h){$(l,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}bc("a",!0),bc("A",!1),G("hour","h"),J("hour",13);function yc(l,h){return h._meridiemParse}st("a",yc),st("A",yc),st("H",Ot),st("h",Ot),st("k",Ot),st("HH",Ot,$t),st("hh",Ot,$t),st("kk",Ot,$t),st("hmm",is),st("hmmss",Rn),st("Hmm",is),st("Hmmss",Rn),Tt(["H","HH"],Jt),Tt(["k","kk"],function(l,h,m){var y=ft(l);h[Jt]=y===24?0:y}),Tt(["a","A"],function(l,h,m){m._isPm=m._locale.isPM(l),m._meridiem=l}),Tt(["h","hh"],function(l,h,m){h[Jt]=ft(l),_(m).bigHour=!0}),Tt("hmm",function(l,h,m){var y=l.length-2;h[Jt]=ft(l.substr(0,y)),h[We]=ft(l.substr(y)),_(m).bigHour=!0}),Tt("hmmss",function(l,h,m){var y=l.length-4,k=l.length-2;h[Jt]=ft(l.substr(0,y)),h[We]=ft(l.substr(y,2)),h[ln]=ft(l.substr(k)),_(m).bigHour=!0}),Tt("Hmm",function(l,h,m){var y=l.length-2;h[Jt]=ft(l.substr(0,y)),h[We]=ft(l.substr(y))}),Tt("Hmmss",function(l,h,m){var y=l.length-4,k=l.length-2;h[Jt]=ft(l.substr(0,y)),h[We]=ft(l.substr(y,2)),h[ln]=ft(l.substr(k))});function Bg(l){return(l+"").toLowerCase().charAt(0)==="p"}var zg=/[ap]\.?m?\.?/i,Wg=Re("Hours",!0);function $g(l,h,m){return l>11?m?"pm":"PM":m?"am":"AM"}var vc={calendar:rt,longDateFormat:Gt,invalidDate:Fe,ordinal:v,dayOfMonthOrdinalParse:q,relativeTime:D,months:eg,monthsShort:uc,week:pg,weekdays:wg,weekdaysMin:xg,weekdaysShort:_c,meridiemParse:zg},Bt={},cs={},us;function jg(l,h){var m,y=Math.min(l.length,h.length);for(m=0;m<y;m+=1)if(l[m]!==h[m])return m;return y}function wc(l){return l&&l.toLowerCase().replace("_","-")}function Hg(l){for(var h=0,m,y,k,O;h<l.length;){for(O=wc(l[h]).split("-"),m=O.length,y=wc(l[h+1]),y=y?y.split("-"):null;m>0;){if(k=or(O.slice(0,m).join("-")),k)return k;if(y&&y.length>=m&&jg(O,y)>=m-1)break;m--}h++}return us}function Ug(l){return l.match("^[^/\\\\]*$")!=null}function or(l){var h=null,m;if(Bt[l]===void 0&&typeof Mi!="undefined"&&Mi&&Mi.exports&&Ug(l))try{h=us._abbr,m=require,m("./locale/"+l),Ln(h)}catch(y){Bt[l]=null}return Bt[l]}function Ln(l,h){var m;return l&&(a(h)?m=un(l):m=Uo(l,h),m?us=m:typeof console!="undefined"&&console.warn&&console.warn("Locale "+l+" not found. Did you forget to load it?")),us._abbr}function Uo(l,h){if(h!==null){var m,y=vc;if(h.abbr=l,Bt[l]!=null)T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),y=Bt[l]._config;else if(h.parentLocale!=null)if(Bt[h.parentLocale]!=null)y=Bt[h.parentLocale]._config;else if(m=or(h.parentLocale),m!=null)y=m._config;else return cs[h.parentLocale]||(cs[h.parentLocale]=[]),cs[h.parentLocale].push({name:l,config:h}),null;return Bt[l]=new lt(H(y,h)),cs[l]&&cs[l].forEach(function(k){Uo(k.name,k.config)}),Ln(l),Bt[l]}else return delete Bt[l],null}function Vg(l,h){if(h!=null){var m,y,k=vc;Bt[l]!=null&&Bt[l].parentLocale!=null?Bt[l].set(H(Bt[l]._config,h)):(y=or(l),y!=null&&(k=y._config),h=H(k,h),y==null&&(h.abbr=l),m=new lt(h),m.parentLocale=Bt[l],Bt[l]=m),Ln(l)}else Bt[l]!=null&&(Bt[l].parentLocale!=null?(Bt[l]=Bt[l].parentLocale,l===Ln()&&Ln(l)):Bt[l]!=null&&delete Bt[l]);return Bt[l]}function un(l){var h;if(l&&l._locale&&l._locale._abbr&&(l=l._locale._abbr),!l)return us;if(!i(l)){if(h=or(l),h)return h;l=[l]}return Hg(l)}function Yg(){return V(Bt)}function Vo(l){var h,m=l._a;return m&&_(l).overflow===-2&&(h=m[an]<0||m[an]>11?an:m[qe]<1||m[qe]>sr(m[se],m[an])?qe:m[Jt]<0||m[Jt]>24||m[Jt]===24&&(m[We]!==0||m[ln]!==0||m[Xn]!==0)?Jt:m[We]<0||m[We]>59?We:m[ln]<0||m[ln]>59?ln:m[Xn]<0||m[Xn]>999?Xn:-1,_(l)._overflowDayOfYear&&(h<se||h>qe)&&(h=qe),_(l)._overflowWeeks&&h===-1&&(h=Kp),_(l)._overflowWeekday&&h===-1&&(h=Qp),_(l).overflow=h),l}var Gg=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qg=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zg=/Z|[+-]\d\d(?::?\d\d)?/,ar=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Yo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xg=/^\/?Date\((-?\d+)/i,Jg=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Kg={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function xc(l){var h,m,y=l._i,k=Gg.exec(y)||qg.exec(y),O,U,ht,bt,Mt=ar.length,le=Yo.length;if(k){for(_(l).iso=!0,h=0,m=Mt;h<m;h++)if(ar[h][1].exec(k[1])){U=ar[h][0],O=ar[h][2]!==!1;break}if(U==null){l._isValid=!1;return}if(k[3]){for(h=0,m=le;h<m;h++)if(Yo[h][1].exec(k[3])){ht=(k[2]||" ")+Yo[h][0];break}if(ht==null){l._isValid=!1;return}}if(!O&&ht!=null){l._isValid=!1;return}if(k[4])if(Zg.exec(k[4]))bt="Z";else{l._isValid=!1;return}l._f=U+(ht||"")+(bt||""),qo(l)}else l._isValid=!1}function Qg(l,h,m,y,k,O){var U=[tm(l),uc.indexOf(h),parseInt(m,10),parseInt(y,10),parseInt(k,10)];return O&&U.push(parseInt(O,10)),U}function tm(l){var h=parseInt(l,10);return h<=49?2e3+h:h<=999?1900+h:h}function em(l){return l.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function nm(l,h,m){if(l){var y=_c.indexOf(l),k=new Date(h[0],h[1],h[2]).getDay();if(y!==k)return _(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function im(l,h,m){if(l)return Kg[l];if(h)return 0;var y=parseInt(m,10),k=y%100,O=(y-k)/100;return O*60+k}function kc(l){var h=Jg.exec(em(l._i)),m;if(h){if(m=Qg(h[4],h[3],h[2],h[5],h[6],h[7]),!nm(h[1],m,l))return;l._a=m,l._tzm=im(h[8],h[9],h[10]),l._d=as.apply(null,l._a),l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),_(l).rfc2822=!0}else l._isValid=!1}function sm(l){var h=Xg.exec(l._i);if(h!==null){l._d=new Date(+h[1]);return}if(xc(l),l._isValid===!1)delete l._isValid;else return;if(kc(l),l._isValid===!1)delete l._isValid;else return;l._strict?l._isValid=!1:t.createFromInputFallback(l)}t.createFromInputFallback=N("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(l){l._d=new Date(l._i+(l._useUTC?" UTC":""))});function Ei(l,h,m){return l!=null?l:h!=null?h:m}function rm(l){var h=new Date(t.now());return l._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function Go(l){var h,m,y=[],k,O,U;if(!l._d){for(k=rm(l),l._w&&l._a[qe]==null&&l._a[an]==null&&om(l),l._dayOfYear!=null&&(U=Ei(l._a[se],k[se]),(l._dayOfYear>os(U)||l._dayOfYear===0)&&(_(l)._overflowDayOfYear=!0),m=as(U,0,l._dayOfYear),l._a[an]=m.getUTCMonth(),l._a[qe]=m.getUTCDate()),h=0;h<3&&l._a[h]==null;++h)l._a[h]=y[h]=k[h];for(;h<7;h++)l._a[h]=y[h]=l._a[h]==null?h===2?1:0:l._a[h];l._a[Jt]===24&&l._a[We]===0&&l._a[ln]===0&&l._a[Xn]===0&&(l._nextDay=!0,l._a[Jt]=0),l._d=(l._useUTC?as:dg).apply(null,y),O=l._useUTC?l._d.getUTCDay():l._d.getDay(),l._tzm!=null&&l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),l._nextDay&&(l._a[Jt]=24),l._w&&typeof l._w.d!="undefined"&&l._w.d!==O&&(_(l).weekdayMismatch=!0)}}function om(l){var h,m,y,k,O,U,ht,bt,Mt;h=l._w,h.GG!=null||h.W!=null||h.E!=null?(O=1,U=4,m=Ei(h.GG,l._a[se],ls(Rt(),1,4).year),y=Ei(h.W,1),k=Ei(h.E,1),(k<1||k>7)&&(bt=!0)):(O=l._locale._week.dow,U=l._locale._week.doy,Mt=ls(Rt(),O,U),m=Ei(h.gg,l._a[se],Mt.year),y=Ei(h.w,Mt.week),h.d!=null?(k=h.d,(k<0||k>6)&&(bt=!0)):h.e!=null?(k=h.e+O,(h.e<0||h.e>6)&&(bt=!0)):k=O),y<1||y>cn(m,O,U)?_(l)._overflowWeeks=!0:bt!=null?_(l)._overflowWeekday=!0:(ht=mc(m,y,k,O,U),l._a[se]=ht.year,l._dayOfYear=ht.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function qo(l){if(l._f===t.ISO_8601){xc(l);return}if(l._f===t.RFC_2822){kc(l);return}l._a=[],_(l).empty=!0;var h=""+l._i,m,y,k,O,U,ht=h.length,bt=0,Mt,le;for(k=xt(l._f,l._locale).match(W)||[],le=k.length,m=0;m<le;m++)O=k[m],y=(h.match(Zp(O,l))||[])[0],y&&(U=h.substr(0,h.indexOf(y)),U.length>0&&_(l).unusedInput.push(U),h=h.slice(h.indexOf(y)+y.length),bt+=y.length),tt[O]?(y?_(l).empty=!1:_(l).unusedTokens.push(O),Jp(O,y,l)):l._strict&&!y&&_(l).unusedTokens.push(O);_(l).charsLeftOver=ht-bt,h.length>0&&_(l).unusedInput.push(h),l._a[Jt]<=12&&_(l).bigHour===!0&&l._a[Jt]>0&&(_(l).bigHour=void 0),_(l).parsedDateParts=l._a.slice(0),_(l).meridiem=l._meridiem,l._a[Jt]=am(l._locale,l._a[Jt],l._meridiem),Mt=_(l).era,Mt!==null&&(l._a[se]=l._locale.erasConvertYear(Mt,l._a[se])),Go(l),Vo(l)}function am(l,h,m){var y;return m==null?h:l.meridiemHour!=null?l.meridiemHour(h,m):(l.isPM!=null&&(y=l.isPM(m),y&&h<12&&(h+=12),!y&&h===12&&(h=0)),h)}function lm(l){var h,m,y,k,O,U,ht=!1,bt=l._f.length;if(bt===0){_(l).invalidFormat=!0,l._d=new Date(NaN);return}for(k=0;k<bt;k++)O=0,U=!1,h=F({},l),l._useUTC!=null&&(h._useUTC=l._useUTC),h._f=l._f[k],qo(h),w(h)&&(U=!0),O+=_(h).charsLeftOver,O+=_(h).unusedTokens.length*10,_(h).score=O,ht?O<y&&(y=O,m=h):(y==null||O<y||U)&&(y=O,m=h,U&&(ht=!0));f(l,m||h)}function cm(l){if(!l._d){var h=Q(l._i),m=h.day===void 0?h.date:h.day;l._a=d([h.year,h.month,m,h.hour,h.minute,h.second,h.millisecond],function(y){return y&&parseInt(y,10)}),Go(l)}}function um(l){var h=new M(Vo(Sc(l)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function Sc(l){var h=l._i,m=l._f;return l._locale=l._locale||un(l._l),h===null||m===void 0&&h===""?S({nullInput:!0}):(typeof h=="string"&&(l._i=h=l._locale.preparse(h)),P(h)?new M(Vo(h)):(u(h)?l._d=h:i(m)?lm(l):m?qo(l):hm(l),w(l)||(l._d=null),l))}function hm(l){var h=l._i;a(h)?l._d=new Date(t.now()):u(h)?l._d=new Date(h.valueOf()):typeof h=="string"?sm(l):i(h)?(l._a=d(h.slice(0),function(m){return parseInt(m,10)}),Go(l)):s(h)?cm(l):c(h)?l._d=new Date(h):t.createFromInputFallback(l)}function Ec(l,h,m,y,k){var O={};return(h===!0||h===!1)&&(y=h,h=void 0),(m===!0||m===!1)&&(y=m,m=void 0),(s(l)&&o(l)||i(l)&&l.length===0)&&(l=void 0),O._isAMomentObject=!0,O._useUTC=O._isUTC=k,O._l=m,O._i=l,O._f=h,O._strict=y,um(O)}function Rt(l,h,m,y){return Ec(l,h,m,y,!1)}var dm=N("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Rt.apply(null,arguments);return this.isValid()&&l.isValid()?l<this?this:l:S()}),fm=N("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Rt.apply(null,arguments);return this.isValid()&&l.isValid()?l>this?this:l:S()});function Cc(l,h){var m,y;if(h.length===1&&i(h[0])&&(h=h[0]),!h.length)return Rt();for(m=h[0],y=1;y<h.length;++y)(!h[y].isValid()||h[y][l](m))&&(m=h[y]);return m}function pm(){var l=[].slice.call(arguments,0);return Cc("isBefore",l)}function gm(){var l=[].slice.call(arguments,0);return Cc("isAfter",l)}var mm=function(){return Date.now?Date.now():+new Date},hs=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _m(l){var h,m=!1,y,k=hs.length;for(h in l)if(r(l,h)&&!(Vt.call(hs,h)!==-1&&(l[h]==null||!isNaN(l[h]))))return!1;for(y=0;y<k;++y)if(l[hs[y]]){if(m)return!1;parseFloat(l[hs[y]])!==ft(l[hs[y]])&&(m=!0)}return!0}function bm(){return this._isValid}function ym(){return $e(NaN)}function lr(l){var h=Q(l),m=h.year||0,y=h.quarter||0,k=h.month||0,O=h.week||h.isoWeek||0,U=h.day||0,ht=h.hour||0,bt=h.minute||0,Mt=h.second||0,le=h.millisecond||0;this._isValid=_m(h),this._milliseconds=+le+Mt*1e3+bt*6e4+ht*1e3*60*60,this._days=+U+O*7,this._months=+k+y*3+m*12,this._data={},this._locale=un(),this._bubble()}function cr(l){return l instanceof lr}function Zo(l){return l<0?Math.round(-1*l)*-1:Math.round(l)}function vm(l,h,m){var y=Math.min(l.length,h.length),k=Math.abs(l.length-h.length),O=0,U;for(U=0;U<y;U++)(m&&l[U]!==h[U]||!m&&ft(l[U])!==ft(h[U]))&&O++;return O+k}function Ac(l,h){$(l,0,0,function(){var m=this.utcOffset(),y="+";return m<0&&(m=-m,y="-"),y+ot(~~(m/60),2)+h+ot(~~m%60,2)})}Ac("Z",":"),Ac("ZZ",""),st("Z",nr),st("ZZ",nr),Tt(["Z","ZZ"],function(l,h,m){m._useUTC=!0,m._tzm=Xo(nr,l)});var wm=/([\+\-]|\d\d)/gi;function Xo(l,h){var m=(h||"").match(l),y,k,O;return m===null?null:(y=m[m.length-1]||[],k=(y+"").match(wm)||["-",0,0],O=+(k[1]*60)+ft(k[2]),O===0?0:k[0]==="+"?O:-O)}function Jo(l,h){var m,y;return h._isUTC?(m=h.clone(),y=(P(l)||u(l)?l.valueOf():Rt(l).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+y),t.updateOffset(m,!1),m):Rt(l).local()}function Ko(l){return-Math.round(l._d.getTimezoneOffset())}t.updateOffset=function(){};function xm(l,h,m){var y=this._offset||0,k;if(!this.isValid())return l!=null?this:NaN;if(l!=null){if(typeof l=="string"){if(l=Xo(nr,l),l===null)return this}else Math.abs(l)<16&&!m&&(l=l*60);return!this._isUTC&&h&&(k=Ko(this)),this._offset=l,this._isUTC=!0,k!=null&&this.add(k,"m"),y!==l&&(!h||this._changeInProgress?Oc(this,$e(l-y,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?y:Ko(this)}function km(l,h){return l!=null?(typeof l!="string"&&(l=-l),this.utcOffset(l,h),this):-this.utcOffset()}function Sm(l){return this.utcOffset(0,l)}function Em(l){return this._isUTC&&(this.utcOffset(0,l),this._isUTC=!1,l&&this.subtract(Ko(this),"m")),this}function Cm(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var l=Xo(Gp,this._i);l!=null?this.utcOffset(l):this.utcOffset(0,!0)}return this}function Am(l){return this.isValid()?(l=l?Rt(l).utcOffset():0,(this.utcOffset()-l)%60===0):!1}function Dm(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Tm(){if(!a(this._isDSTShifted))return this._isDSTShifted;var l={},h;return F(l,this),l=Sc(l),l._a?(h=l._isUTC?p(l._a):Rt(l._a),this._isDSTShifted=this.isValid()&&vm(l._a,h.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Mm(){return this.isValid()?!this._isUTC:!1}function Om(){return this.isValid()?this._isUTC:!1}function Dc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Pm=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Fm=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $e(l,h){var m=l,y=null,k,O,U;return cr(l)?m={ms:l._milliseconds,d:l._days,M:l._months}:c(l)||!isNaN(+l)?(m={},h?m[h]=+l:m.milliseconds=+l):(y=Pm.exec(l))?(k=y[1]==="-"?-1:1,m={y:0,d:ft(y[qe])*k,h:ft(y[Jt])*k,m:ft(y[We])*k,s:ft(y[ln])*k,ms:ft(Zo(y[Xn]*1e3))*k}):(y=Fm.exec(l))?(k=y[1]==="-"?-1:1,m={y:Jn(y[2],k),M:Jn(y[3],k),w:Jn(y[4],k),d:Jn(y[5],k),h:Jn(y[6],k),m:Jn(y[7],k),s:Jn(y[8],k)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&(U=Rm(Rt(m.from),Rt(m.to)),m={},m.ms=U.milliseconds,m.M=U.months),O=new lr(m),cr(l)&&r(l,"_locale")&&(O._locale=l._locale),cr(l)&&r(l,"_isValid")&&(O._isValid=l._isValid),O}$e.fn=lr.prototype,$e.invalid=ym;function Jn(l,h){var m=l&&parseFloat(l.replace(",","."));return(isNaN(m)?0:m)*h}function Tc(l,h){var m={};return m.months=h.month()-l.month()+(h.year()-l.year())*12,l.clone().add(m.months,"M").isAfter(h)&&--m.months,m.milliseconds=+h-+l.clone().add(m.months,"M"),m}function Rm(l,h){var m;return l.isValid()&&h.isValid()?(h=Jo(h,l),l.isBefore(h)?m=Tc(l,h):(m=Tc(h,l),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function Mc(l,h){return function(m,y){var k,O;return y!==null&&!isNaN(+y)&&(T(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),O=m,m=y,y=O),k=$e(m,y),Oc(this,k,l),this}}function Oc(l,h,m,y){var k=h._milliseconds,O=Zo(h._days),U=Zo(h._months);l.isValid()&&(y=y==null?!0:y,U&&dc(l,ae(l,"Month")+U*m),O&&Fn(l,"Date",ae(l,"Date")+O*m),k&&l._d.setTime(l._d.valueOf()+k*m),y&&t.updateOffset(l,O||U))}var Lm=Mc(1,"add"),Im=Mc(-1,"subtract");function Pc(l){return typeof l=="string"||l instanceof String}function Nm(l){return P(l)||u(l)||Pc(l)||c(l)||zm(l)||Bm(l)||l===null||l===void 0}function Bm(l){var h=s(l)&&!o(l),m=!1,y=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],k,O,U=y.length;for(k=0;k<U;k+=1)O=y[k],m=m||r(l,O);return h&&m}function zm(l){var h=i(l),m=!1;return h&&(m=l.filter(function(y){return!c(y)&&Pc(l)}).length===0),h&&m}function Wm(l){var h=s(l)&&!o(l),m=!1,y=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],k,O;for(k=0;k<y.length;k+=1)O=y[k],m=m||r(l,O);return h&&m}function $m(l,h){var m=l.diff(h,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function jm(l,h){arguments.length===1&&(arguments[0]?Nm(arguments[0])?(l=arguments[0],h=void 0):Wm(arguments[0])&&(h=arguments[0],l=void 0):(l=void 0,h=void 0));var m=l||Rt(),y=Jo(m,this).startOf("day"),k=t.calendarFormat(this,y)||"sameElse",O=h&&(I(h[k])?h[k].call(this,m):h[k]);return this.format(O||this.localeData().calendar(k,this,Rt(m)))}function Hm(){return new M(this)}function Um(l,h){var m=P(l)?l:Rt(l);return this.isValid()&&m.isValid()?(h=B(h)||"millisecond",h==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(h).valueOf()):!1}function Vm(l,h){var m=P(l)?l:Rt(l);return this.isValid()&&m.isValid()?(h=B(h)||"millisecond",h==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(h).valueOf()<m.valueOf()):!1}function Ym(l,h,m,y){var k=P(l)?l:Rt(l),O=P(h)?h:Rt(h);return this.isValid()&&k.isValid()&&O.isValid()?(y=y||"()",(y[0]==="("?this.isAfter(k,m):!this.isBefore(k,m))&&(y[1]===")"?this.isBefore(O,m):!this.isAfter(O,m))):!1}function Gm(l,h){var m=P(l)?l:Rt(l),y;return this.isValid()&&m.isValid()?(h=B(h)||"millisecond",h==="millisecond"?this.valueOf()===m.valueOf():(y=m.valueOf(),this.clone().startOf(h).valueOf()<=y&&y<=this.clone().endOf(h).valueOf())):!1}function qm(l,h){return this.isSame(l,h)||this.isAfter(l,h)}function Zm(l,h){return this.isSame(l,h)||this.isBefore(l,h)}function Xm(l,h,m){var y,k,O;if(!this.isValid())return NaN;if(y=Jo(l,this),!y.isValid())return NaN;switch(k=(y.utcOffset()-this.utcOffset())*6e4,h=B(h),h){case"year":O=ur(this,y)/12;break;case"month":O=ur(this,y);break;case"quarter":O=ur(this,y)/3;break;case"second":O=(this-y)/1e3;break;case"minute":O=(this-y)/6e4;break;case"hour":O=(this-y)/36e5;break;case"day":O=(this-y-k)/864e5;break;case"week":O=(this-y-k)/6048e5;break;default:O=this-y}return m?O:mt(O)}function ur(l,h){if(l.date()<h.date())return-ur(h,l);var m=(h.year()-l.year())*12+(h.month()-l.month()),y=l.clone().add(m,"months"),k,O;return h-y<0?(k=l.clone().add(m-1,"months"),O=(h-y)/(y-k)):(k=l.clone().add(m+1,"months"),O=(h-y)/(k-y)),-(m+O)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Jm(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Km(l){if(!this.isValid())return null;var h=l!==!0,m=h?this.clone().utc():this;return m.year()<0||m.year()>9999?gt(m,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",gt(m,"Z")):gt(m,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Qm(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var l="moment",h="",m,y,k,O;return this.isLocal()||(l=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z"),m="["+l+'("]',y=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",k="-MM-DD[T]HH:mm:ss.SSS",O=h+'[")]',this.format(m+y+k+O)}function t0(l){l||(l=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var h=gt(this,l);return this.localeData().postformat(h)}function e0(l,h){return this.isValid()&&(P(l)&&l.isValid()||Rt(l).isValid())?$e({to:this,from:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function n0(l){return this.from(Rt(),l)}function i0(l,h){return this.isValid()&&(P(l)&&l.isValid()||Rt(l).isValid())?$e({from:this,to:l}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function s0(l){return this.to(Rt(),l)}function Fc(l){var h;return l===void 0?this._locale._abbr:(h=un(l),h!=null&&(this._locale=h),this)}var Rc=N("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(l){return l===void 0?this.localeData():this.locale(l)});function Lc(){return this._locale}var hr=1e3,Ci=60*hr,dr=60*Ci,Ic=(365*400+97)*24*dr;function Ai(l,h){return(l%h+h)%h}function Nc(l,h,m){return l<100&&l>=0?new Date(l+400,h,m)-Ic:new Date(l,h,m).valueOf()}function Bc(l,h,m){return l<100&&l>=0?Date.UTC(l+400,h,m)-Ic:Date.UTC(l,h,m)}function r0(l){var h,m;if(l=B(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?Bc:Nc,l){case"year":h=m(this.year(),0,1);break;case"quarter":h=m(this.year(),this.month()-this.month()%3,1);break;case"month":h=m(this.year(),this.month(),1);break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":h=m(this.year(),this.month(),this.date());break;case"hour":h=this._d.valueOf(),h-=Ai(h+(this._isUTC?0:this.utcOffset()*Ci),dr);break;case"minute":h=this._d.valueOf(),h-=Ai(h,Ci);break;case"second":h=this._d.valueOf(),h-=Ai(h,hr);break}return this._d.setTime(h),t.updateOffset(this,!0),this}function o0(l){var h,m;if(l=B(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?Bc:Nc,l){case"year":h=m(this.year()+1,0,1)-1;break;case"quarter":h=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":h=m(this.year(),this.month()+1,1)-1;break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":h=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":h=this._d.valueOf(),h+=dr-Ai(h+(this._isUTC?0:this.utcOffset()*Ci),dr)-1;break;case"minute":h=this._d.valueOf(),h+=Ci-Ai(h,Ci)-1;break;case"second":h=this._d.valueOf(),h+=hr-Ai(h,hr)-1;break}return this._d.setTime(h),t.updateOffset(this,!0),this}function a0(){return this._d.valueOf()-(this._offset||0)*6e4}function l0(){return Math.floor(this.valueOf()/1e3)}function c0(){return new Date(this.valueOf())}function u0(){var l=this;return[l.year(),l.month(),l.date(),l.hour(),l.minute(),l.second(),l.millisecond()]}function h0(){var l=this;return{years:l.year(),months:l.month(),date:l.date(),hours:l.hours(),minutes:l.minutes(),seconds:l.seconds(),milliseconds:l.milliseconds()}}function d0(){return this.isValid()?this.toISOString():null}function f0(){return w(this)}function p0(){return f({},_(this))}function g0(){return _(this).overflow}function m0(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}$("N",0,0,"eraAbbr"),$("NN",0,0,"eraAbbr"),$("NNN",0,0,"eraAbbr"),$("NNNN",0,0,"eraName"),$("NNNNN",0,0,"eraNarrow"),$("y",["y",1],"yo","eraYear"),$("y",["yy",2],0,"eraYear"),$("y",["yyy",3],0,"eraYear"),$("y",["yyyy",4],0,"eraYear"),st("N",Qo),st("NN",Qo),st("NNN",Qo),st("NNNN",A0),st("NNNNN",D0),Tt(["N","NN","NNN","NNNN","NNNNN"],function(l,h,m,y){var k=m._locale.erasParse(l,y,m._strict);k?_(m).era=k:_(m).invalidEra=l}),st("y",Si),st("yy",Si),st("yyy",Si),st("yyyy",Si),st("yo",T0),Tt(["y","yy","yyy","yyyy"],se),Tt(["yo"],function(l,h,m,y){var k;m._locale._eraYearOrdinalRegex&&(k=l.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?h[se]=m._locale.eraYearOrdinalParse(l,k):h[se]=parseInt(l,10)});function _0(l,h){var m,y,k,O=this._eras||un("en")._eras;for(m=0,y=O.length;m<y;++m){switch(typeof O[m].since){case"string":k=t(O[m].since).startOf("day"),O[m].since=k.valueOf();break}switch(typeof O[m].until){case"undefined":O[m].until=1/0;break;case"string":k=t(O[m].until).startOf("day").valueOf(),O[m].until=k.valueOf();break}}return O}function b0(l,h,m){var y,k,O=this.eras(),U,ht,bt;for(l=l.toUpperCase(),y=0,k=O.length;y<k;++y)if(U=O[y].name.toUpperCase(),ht=O[y].abbr.toUpperCase(),bt=O[y].narrow.toUpperCase(),m)switch(h){case"N":case"NN":case"NNN":if(ht===l)return O[y];break;case"NNNN":if(U===l)return O[y];break;case"NNNNN":if(bt===l)return O[y];break}else if([U,ht,bt].indexOf(l)>=0)return O[y]}function y0(l,h){var m=l.since<=l.until?1:-1;return h===void 0?t(l.since).year():t(l.since).year()+(h-l.offset)*m}function v0(){var l,h,m,y=this.localeData().eras();for(l=0,h=y.length;l<h;++l)if(m=this.clone().startOf("day").valueOf(),y[l].since<=m&&m<=y[l].until||y[l].until<=m&&m<=y[l].since)return y[l].name;return""}function w0(){var l,h,m,y=this.localeData().eras();for(l=0,h=y.length;l<h;++l)if(m=this.clone().startOf("day").valueOf(),y[l].since<=m&&m<=y[l].until||y[l].until<=m&&m<=y[l].since)return y[l].narrow;return""}function x0(){var l,h,m,y=this.localeData().eras();for(l=0,h=y.length;l<h;++l)if(m=this.clone().startOf("day").valueOf(),y[l].since<=m&&m<=y[l].until||y[l].until<=m&&m<=y[l].since)return y[l].abbr;return""}function k0(){var l,h,m,y,k=this.localeData().eras();for(l=0,h=k.length;l<h;++l)if(m=k[l].since<=k[l].until?1:-1,y=this.clone().startOf("day").valueOf(),k[l].since<=y&&y<=k[l].until||k[l].until<=y&&y<=k[l].since)return(this.year()-t(k[l].since).year())*m+k[l].offset;return this.year()}function S0(l){return r(this,"_erasNameRegex")||ta.call(this),l?this._erasNameRegex:this._erasRegex}function E0(l){return r(this,"_erasAbbrRegex")||ta.call(this),l?this._erasAbbrRegex:this._erasRegex}function C0(l){return r(this,"_erasNarrowRegex")||ta.call(this),l?this._erasNarrowRegex:this._erasRegex}function Qo(l,h){return h.erasAbbrRegex(l)}function A0(l,h){return h.erasNameRegex(l)}function D0(l,h){return h.erasNarrowRegex(l)}function T0(l,h){return h._eraYearOrdinalRegex||Si}function ta(){var l=[],h=[],m=[],y=[],k,O,U=this.eras();for(k=0,O=U.length;k<O;++k)h.push(Ce(U[k].name)),l.push(Ce(U[k].abbr)),m.push(Ce(U[k].narrow)),y.push(Ce(U[k].name)),y.push(Ce(U[k].abbr)),y.push(Ce(U[k].narrow));this._erasRegex=new RegExp("^("+y.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+h.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100});function fr(l,h){$(0,[l,l.length],0,h)}fr("gggg","weekYear"),fr("ggggg","weekYear"),fr("GGGG","isoWeekYear"),fr("GGGGG","isoWeekYear"),G("weekYear","gg"),G("isoWeekYear","GG"),J("weekYear",1),J("isoWeekYear",1),st("G",er),st("g",er),st("GG",Ot,$t),st("gg",Ot,$t),st("GGGG",zo,ns),st("gggg",zo,ns),st("GGGGG",tr,ki),st("ggggg",tr,ki),rs(["gggg","ggggg","GGGG","GGGGG"],function(l,h,m,y){h[y.substr(0,2)]=ft(l)}),rs(["gg","GG"],function(l,h,m,y){h[y]=t.parseTwoDigitYear(l)});function M0(l){return zc.call(this,l,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function O0(l){return zc.call(this,l,this.isoWeek(),this.isoWeekday(),1,4)}function P0(){return cn(this.year(),1,4)}function F0(){return cn(this.isoWeekYear(),1,4)}function R0(){var l=this.localeData()._week;return cn(this.year(),l.dow,l.doy)}function L0(){var l=this.localeData()._week;return cn(this.weekYear(),l.dow,l.doy)}function zc(l,h,m,y,k){var O;return l==null?ls(this,y,k).year:(O=cn(l,y,k),h>O&&(h=O),I0.call(this,l,h,m,y,k))}function I0(l,h,m,y,k){var O=mc(l,h,m,y,k),U=as(O.year,0,O.dayOfYear);return this.year(U.getUTCFullYear()),this.month(U.getUTCMonth()),this.date(U.getUTCDate()),this}$("Q",0,"Qo","quarter"),G("quarter","Q"),J("quarter",7),st("Q",xi),Tt("Q",function(l,h){h[an]=(ft(l)-1)*3});function N0(l){return l==null?Math.ceil((this.month()+1)/3):this.month((l-1)*3+this.month()%3)}$("D",["DD",2],"Do","date"),G("date","D"),J("date",9),st("D",Ot),st("DD",Ot,$t),st("Do",function(l,h){return l?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),Tt(["D","DD"],qe),Tt("Do",function(l,h){h[qe]=ft(l.match(Ot)[0])});var Wc=Re("Date",!0);$("DDD",["DDDD",3],"DDDo","dayOfYear"),G("dayOfYear","DDD"),J("dayOfYear",4),st("DDD",on),st("DDDD",es),Tt(["DDD","DDDD"],function(l,h,m){m._dayOfYear=ft(l)});function B0(l){var h=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return l==null?h:this.add(l-h,"d")}$("m",["mm",2],0,"minute"),G("minute","m"),J("minute",14),st("m",Ot),st("mm",Ot,$t),Tt(["m","mm"],We);var z0=Re("Minutes",!1);$("s",["ss",2],0,"second"),G("second","s"),J("second",15),st("s",Ot),st("ss",Ot,$t),Tt(["s","ss"],ln);var W0=Re("Seconds",!1);$("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return this.millisecond()*10}),$(0,["SSSSS",5],0,function(){return this.millisecond()*100}),$(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),$(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),$(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),$(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),G("millisecond","ms"),J("millisecond",16),st("S",on,xi),st("SS",on,$t),st("SSS",on,es);var In,$c;for(In="SSSS";In.length<=9;In+="S")st(In,Si);function $0(l,h){h[Xn]=ft(("0."+l)*1e3)}for(In="S";In.length<=9;In+="S")Tt(In,$0);$c=Re("Milliseconds",!1),$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");function j0(){return this._isUTC?"UTC":""}function H0(){return this._isUTC?"Coordinated Universal Time":""}var K=M.prototype;K.add=Lm,K.calendar=jm,K.clone=Hm,K.diff=Xm,K.endOf=o0,K.format=t0,K.from=e0,K.fromNow=n0,K.to=i0,K.toNow=s0,K.get=Wt,K.invalidAt=g0,K.isAfter=Um,K.isBefore=Vm,K.isBetween=Ym,K.isSame=Gm,K.isSameOrAfter=qm,K.isSameOrBefore=Zm,K.isValid=f0,K.lang=Rc,K.locale=Fc,K.localeData=Lc,K.max=fm,K.min=dm,K.parsingFlags=p0,K.set=wi,K.startOf=r0,K.subtract=Im,K.toArray=u0,K.toObject=h0,K.toDate=c0,K.toISOString=Km,K.inspect=Qm,typeof Symbol!="undefined"&&Symbol.for!=null&&(K[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),K.toJSON=d0,K.toString=Jm,K.unix=l0,K.valueOf=a0,K.creationData=m0,K.eraName=v0,K.eraNarrow=w0,K.eraAbbr=x0,K.eraYear=k0,K.year=gc,K.isLeapYear=hg,K.weekYear=M0,K.isoWeekYear=O0,K.quarter=K.quarters=N0,K.month=fc,K.daysInMonth=lg,K.week=K.weeks=_g,K.isoWeek=K.isoWeeks=bg,K.weeksInYear=R0,K.weeksInWeekYear=L0,K.isoWeeksInYear=P0,K.isoWeeksInISOWeekYear=F0,K.date=Wc,K.day=K.days=Og,K.weekday=Pg,K.isoWeekday=Fg,K.dayOfYear=B0,K.hour=K.hours=Wg,K.minute=K.minutes=z0,K.second=K.seconds=W0,K.millisecond=K.milliseconds=$c,K.utcOffset=xm,K.utc=Sm,K.local=Em,K.parseZone=Cm,K.hasAlignedHourOffset=Am,K.isDST=Dm,K.isLocal=Mm,K.isUtcOffset=Om,K.isUtc=Dc,K.isUTC=Dc,K.zoneAbbr=j0,K.zoneName=H0,K.dates=N("dates accessor is deprecated. Use date instead.",Wc),K.months=N("months accessor is deprecated. Use month instead",fc),K.years=N("years accessor is deprecated. Use year instead",gc),K.zone=N("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",km),K.isDSTShifted=N("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Tm);function U0(l){return Rt(l*1e3)}function V0(){return Rt.apply(null,arguments).parseZone()}function jc(l){return l}var kt=lt.prototype;kt.calendar=X,kt.longDateFormat=zt,kt.invalidDate=Ee,kt.ordinal=j,kt.preparse=jc,kt.postformat=jc,kt.relativeTime=A,kt.pastFuture=L,kt.set=x,kt.eras=_0,kt.erasParse=b0,kt.erasConvertYear=y0,kt.erasAbbrRegex=E0,kt.erasNameRegex=S0,kt.erasNarrowRegex=C0,kt.months=sg,kt.monthsShort=rg,kt.monthsParse=ag,kt.monthsRegex=ug,kt.monthsShortRegex=cg,kt.week=fg,kt.firstDayOfYear=mg,kt.firstDayOfWeek=gg,kt.weekdays=Cg,kt.weekdaysMin=Dg,kt.weekdaysShort=Ag,kt.weekdaysParse=Mg,kt.weekdaysRegex=Rg,kt.weekdaysShortRegex=Lg,kt.weekdaysMinRegex=Ig,kt.isPM=Bg,kt.meridiem=$g;function pr(l,h,m,y){var k=un(),O=p().set(y,h);return k[m](O,l)}function Hc(l,h,m){if(c(l)&&(h=l,l=void 0),l=l||"",h!=null)return pr(l,h,m,"month");var y,k=[];for(y=0;y<12;y++)k[y]=pr(l,y,m,"month");return k}function ea(l,h,m,y){typeof l=="boolean"?(c(h)&&(m=h,h=void 0),h=h||""):(h=l,m=h,l=!1,c(h)&&(m=h,h=void 0),h=h||"");var k=un(),O=l?k._week.dow:0,U,ht=[];if(m!=null)return pr(h,(m+O)%7,y,"day");for(U=0;U<7;U++)ht[U]=pr(h,(U+O)%7,y,"day");return ht}function Y0(l,h){return Hc(l,h,"months")}function G0(l,h){return Hc(l,h,"monthsShort")}function q0(l,h,m){return ea(l,h,m,"weekdays")}function Z0(l,h,m){return ea(l,h,m,"weekdaysShort")}function X0(l,h,m){return ea(l,h,m,"weekdaysMin")}Ln("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(l){var h=l%10,m=ft(l%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th";return l+m}}),t.lang=N("moment.lang is deprecated. Use moment.locale instead.",Ln),t.langData=N("moment.langData is deprecated. Use moment.localeData instead.",un);var hn=Math.abs;function J0(){var l=this._data;return this._milliseconds=hn(this._milliseconds),this._days=hn(this._days),this._months=hn(this._months),l.milliseconds=hn(l.milliseconds),l.seconds=hn(l.seconds),l.minutes=hn(l.minutes),l.hours=hn(l.hours),l.months=hn(l.months),l.years=hn(l.years),this}function Uc(l,h,m,y){var k=$e(h,m);return l._milliseconds+=y*k._milliseconds,l._days+=y*k._days,l._months+=y*k._months,l._bubble()}function K0(l,h){return Uc(this,l,h,1)}function Q0(l,h){return Uc(this,l,h,-1)}function Vc(l){return l<0?Math.floor(l):Math.ceil(l)}function t_(){var l=this._milliseconds,h=this._days,m=this._months,y=this._data,k,O,U,ht,bt;return l>=0&&h>=0&&m>=0||l<=0&&h<=0&&m<=0||(l+=Vc(na(m)+h)*864e5,h=0,m=0),y.milliseconds=l%1e3,k=mt(l/1e3),y.seconds=k%60,O=mt(k/60),y.minutes=O%60,U=mt(O/60),y.hours=U%24,h+=mt(U/24),bt=mt(Yc(h)),m+=bt,h-=Vc(na(bt)),ht=mt(m/12),m%=12,y.days=h,y.months=m,y.years=ht,this}function Yc(l){return l*4800/146097}function na(l){return l*146097/4800}function e_(l){if(!this.isValid())return NaN;var h,m,y=this._milliseconds;if(l=B(l),l==="month"||l==="quarter"||l==="year")switch(h=this._days+y/864e5,m=this._months+Yc(h),l){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(h=this._days+Math.round(na(this._months)),l){case"week":return h/7+y/6048e5;case"day":return h+y/864e5;case"hour":return h*24+y/36e5;case"minute":return h*1440+y/6e4;case"second":return h*86400+y/1e3;case"millisecond":return Math.floor(h*864e5)+y;default:throw new Error("Unknown unit "+l)}}function n_(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ft(this._months/12)*31536e6:NaN}function dn(l){return function(){return this.as(l)}}var i_=dn("ms"),s_=dn("s"),r_=dn("m"),o_=dn("h"),a_=dn("d"),l_=dn("w"),c_=dn("M"),u_=dn("Q"),h_=dn("y");function d_(){return $e(this)}function f_(l){return l=B(l),this.isValid()?this[l+"s"]():NaN}function Kn(l){return function(){return this.isValid()?this._data[l]:NaN}}var p_=Kn("milliseconds"),g_=Kn("seconds"),m_=Kn("minutes"),__=Kn("hours"),b_=Kn("days"),y_=Kn("months"),v_=Kn("years");function w_(){return mt(this.days()/7)}var fn=Math.round,Di={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function x_(l,h,m,y,k){return k.relativeTime(h||1,!!m,l,y)}function k_(l,h,m,y){var k=$e(l).abs(),O=fn(k.as("s")),U=fn(k.as("m")),ht=fn(k.as("h")),bt=fn(k.as("d")),Mt=fn(k.as("M")),le=fn(k.as("w")),pn=fn(k.as("y")),Nn=O<=m.ss&&["s",O]||O<m.s&&["ss",O]||U<=1&&["m"]||U<m.m&&["mm",U]||ht<=1&&["h"]||ht<m.h&&["hh",ht]||bt<=1&&["d"]||bt<m.d&&["dd",bt];return m.w!=null&&(Nn=Nn||le<=1&&["w"]||le<m.w&&["ww",le]),Nn=Nn||Mt<=1&&["M"]||Mt<m.M&&["MM",Mt]||pn<=1&&["y"]||["yy",pn],Nn[2]=h,Nn[3]=+l>0,Nn[4]=y,x_.apply(null,Nn)}function S_(l){return l===void 0?fn:typeof l=="function"?(fn=l,!0):!1}function E_(l,h){return Di[l]===void 0?!1:h===void 0?Di[l]:(Di[l]=h,l==="s"&&(Di.ss=h-1),!0)}function C_(l,h){if(!this.isValid())return this.localeData().invalidDate();var m=!1,y=Di,k,O;return typeof l=="object"&&(h=l,l=!1),typeof l=="boolean"&&(m=l),typeof h=="object"&&(y=Object.assign({},Di,h),h.s!=null&&h.ss==null&&(y.ss=h.s-1)),k=this.localeData(),O=k_(this,!m,y,k),m&&(O=k.pastFuture(+this,O)),k.postformat(O)}var ia=Math.abs;function Ti(l){return(l>0)-(l<0)||+l}function gr(){if(!this.isValid())return this.localeData().invalidDate();var l=ia(this._milliseconds)/1e3,h=ia(this._days),m=ia(this._months),y,k,O,U,ht=this.asSeconds(),bt,Mt,le,pn;return ht?(y=mt(l/60),k=mt(y/60),l%=60,y%=60,O=mt(m/12),m%=12,U=l?l.toFixed(3).replace(/\.?0+$/,""):"",bt=ht<0?"-":"",Mt=Ti(this._months)!==Ti(ht)?"-":"",le=Ti(this._days)!==Ti(ht)?"-":"",pn=Ti(this._milliseconds)!==Ti(ht)?"-":"",bt+"P"+(O?Mt+O+"Y":"")+(m?Mt+m+"M":"")+(h?le+h+"D":"")+(k||y||l?"T":"")+(k?pn+k+"H":"")+(y?pn+y+"M":"")+(l?pn+U+"S":"")):"P0D"}var wt=lr.prototype;wt.isValid=bm,wt.abs=J0,wt.add=K0,wt.subtract=Q0,wt.as=e_,wt.asMilliseconds=i_,wt.asSeconds=s_,wt.asMinutes=r_,wt.asHours=o_,wt.asDays=a_,wt.asWeeks=l_,wt.asMonths=c_,wt.asQuarters=u_,wt.asYears=h_,wt.valueOf=n_,wt._bubble=t_,wt.clone=d_,wt.get=f_,wt.milliseconds=p_,wt.seconds=g_,wt.minutes=m_,wt.hours=__,wt.days=b_,wt.weeks=w_,wt.months=y_,wt.years=v_,wt.humanize=C_,wt.toISOString=gr,wt.toString=gr,wt.toJSON=gr,wt.locale=Fc,wt.localeData=Lc,wt.toIsoString=N("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",gr),wt.lang=Rc,$("X",0,0,"unix"),$("x",0,0,"valueOf"),st("x",er),st("X",qp),Tt("X",function(l,h,m){m._d=new Date(parseFloat(l)*1e3)}),Tt("x",function(l,h,m){m._d=new Date(ft(l))});return t.version="2.29.4",e(Rt),t.fn=K,t.min=pm,t.max=gm,t.now=mm,t.utc=p,t.unix=U0,t.months=Y0,t.isDate=u,t.locale=Ln,t.invalid=S,t.duration=$e,t.isMoment=P,t.weekdays=q0,t.parseZone=V0,t.localeData=un,t.isDuration=cr,t.monthsShort=G0,t.weekdaysMin=X0,t.defineLocale=Uo,t.updateLocale=Vg,t.locales=Yg,t.weekdaysShort=Z0,t.normalizeUnits=B,t.relativeTimeRounding=S_,t.relativeTimeThreshold=E_,t.calendarFormat=$m,t.prototype=K,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var Jc=pt((Xc,aa)=>{(function(n){typeof Xc=="object"&&typeof aa!="undefined"?aa.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).JSZip=n()})(function(){return function n(t,e,i){function s(a,c){if(!e[a]){if(!t[a]){var u=typeof require=="function"&&require;if(!c&&u)return u(a,!0);if(r)return r(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var f=e[a]={exports:{}};t[a][0].call(f.exports,function(p){var g=t[a][1][p];return s(g||p)},f,f.exports,n,t,e,i)}return e[a].exports}for(var r=typeof require=="function"&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(n,t,e){"use strict";var i=n("./utils"),s=n("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(o){for(var a,c,u,d,f,p,g,_=[],b=0,w=o.length,S=w,C=i.getTypeOf(o)!=="string";b<o.length;)S=w-b,u=C?(a=o[b++],c=b<w?o[b++]:0,b<w?o[b++]:0):(a=o.charCodeAt(b++),c=b<w?o.charCodeAt(b++):0,b<w?o.charCodeAt(b++):0),d=a>>2,f=(3&a)<<4|c>>4,p=1<S?(15&c)<<2|u>>6:64,g=2<S?63&u:64,_.push(r.charAt(d)+r.charAt(f)+r.charAt(p)+r.charAt(g));return _.join("")},e.decode=function(o){var a,c,u,d,f,p,g=0,_=0,b="data:";if(o.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var w,S=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===r.charAt(64)&&S--,o.charAt(o.length-2)===r.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=s.uint8array?new Uint8Array(0|S):new Array(0|S);g<o.length;)a=r.indexOf(o.charAt(g++))<<2|(d=r.indexOf(o.charAt(g++)))>>4,c=(15&d)<<4|(f=r.indexOf(o.charAt(g++)))>>2,u=(3&f)<<6|(p=r.indexOf(o.charAt(g++))),w[_++]=a,f!==64&&(w[_++]=c),p!==64&&(w[_++]=u);return w}},{"./support":30,"./utils":32}],2:[function(n,t,e){"use strict";var i=n("./external"),s=n("./stream/DataWorker"),r=n("./stream/Crc32Probe"),o=n("./stream/DataLengthProbe");function a(c,u,d,f,p){this.compressedSize=c,this.uncompressedSize=u,this.crc32=d,this.compression=f,this.compressedContent=p}a.prototype={getContentWorker:function(){var c=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),u=this;return c.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(c,u,d){return c.pipe(new r).pipe(new o("uncompressedSize")).pipe(u.compressWorker(d)).pipe(new o("compressedSize")).withStreamInfo("compression",u)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,t,e){"use strict";var i=n("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,t,e){"use strict";var i=n("./utils"),s=function(){for(var r,o=[],a=0;a<256;a++){r=a;for(var c=0;c<8;c++)r=1&r?3988292384^r>>>1:r>>>1;o[a]=r}return o}();t.exports=function(r,o){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(a,c,u,d){var f=s,p=d+u;a^=-1;for(var g=d;g<p;g++)a=a>>>8^f[255&(a^c[g])];return-1^a}(0|o,r,r.length,0):function(a,c,u,d){var f=s,p=d+u;a^=-1;for(var g=d;g<p;g++)a=a>>>8^f[255&(a^c.charCodeAt(g))];return-1^a}(0|o,r,r.length,0):0}},{"./utils":32}],5:[function(n,t,e){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(n,t,e){"use strict";var i=null;i=typeof Promise!="undefined"?Promise:n("lie"),t.exports={Promise:i}},{lie:37}],7:[function(n,t,e){"use strict";var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",s=n("pako"),r=n("./utils"),o=n("./stream/GenericWorker"),a=i?"uint8array":"array";function c(u,d){o.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=d,this.meta={}}e.magic="\b\0",r.inherits(c,o),c.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(a,u.data),!1)},c.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(d){u.push({data:d,meta:u.meta})}},e.compressWorker=function(u){return new c("Deflate",u)},e.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,t,e){"use strict";function i(f,p){var g,_="";for(g=0;g<p;g++)_+=String.fromCharCode(255&f),f>>>=8;return _}function s(f,p,g,_,b,w){var S,C,E=f.file,F=f.compression,M=w!==a.utf8encode,P=r.transformTo("string",w(E.name)),R=r.transformTo("string",a.utf8encode(E.name)),N=E.comment,Y=r.transformTo("string",w(N)),T=r.transformTo("string",a.utf8encode(N)),I=R.length!==E.name.length,x=T.length!==N.length,H="",lt="",V="",rt=E.dir,X=E.date,ot={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(ot.crc32=f.crc32,ot.compressedSize=f.compressedSize,ot.uncompressedSize=f.uncompressedSize);var W=0;p&&(W|=8),M||!I&&!x||(W|=2048);var z=0,ut=0;rt&&(z|=16),b==="UNIX"?(ut=798,z|=function($,Et){var Nt=$;return $||(Nt=Et?16893:33204),(65535&Nt)<<16}(E.unixPermissions,rt)):(ut=20,z|=function($){return 63&($||0)}(E.dosPermissions)),S=X.getUTCHours(),S<<=6,S|=X.getUTCMinutes(),S<<=5,S|=X.getUTCSeconds()/2,C=X.getUTCFullYear()-1980,C<<=4,C|=X.getUTCMonth()+1,C<<=5,C|=X.getUTCDate(),I&&(lt=i(1,1)+i(c(P),4)+R,H+="up"+i(lt.length,2)+lt),x&&(V=i(1,1)+i(c(Y),4)+T,H+="uc"+i(V.length,2)+V);var tt="";return tt+=`
\0`,tt+=i(W,2),tt+=F.magic,tt+=i(S,2),tt+=i(C,2),tt+=i(ot.crc32,4),tt+=i(ot.compressedSize,4),tt+=i(ot.uncompressedSize,4),tt+=i(P.length,2),tt+=i(H.length,2),{fileRecord:u.LOCAL_FILE_HEADER+tt+P+H,dirRecord:u.CENTRAL_FILE_HEADER+i(ut,2)+tt+i(Y.length,2)+"\0\0\0\0"+i(z,4)+i(_,4)+P+H+Y}}var r=n("../utils"),o=n("../stream/GenericWorker"),a=n("../utf8"),c=n("../crc32"),u=n("../signature");function d(f,p,g,_){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=_,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(d,o),d.prototype.push=function(f){var p=f.meta.percent||0,g=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,o.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-_-1))/g:100}}))},d.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var p=this.streamFiles&&!f.file.dir;if(p){var g=s(f,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(f){this.accumulate=!1;var p=this.streamFiles&&!f.file.dir,g=s(f,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(_){return u.DATA_DESCRIPTOR+i(_.crc32,4)+i(_.compressedSize,4)+i(_.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var f=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-f,_=function(b,w,S,C,E){var F=r.transformTo("string",E(C));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(b,2)+i(b,2)+i(w,4)+i(S,4)+i(F.length,2)+F}(this.dirRecords.length,g,f,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(f){this._sources.push(f);var p=this;return f.on("data",function(g){p.processChunk(g)}),f.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),f.on("error",function(g){p.error(g)}),this},d.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(f){var p=this._sources;if(!o.prototype.error.call(this,f))return!1;for(var g=0;g<p.length;g++)try{p[g].error(f)}catch(_){}return!0},d.prototype.lock=function(){o.prototype.lock.call(this);for(var f=this._sources,p=0;p<f.length;p++)f[p].lock()},t.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,t,e){"use strict";var i=n("../compressions"),s=n("./ZipFileWorker");e.generateWorker=function(r,o,a){var c=new s(o.streamFiles,a,o.platform,o.encodeFileName),u=0;try{r.forEach(function(d,f){u++;var p=function(w,S){var C=w||S,E=i[C];if(!E)throw new Error(C+" is not a valid compression method !");return E}(f.options.compression,o.compression),g=f.options.compressionOptions||o.compressionOptions||{},_=f.dir,b=f.date;f._compressWorker(p,g).withStreamInfo("file",{name:d,dir:_,date:b,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=u}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,t,e){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var r in this)typeof this[r]!="function"&&(s[r]=this[r]);return s}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(s,r){return new i().loadAsync(s,r)},i.external=n("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,t,e){"use strict";var i=n("./utils"),s=n("./external"),r=n("./utf8"),o=n("./zipEntries"),a=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function u(d){return new s.Promise(function(f,p){var g=d.decompressed.getContentWorker().pipe(new a);g.on("error",function(_){p(_)}).on("end",function(){g.streamInfo.crc32!==d.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}t.exports=function(d,f){var p=this;return f=i.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),c.isNode&&c.isStream(d)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",d,!0,f.optimizedBinaryString,f.base64).then(function(g){var _=new o(f);return _.load(g),_}).then(function(g){var _=[s.Promise.resolve(g)],b=g.files;if(f.checkCRC32)for(var w=0;w<b.length;w++)_.push(u(b[w]));return s.Promise.all(_)}).then(function(g){for(var _=g.shift(),b=_.files,w=0;w<b.length;w++){var S=b[w],C=S.fileNameStr,E=i.resolve(S.fileNameStr);p.file(E,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:f.createFolders}),S.dir||(p.file(E).unsafeOriginalName=C)}return _.zipComment.length&&(p.comment=_.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,t,e){"use strict";var i=n("../utils"),s=n("../stream/GenericWorker");function r(o,a){s.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(a)}i.inherits(r,s),r.prototype._bindStream=function(o){var a=this;(this._stream=o).pause(),o.on("data",function(c){a.push({data:c,meta:{percent:0}})}).on("error",function(c){a.isPaused?this.generatedError=c:a.error(c)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},r.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,t,e){"use strict";var i=n("readable-stream").Readable;function s(r,o,a){i.call(this,o),this._helper=r;var c=this;r.on("data",function(u,d){c.push(u)||c._helper.pause(),a&&a(d)}).on("error",function(u){c.emit("error",u)}).on("end",function(){c.push(null)})}n("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},t.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,t,e){"use strict";t.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,t,e){"use strict";function i(E,F,M){var P,R=r.getTypeOf(F),N=r.extend(M||{},c);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(E=b(E)),N.createFolders&&(P=_(E))&&w.call(this,P,!0);var Y=R==="string"&&N.binary===!1&&N.base64===!1;M&&M.binary!==void 0||(N.binary=!Y),(F instanceof u&&F.uncompressedSize===0||N.dir||!F||F.length===0)&&(N.base64=!1,N.binary=!0,F="",N.compression="STORE",R="string");var T=null;T=F instanceof u||F instanceof o?F:p.isNode&&p.isStream(F)?new g(E,F):r.prepareContent(E,F,N.binary,N.optimizedBinaryString,N.base64);var I=new d(E,T,N);this.files[E]=I}var s=n("./utf8"),r=n("./utils"),o=n("./stream/GenericWorker"),a=n("./stream/StreamHelper"),c=n("./defaults"),u=n("./compressedObject"),d=n("./zipObject"),f=n("./generate"),p=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),_=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var F=E.lastIndexOf("/");return 0<F?E.substring(0,F):""},b=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},w=function(E,F){return F=F!==void 0?F:c.createFolders,E=b(E),this.files[E]||i.call(this,E,null,{dir:!0,createFolders:F}),this.files[E]};function S(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var F,M,P;for(F in this.files)P=this.files[F],(M=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&E(M,P)},filter:function(E){var F=[];return this.forEach(function(M,P){E(M,P)&&F.push(P)}),F},file:function(E,F,M){if(arguments.length!==1)return E=this.root+E,i.call(this,E,F,M),this;if(S(E)){var P=E;return this.filter(function(N,Y){return!Y.dir&&P.test(N)})}var R=this.files[this.root+E];return R&&!R.dir?R:null},folder:function(E){if(!E)return this;if(S(E))return this.filter(function(R,N){return N.dir&&E.test(R)});var F=this.root+E,M=w.call(this,F),P=this.clone();return P.root=M.name,P},remove:function(E){E=this.root+E;var F=this.files[E];if(F||(E.slice(-1)!=="/"&&(E+="/"),F=this.files[E]),F&&!F.dir)delete this.files[E];else for(var M=this.filter(function(R,N){return N.name.slice(0,E.length)===E}),P=0;P<M.length;P++)delete this.files[M[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var F,M={};try{if((M=r.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");r.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var P=M.comment||this.comment||"";F=f.generateWorker(this,M,P)}catch(R){(F=new o("error")).error(R)}return new a(F,M.type||"string",M.mimeType)},generateAsync:function(E,F){return this.generateInternalStream(E).accumulate(F)},generateNodeStream:function(E,F){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(F)}};t.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,t,e){"use strict";t.exports=n("stream")},{stream:void 0}],17:[function(n,t,e){"use strict";var i=n("./DataReader");function s(r){i.call(this,r);for(var o=0;o<this.data.length;o++)r[o]=255&r[o]}n("../utils").inherits(s,i),s.prototype.byteAt=function(r){return this.data[this.zero+r]},s.prototype.lastIndexOfSignature=function(r){for(var o=r.charCodeAt(0),a=r.charCodeAt(1),c=r.charCodeAt(2),u=r.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===o&&this.data[d+1]===a&&this.data[d+2]===c&&this.data[d+3]===u)return d-this.zero;return-1},s.prototype.readAndCheckSignature=function(r){var o=r.charCodeAt(0),a=r.charCodeAt(1),c=r.charCodeAt(2),u=r.charCodeAt(3),d=this.readData(4);return o===d[0]&&a===d[1]&&c===d[2]&&u===d[3]},s.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},t.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,t,e){"use strict";var i=n("../utils");function s(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var o,a=0;for(this.checkOffset(r),o=this.index+r-1;o>=this.index;o--)a=(a<<8)+this.byteAt(o);return this.index+=r,a},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},t.exports=s},{"../utils":32}],19:[function(n,t,e){"use strict";var i=n("./Uint8ArrayReader");function s(r){i.call(this,r)}n("../utils").inherits(s,i),s.prototype.readData=function(r){this.checkOffset(r);var o=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},t.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,t,e){"use strict";var i=n("./DataReader");function s(r){i.call(this,r)}n("../utils").inherits(s,i),s.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},s.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},s.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},s.prototype.readData=function(r){this.checkOffset(r);var o=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},t.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,t,e){"use strict";var i=n("./ArrayReader");function s(r){i.call(this,r)}n("../utils").inherits(s,i),s.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,o},t.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,t,e){"use strict";var i=n("../utils"),s=n("../support"),r=n("./ArrayReader"),o=n("./StringReader"),a=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");t.exports=function(u){var d=i.getTypeOf(u);return i.checkSupport(d),d!=="string"||s.uint8array?d==="nodebuffer"?new a(u):s.uint8array?new c(i.transformTo("uint8array",u)):new r(i.transformTo("array",u)):new o(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,t,e){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,t,e){"use strict";var i=n("./GenericWorker"),s=n("../utils");function r(o){i.call(this,"ConvertWorker to "+o),this.destType=o}s.inherits(r,i),r.prototype.processChunk=function(o){this.push({data:s.transformTo(this.destType,o.data),meta:o.meta})},t.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(n,t,e){"use strict";var i=n("./GenericWorker"),s=n("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(r,i),r.prototype.processChunk=function(o){this.streamInfo.crc32=s(o.data,this.streamInfo.crc32||0),this.push(o)},t.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,t,e){"use strict";var i=n("../utils"),s=n("./GenericWorker");function r(o){s.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}i.inherits(r,s),r.prototype.processChunk=function(o){if(o){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+o.data.length}s.prototype.processChunk.call(this,o)},t.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(n,t,e){"use strict";var i=n("../utils"),s=n("./GenericWorker");function r(o){s.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(c){a.dataIsReady=!0,a.data=c,a.max=c&&c.length||0,a.type=i.getTypeOf(c),a.isPaused||a._tickAndRepeat()},function(c){a.error(c)})}i.inherits(r,s),r.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,a);break;case"uint8array":o=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":o=this.data.slice(this.index,a)}return this.index=a,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(n,t,e){"use strict";function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,r){return this._listeners[s].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,r){if(this._listeners[s])for(var o=0;o<this._listeners[s].length;o++)this._listeners[s][o].call(this,r)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var r=this;return s.on("data",function(o){r.processChunk(o)}),s.on("end",function(){r.end()}),s.on("error",function(o){r.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,r){return this.extraStreamInfo[s]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},t.exports=i},{}],29:[function(n,t,e){"use strict";var i=n("../utils"),s=n("./ConvertWorker"),r=n("./GenericWorker"),o=n("../base64"),a=n("../support"),c=n("../external"),u=null;if(a.nodestream)try{u=n("../nodejs/NodejsStreamOutputAdapter")}catch(p){}function d(p,g){return new c.Promise(function(_,b){var w=[],S=p._internalType,C=p._outputType,E=p._mimeType;p.on("data",function(F,M){w.push(F),g&&g(M)}).on("error",function(F){w=[],b(F)}).on("end",function(){try{var F=function(M,P,R){switch(M){case"blob":return i.newBlob(i.transformTo("arraybuffer",P),R);case"base64":return o.encode(P);default:return i.transformTo(M,P)}}(C,function(M,P){var R,N=0,Y=null,T=0;for(R=0;R<P.length;R++)T+=P[R].length;switch(M){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(Y=new Uint8Array(T),R=0;R<P.length;R++)Y.set(P[R],N),N+=P[R].length;return Y;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+M+"'")}}(S,w),E);_(F)}catch(M){b(M)}w=[]}).resume()})}function f(p,g,_){var b=g;switch(g){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=g,this._mimeType=_,i.checkSupport(b),this._worker=p.pipe(new s(b)),p.lock()}catch(w){this._worker=new r("error"),this._worker.error(w)}}f.prototype={accumulate:function(p){return d(this,p)},on:function(p,g){var _=this;return p==="data"?this._worker.on(p,function(b){g.call(_,b.data,b.meta)}):this._worker.on(p,function(){i.delay(g,arguments,_)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},p)}},t.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,t,e){"use strict";if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",e.nodebuffer=typeof Buffer!="undefined",e.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=new Blob([i],{type:"application/zip"}).size===0}catch(r){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),e.blob=s.getBlob("application/zip").size===0}catch(o){e.blob=!1}}}try{e.nodestream=!!n("readable-stream").Readable}catch(r){e.nodestream=!1}},{"readable-stream":16}],31:[function(n,t,e){"use strict";for(var i=n("./utils"),s=n("./support"),r=n("./nodejsUtils"),o=n("./stream/GenericWorker"),a=new Array(256),c=0;c<256;c++)a[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;a[254]=a[254]=1;function u(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}e.utf8encode=function(f){return s.nodebuffer?r.newBufferFrom(f,"utf-8"):function(p){var g,_,b,w,S,C=p.length,E=0;for(w=0;w<C;w++)(64512&(_=p.charCodeAt(w)))==55296&&w+1<C&&(64512&(b=p.charCodeAt(w+1)))==56320&&(_=65536+(_-55296<<10)+(b-56320),w++),E+=_<128?1:_<2048?2:_<65536?3:4;for(g=s.uint8array?new Uint8Array(E):new Array(E),w=S=0;S<E;w++)(64512&(_=p.charCodeAt(w)))==55296&&w+1<C&&(64512&(b=p.charCodeAt(w+1)))==56320&&(_=65536+(_-55296<<10)+(b-56320),w++),_<128?g[S++]=_:(_<2048?g[S++]=192|_>>>6:(_<65536?g[S++]=224|_>>>12:(g[S++]=240|_>>>18,g[S++]=128|_>>>12&63),g[S++]=128|_>>>6&63),g[S++]=128|63&_);return g}(f)},e.utf8decode=function(f){return s.nodebuffer?i.transformTo("nodebuffer",f).toString("utf-8"):function(p){var g,_,b,w,S=p.length,C=new Array(2*S);for(g=_=0;g<S;)if((b=p[g++])<128)C[_++]=b;else if(4<(w=a[b]))C[_++]=65533,g+=w-1;else{for(b&=w===2?31:w===3?15:7;1<w&&g<S;)b=b<<6|63&p[g++],w--;1<w?C[_++]=65533:b<65536?C[_++]=b:(b-=65536,C[_++]=55296|b>>10&1023,C[_++]=56320|1023&b)}return C.length!==_&&(C.subarray?C=C.subarray(0,_):C.length=_),i.applyFromCharCode(C)}(f=i.transformTo(s.uint8array?"uint8array":"array",f))},i.inherits(u,o),u.prototype.processChunk=function(f){var p=i.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var _=function(w,S){var C;for((S=S||w.length)>w.length&&(S=w.length),C=S-1;0<=C&&(192&w[C])==128;)C--;return C<0||C===0?S:C+a[w[C]]>S?C:S}(p),b=p;_!==p.length&&(s.uint8array?(b=p.subarray(0,_),this.leftOver=p.subarray(_,p.length)):(b=p.slice(0,_),this.leftOver=p.slice(_,p.length))),this.push({data:e.utf8decode(b),meta:f.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=u,i.inherits(d,o),d.prototype.processChunk=function(f){this.push({data:e.utf8encode(f.data),meta:f.meta})},e.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,t,e){"use strict";var i=n("./support"),s=n("./base64"),r=n("./nodejsUtils"),o=n("./external");function a(g){return g}function c(g,_){for(var b=0;b<g.length;++b)_[b]=255&g.charCodeAt(b);return _}n("setimmediate"),e.newBlob=function(g,_){e.checkSupport("blob");try{return new Blob([g],{type:_})}catch(w){try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(g),b.getBlob(_)}catch(S){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(g,_,b){var w=[],S=0,C=g.length;if(C<=b)return String.fromCharCode.apply(null,g);for(;S<C;)_==="array"||_==="nodebuffer"?w.push(String.fromCharCode.apply(null,g.slice(S,Math.min(S+b,C)))):w.push(String.fromCharCode.apply(null,g.subarray(S,Math.min(S+b,C)))),S+=b;return w.join("")},stringifyByChar:function(g){for(var _="",b=0;b<g.length;b++)_+=String.fromCharCode(g[b]);return _},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(g){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch(g){return!1}}()}};function d(g){var _=65536,b=e.getTypeOf(g),w=!0;if(b==="uint8array"?w=u.applyCanBeUsed.uint8array:b==="nodebuffer"&&(w=u.applyCanBeUsed.nodebuffer),w)for(;1<_;)try{return u.stringifyByChunk(g,b,_)}catch(S){_=Math.floor(_/2)}return u.stringifyByChar(g)}function f(g,_){for(var b=0;b<g.length;b++)_[b]=g[b];return _}e.applyFromCharCode=d;var p={};p.string={string:a,array:function(g){return c(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return c(g,new Uint8Array(g.length))},nodebuffer:function(g){return c(g,r.allocBuffer(g.length))}},p.array={string:d,array:a,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return r.newBufferFrom(g)}},p.arraybuffer={string:function(g){return d(new Uint8Array(g))},array:function(g){return f(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:a,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return r.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:d,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:a,nodebuffer:function(g){return r.newBufferFrom(g)}},p.nodebuffer={string:d,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return f(g,new Uint8Array(g.length))},nodebuffer:a},e.transformTo=function(g,_){if(_=_||"",!g)return _;e.checkSupport(g);var b=e.getTypeOf(_);return p[b][g](_)},e.resolve=function(g){for(var _=g.split("/"),b=[],w=0;w<_.length;w++){var S=_[w];S==="."||S===""&&w!==0&&w!==_.length-1||(S===".."?b.pop():b.push(S))}return b.join("/")},e.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(g)?"nodebuffer":i.uint8array&&g instanceof Uint8Array?"uint8array":i.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(g){if(!i[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(g){var _,b,w="";for(b=0;b<(g||"").length;b++)w+="\\x"+((_=g.charCodeAt(b))<16?"0":"")+_.toString(16).toUpperCase();return w},e.delay=function(g,_,b){setImmediate(function(){g.apply(b||null,_||[])})},e.inherits=function(g,_){function b(){}b.prototype=_.prototype,g.prototype=new b},e.extend=function(){var g,_,b={};for(g=0;g<arguments.length;g++)for(_ in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],_)&&b[_]===void 0&&(b[_]=arguments[g][_]);return b},e.prepareContent=function(g,_,b,w,S){return o.Promise.resolve(_).then(function(C){return i.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader!="undefined"?new o.Promise(function(E,F){var M=new FileReader;M.onload=function(P){E(P.target.result)},M.onerror=function(P){F(P.target.error)},M.readAsArrayBuffer(C)}):C}).then(function(C){var E=e.getTypeOf(C);return E?(E==="arraybuffer"?C=e.transformTo("uint8array",C):E==="string"&&(S?C=s.decode(C):b&&w!==!0&&(C=function(F){return c(F,i.uint8array?new Uint8Array(F.length):new Array(F.length))}(C))),C):o.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,t,e){"use strict";var i=n("./reader/readerFor"),s=n("./utils"),r=n("./signature"),o=n("./zipEntry"),a=n("./support");function c(u){this.files=[],this.loadOptions=u}c.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(d)+", expected "+s.pretty(u)+")")}},isSignature:function(u,d){var f=this.reader.index;this.reader.setIndex(u);var p=this.reader.readString(4)===d;return this.reader.setIndex(f),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),d=a.uint8array?"uint8array":"array",f=s.transformTo(d,u);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,d,f,p=this.zip64EndOfCentralSize-44;0<p;)u=this.reader.readInt(2),d=this.reader.readInt(4),f=this.reader.readData(d),this.zip64ExtensibleData[u]={id:u,length:d,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,d;for(u=0;u<this.files.length;u++)d=this.files[u],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(u=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var d=u;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var p=d-f;if(0<p)this.isSignature(d,r.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(u){this.reader=i(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,t,e){"use strict";var i=n("./reader/readerFor"),s=n("./utils"),r=n("./compressedObject"),o=n("./crc32"),a=n("./utf8"),c=n("./compressions"),u=n("./support");function d(f,p){this.options=f,this.loadOptions=p}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var p,g;if(f.skip(22),this.fileNameLength=f.readInt(2),g=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(_){for(var b in c)if(Object.prototype.hasOwnProperty.call(c,b)&&c[b].magic===_)return c[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,p,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var p=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(p),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var p,g,_,b=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<b;)p=f.readInt(2),g=f.readInt(2),_=f.readData(g),this.extraFields[p]={id:p,length:g,value:_};f.setIndex(b)},handleUTF8:function(){var f=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var b=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var p=i(f.value);return p.readInt(1)!==1||o(this.fileName)!==p.readInt(4)?null:a.utf8decode(p.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var p=i(f.value);return p.readInt(1)!==1||o(this.fileComment)!==p.readInt(4)?null:a.utf8decode(p.readData(f.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,t,e){"use strict";function i(p,g,_){this.name=p,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=g,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var s=n("./stream/StreamHelper"),r=n("./stream/DataWorker"),o=n("./utf8"),a=n("./compressedObject"),c=n("./stream/GenericWorker");i.prototype={internalStream:function(p){var g=null,_="string";try{if(!p)throw new Error("No output type specified.");var b=(_=p.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),g=this._decompressWorker();var w=!this._dataBinary;w&&!b&&(g=g.pipe(new o.Utf8EncodeWorker)),!w&&b&&(g=g.pipe(new o.Utf8DecodeWorker))}catch(S){(g=new c("error")).error(S)}return new s(g,_,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof a&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(_,p,g)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof c?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)i.prototype[u[f]]=d;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,t,e){(function(i){"use strict";var s,r,o=i.MutationObserver||i.WebKitMutationObserver;if(o){var a=0,c=new o(p),u=i.document.createTextNode("");c.observe(u,{characterData:!0}),s=function(){u.data=a=++a%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var g=i.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},i.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var d=new i.MessageChannel;d.port1.onmessage=p,s=function(){d.port2.postMessage(0)}}var f=[];function p(){var g,_;r=!0;for(var b=f.length;b;){for(_=f,f=[],g=-1;++g<b;)_[g]();b=f.length}r=!1}t.exports=function(g){f.push(g)!==1||r||s()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(n,t,e){"use strict";var i=n("immediate");function s(){}var r={},o=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function u(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,b!==s&&g(this,b)}function d(b,w,S){this.promise=b,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function f(b,w,S){i(function(){var C;try{C=w(S)}catch(E){return r.reject(b,E)}C===b?r.reject(b,new TypeError("Cannot resolve promise with itself")):r.resolve(b,C)})}function p(b){var w=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof w=="function")return function(){w.apply(b,arguments)}}function g(b,w){var S=!1;function C(M){S||(S=!0,r.reject(b,M))}function E(M){S||(S=!0,r.resolve(b,M))}var F=_(function(){w(E,C)});F.status==="error"&&C(F.value)}function _(b,w){var S={};try{S.value=b(w),S.status="success"}catch(C){S.status="error",S.value=C}return S}(t.exports=u).prototype.finally=function(b){if(typeof b!="function")return this;var w=this.constructor;return this.then(function(S){return w.resolve(b()).then(function(){return S})},function(S){return w.resolve(b()).then(function(){throw S})})},u.prototype.catch=function(b){return this.then(null,b)},u.prototype.then=function(b,w){if(typeof b!="function"&&this.state===a||typeof w!="function"&&this.state===o)return this;var S=new this.constructor(s);return this.state!==c?f(S,this.state===a?b:w,this.outcome):this.queue.push(new d(S,b,w)),S},d.prototype.callFulfilled=function(b){r.resolve(this.promise,b)},d.prototype.otherCallFulfilled=function(b){f(this.promise,this.onFulfilled,b)},d.prototype.callRejected=function(b){r.reject(this.promise,b)},d.prototype.otherCallRejected=function(b){f(this.promise,this.onRejected,b)},r.resolve=function(b,w){var S=_(p,w);if(S.status==="error")return r.reject(b,S.value);var C=S.value;if(C)g(b,C);else{b.state=a,b.outcome=w;for(var E=-1,F=b.queue.length;++E<F;)b.queue[E].callFulfilled(w)}return b},r.reject=function(b,w){b.state=o,b.outcome=w;for(var S=-1,C=b.queue.length;++S<C;)b.queue[S].callRejected(w);return b},u.resolve=function(b){return b instanceof this?b:r.resolve(new this(s),b)},u.reject=function(b){var w=new this(s);return r.reject(w,b)},u.all=function(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=b.length,C=!1;if(!S)return this.resolve([]);for(var E=new Array(S),F=0,M=-1,P=new this(s);++M<S;)R(b[M],M);return P;function R(N,Y){w.resolve(N).then(function(T){E[Y]=T,++F!==S||C||(C=!0,r.resolve(P,E))},function(T){C||(C=!0,r.reject(P,T))})}},u.race=function(b){var w=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=b.length,C=!1;if(!S)return this.resolve([]);for(var E=-1,F=new this(s);++E<S;)M=b[E],w.resolve(M).then(function(P){C||(C=!0,r.resolve(F,P))},function(P){C||(C=!0,r.reject(F,P))});var M;return F}},{immediate:36}],38:[function(n,t,e){"use strict";var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,t,e){"use strict";var i=n("./zlib/deflate"),s=n("./utils/common"),r=n("./utils/strings"),o=n("./zlib/messages"),a=n("./zlib/zstream"),c=Object.prototype.toString,u=0,d=-1,f=0,p=8;function g(b){if(!(this instanceof g))return new g(b);this.options=s.assign({level:d,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},b||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var S=i.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(S!==u)throw new Error(o[S]);if(w.header&&i.deflateSetHeader(this.strm,w.header),w.dictionary){var C;if(C=typeof w.dictionary=="string"?r.string2buf(w.dictionary):c.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(S=i.deflateSetDictionary(this.strm,C))!==u)throw new Error(o[S]);this._dict_set=!0}}function _(b,w){var S=new g(w);if(S.push(b,!0),S.err)throw S.msg||o[S.err];return S.result}g.prototype.push=function(b,w){var S,C,E=this.strm,F=this.options.chunkSize;if(this.ended)return!1;C=w===~~w?w:w===!0?4:0,typeof b=="string"?E.input=r.string2buf(b):c.call(b)==="[object ArrayBuffer]"?E.input=new Uint8Array(b):E.input=b,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(F),E.next_out=0,E.avail_out=F),(S=i.deflate(E,C))!==1&&S!==u)return this.onEnd(S),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(s.shrinkBuf(E.output,E.next_out))):this.onData(s.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&S!==1);return C===4?(S=i.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===u):C!==2||(this.onEnd(u),!(E.avail_out=0))},g.prototype.onData=function(b){this.chunks.push(b)},g.prototype.onEnd=function(b){b===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},e.Deflate=g,e.deflate=_,e.deflateRaw=function(b,w){return(w=w||{}).raw=!0,_(b,w)},e.gzip=function(b,w){return(w=w||{}).gzip=!0,_(b,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,t,e){"use strict";var i=n("./zlib/inflate"),s=n("./utils/common"),r=n("./utils/strings"),o=n("./zlib/constants"),a=n("./zlib/messages"),c=n("./zlib/zstream"),u=n("./zlib/gzheader"),d=Object.prototype.toString;function f(g){if(!(this instanceof f))return new f(g);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},g||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||g&&g.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var b=i.inflateInit2(this.strm,_.windowBits);if(b!==o.Z_OK)throw new Error(a[b]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function p(g,_){var b=new f(_);if(b.push(g,!0),b.err)throw b.msg||a[b.err];return b.result}f.prototype.push=function(g,_){var b,w,S,C,E,F,M=this.strm,P=this.options.chunkSize,R=this.options.dictionary,N=!1;if(this.ended)return!1;w=_===~~_?_:_===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof g=="string"?M.input=r.binstring2buf(g):d.call(g)==="[object ArrayBuffer]"?M.input=new Uint8Array(g):M.input=g,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new s.Buf8(P),M.next_out=0,M.avail_out=P),(b=i.inflate(M,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&R&&(F=typeof R=="string"?r.string2buf(R):d.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,b=i.inflateSetDictionary(this.strm,F)),b===o.Z_BUF_ERROR&&N===!0&&(b=o.Z_OK,N=!1),b!==o.Z_STREAM_END&&b!==o.Z_OK)return this.onEnd(b),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&b!==o.Z_STREAM_END&&(M.avail_in!==0||w!==o.Z_FINISH&&w!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=r.utf8border(M.output,M.next_out),C=M.next_out-S,E=r.buf2string(M.output,S),M.next_out=C,M.avail_out=P-C,C&&s.arraySet(M.output,M.output,S,C,0),this.onData(E)):this.onData(s.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(N=!0)}while((0<M.avail_in||M.avail_out===0)&&b!==o.Z_STREAM_END);return b===o.Z_STREAM_END&&(w=o.Z_FINISH),w===o.Z_FINISH?(b=i.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===o.Z_OK):w!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(M.avail_out=0))},f.prototype.onData=function(g){this.chunks.push(g)},f.prototype.onEnd=function(g){g===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},e.Inflate=f,e.inflate=p,e.inflateRaw=function(g,_){return(_=_||{}).raw=!0,p(g,_)},e.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,t,e){"use strict";var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";e.assign=function(o){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var c=a.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var u in c)c.hasOwnProperty(u)&&(o[u]=c[u])}}return o},e.shrinkBuf=function(o,a){return o.length===a?o:o.subarray?o.subarray(0,a):(o.length=a,o)};var s={arraySet:function(o,a,c,u,d){if(a.subarray&&o.subarray)o.set(a.subarray(c,c+u),d);else for(var f=0;f<u;f++)o[d+f]=a[c+f]},flattenChunks:function(o){var a,c,u,d,f,p;for(a=u=0,c=o.length;a<c;a++)u+=o[a].length;for(p=new Uint8Array(u),a=d=0,c=o.length;a<c;a++)f=o[a],p.set(f,d),d+=f.length;return p}},r={arraySet:function(o,a,c,u,d){for(var f=0;f<u;f++)o[d+f]=a[c+f]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,s)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,r))},e.setTyped(i)},{}],42:[function(n,t,e){"use strict";var i=n("./common"),s=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(u){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){r=!1}for(var o=new i.Buf8(256),a=0;a<256;a++)o[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function c(u,d){if(d<65537&&(u.subarray&&r||!u.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(u,d));for(var f="",p=0;p<d;p++)f+=String.fromCharCode(u[p]);return f}o[254]=o[254]=1,e.string2buf=function(u){var d,f,p,g,_,b=u.length,w=0;for(g=0;g<b;g++)(64512&(f=u.charCodeAt(g)))==55296&&g+1<b&&(64512&(p=u.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),w+=f<128?1:f<2048?2:f<65536?3:4;for(d=new i.Buf8(w),g=_=0;_<w;g++)(64512&(f=u.charCodeAt(g)))==55296&&g+1<b&&(64512&(p=u.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),f<128?d[_++]=f:(f<2048?d[_++]=192|f>>>6:(f<65536?d[_++]=224|f>>>12:(d[_++]=240|f>>>18,d[_++]=128|f>>>12&63),d[_++]=128|f>>>6&63),d[_++]=128|63&f);return d},e.buf2binstring=function(u){return c(u,u.length)},e.binstring2buf=function(u){for(var d=new i.Buf8(u.length),f=0,p=d.length;f<p;f++)d[f]=u.charCodeAt(f);return d},e.buf2string=function(u,d){var f,p,g,_,b=d||u.length,w=new Array(2*b);for(f=p=0;f<b;)if((g=u[f++])<128)w[p++]=g;else if(4<(_=o[g]))w[p++]=65533,f+=_-1;else{for(g&=_===2?31:_===3?15:7;1<_&&f<b;)g=g<<6|63&u[f++],_--;1<_?w[p++]=65533:g<65536?w[p++]=g:(g-=65536,w[p++]=55296|g>>10&1023,w[p++]=56320|1023&g)}return c(w,p)},e.utf8border=function(u,d){var f;for((d=d||u.length)>u.length&&(d=u.length),f=d-1;0<=f&&(192&u[f])==128;)f--;return f<0||f===0?d:f+o[u[f]]>d?f:d}},{"./common":41}],43:[function(n,t,e){"use strict";t.exports=function(i,s,r,o){for(var a=65535&i|0,c=i>>>16&65535|0,u=0;r!==0;){for(r-=u=2e3<r?2e3:r;c=c+(a=a+s[o++]|0)|0,--u;);a%=65521,c%=65521}return a|c<<16|0}},{}],44:[function(n,t,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,t,e){"use strict";var i=function(){for(var s,r=[],o=0;o<256;o++){s=o;for(var a=0;a<8;a++)s=1&s?3988292384^s>>>1:s>>>1;r[o]=s}return r}();t.exports=function(s,r,o,a){var c=i,u=a+o;s^=-1;for(var d=a;d<u;d++)s=s>>>8^c[255&(s^r[d])];return-1^s}},{}],46:[function(n,t,e){"use strict";var i,s=n("../utils/common"),r=n("./trees"),o=n("./adler32"),a=n("./crc32"),c=n("./messages"),u=0,d=4,f=0,p=-2,g=-1,_=4,b=2,w=8,S=9,C=286,E=30,F=19,M=2*C+1,P=15,R=3,N=258,Y=N+R+1,T=42,I=113,x=1,H=2,lt=3,V=4;function rt(v,q){return v.msg=c[q],q}function X(v){return(v<<1)-(4<v?9:0)}function ot(v){for(var q=v.length;0<=--q;)v[q]=0}function W(v){var q=v.state,j=q.pending;j>v.avail_out&&(j=v.avail_out),j!==0&&(s.arraySet(v.output,q.pending_buf,q.pending_out,j,v.next_out),v.next_out+=j,q.pending_out+=j,v.total_out+=j,v.avail_out-=j,q.pending-=j,q.pending===0&&(q.pending_out=0))}function z(v,q){r._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,q),v.block_start=v.strstart,W(v.strm)}function ut(v,q){v.pending_buf[v.pending++]=q}function tt(v,q){v.pending_buf[v.pending++]=q>>>8&255,v.pending_buf[v.pending++]=255&q}function $(v,q){var j,D,A=v.max_chain_length,L=v.strstart,Z=v.prev_length,G=v.nice_match,B=v.strstart>v.w_size-Y?v.strstart-(v.w_size-Y):0,Q=v.window,et=v.w_mask,J=v.prev,dt=v.strstart+N,Ct=Q[L+Z-1],mt=Q[L+Z];v.prev_length>=v.good_match&&(A>>=2),G>v.lookahead&&(G=v.lookahead);do if(Q[(j=q)+Z]===mt&&Q[j+Z-1]===Ct&&Q[j]===Q[L]&&Q[++j]===Q[L+1]){L+=2,j++;do;while(Q[++L]===Q[++j]&&Q[++L]===Q[++j]&&Q[++L]===Q[++j]&&Q[++L]===Q[++j]&&Q[++L]===Q[++j]&&Q[++L]===Q[++j]&&Q[++L]===Q[++j]&&Q[++L]===Q[++j]&&L<dt);if(D=N-(dt-L),L=dt-N,Z<D){if(v.match_start=q,G<=(Z=D))break;Ct=Q[L+Z-1],mt=Q[L+Z]}}while((q=J[q&et])>B&&--A!=0);return Z<=v.lookahead?Z:v.lookahead}function Et(v){var q,j,D,A,L,Z,G,B,Q,et,J=v.w_size;do{if(A=v.window_size-v.lookahead-v.strstart,v.strstart>=J+(J-Y)){for(s.arraySet(v.window,v.window,J,J,0),v.match_start-=J,v.strstart-=J,v.block_start-=J,q=j=v.hash_size;D=v.head[--q],v.head[q]=J<=D?D-J:0,--j;);for(q=j=J;D=v.prev[--q],v.prev[q]=J<=D?D-J:0,--j;);A+=J}if(v.strm.avail_in===0)break;if(Z=v.strm,G=v.window,B=v.strstart+v.lookahead,Q=A,et=void 0,et=Z.avail_in,Q<et&&(et=Q),j=et===0?0:(Z.avail_in-=et,s.arraySet(G,Z.input,Z.next_in,et,B),Z.state.wrap===1?Z.adler=o(Z.adler,G,et,B):Z.state.wrap===2&&(Z.adler=a(Z.adler,G,et,B)),Z.next_in+=et,Z.total_in+=et,et),v.lookahead+=j,v.lookahead+v.insert>=R)for(L=v.strstart-v.insert,v.ins_h=v.window[L],v.ins_h=(v.ins_h<<v.hash_shift^v.window[L+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[L+R-1])&v.hash_mask,v.prev[L&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=L,L++,v.insert--,!(v.lookahead+v.insert<R)););}while(v.lookahead<Y&&v.strm.avail_in!==0)}function Nt(v,q){for(var j,D;;){if(v.lookahead<Y){if(Et(v),v.lookahead<Y&&q===u)return x;if(v.lookahead===0)break}if(j=0,v.lookahead>=R&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+R-1])&v.hash_mask,j=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),j!==0&&v.strstart-j<=v.w_size-Y&&(v.match_length=$(v,j)),v.match_length>=R)if(D=r._tr_tally(v,v.strstart-v.match_start,v.match_length-R),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=R){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+R-1])&v.hash_mask,j=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else D=r._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(D&&(z(v,!1),v.strm.avail_out===0))return x}return v.insert=v.strstart<R-1?v.strstart:R-1,q===d?(z(v,!0),v.strm.avail_out===0?lt:V):v.last_lit&&(z(v,!1),v.strm.avail_out===0)?x:H}function gt(v,q){for(var j,D,A;;){if(v.lookahead<Y){if(Et(v),v.lookahead<Y&&q===u)return x;if(v.lookahead===0)break}if(j=0,v.lookahead>=R&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+R-1])&v.hash_mask,j=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=R-1,j!==0&&v.prev_length<v.max_lazy_match&&v.strstart-j<=v.w_size-Y&&(v.match_length=$(v,j),v.match_length<=5&&(v.strategy===1||v.match_length===R&&4096<v.strstart-v.match_start)&&(v.match_length=R-1)),v.prev_length>=R&&v.match_length<=v.prev_length){for(A=v.strstart+v.lookahead-R,D=r._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-R),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=A&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+R-1])&v.hash_mask,j=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=R-1,v.strstart++,D&&(z(v,!1),v.strm.avail_out===0))return x}else if(v.match_available){if((D=r._tr_tally(v,0,v.window[v.strstart-1]))&&z(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return x}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(D=r._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<R-1?v.strstart:R-1,q===d?(z(v,!0),v.strm.avail_out===0?lt:V):v.last_lit&&(z(v,!1),v.strm.avail_out===0)?x:H}function xt(v,q,j,D,A){this.good_length=v,this.max_lazy=q,this.nice_length=j,this.max_chain=D,this.func=A}function Gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*M),this.dyn_dtree=new s.Buf16(2*(2*E+1)),this.bl_tree=new s.Buf16(2*(2*F+1)),ot(this.dyn_ltree),ot(this.dyn_dtree),ot(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(P+1),this.heap=new s.Buf16(2*C+1),ot(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*C+1),ot(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function zt(v){var q;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=b,(q=v.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?T:I,v.adler=q.wrap===2?0:1,q.last_flush=u,r._tr_init(q),f):rt(v,p)}function Fe(v){var q=zt(v);return q===f&&function(j){j.window_size=2*j.w_size,ot(j.head),j.max_lazy_match=i[j.level].max_lazy,j.good_match=i[j.level].good_length,j.nice_match=i[j.level].nice_length,j.max_chain_length=i[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=R-1,j.match_available=0,j.ins_h=0}(v.state),q}function Ee(v,q,j,D,A,L){if(!v)return p;var Z=1;if(q===g&&(q=6),D<0?(Z=0,D=-D):15<D&&(Z=2,D-=16),A<1||S<A||j!==w||D<8||15<D||q<0||9<q||L<0||_<L)return rt(v,p);D===8&&(D=9);var G=new Gt;return(v.state=G).strm=v,G.wrap=Z,G.gzhead=null,G.w_bits=D,G.w_size=1<<G.w_bits,G.w_mask=G.w_size-1,G.hash_bits=A+7,G.hash_size=1<<G.hash_bits,G.hash_mask=G.hash_size-1,G.hash_shift=~~((G.hash_bits+R-1)/R),G.window=new s.Buf8(2*G.w_size),G.head=new s.Buf16(G.hash_size),G.prev=new s.Buf16(G.w_size),G.lit_bufsize=1<<A+6,G.pending_buf_size=4*G.lit_bufsize,G.pending_buf=new s.Buf8(G.pending_buf_size),G.d_buf=1*G.lit_bufsize,G.l_buf=3*G.lit_bufsize,G.level=q,G.strategy=L,G.method=j,Fe(v)}i=[new xt(0,0,0,0,function(v,q){var j=65535;for(j>v.pending_buf_size-5&&(j=v.pending_buf_size-5);;){if(v.lookahead<=1){if(Et(v),v.lookahead===0&&q===u)return x;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var D=v.block_start+j;if((v.strstart===0||v.strstart>=D)&&(v.lookahead=v.strstart-D,v.strstart=D,z(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-Y&&(z(v,!1),v.strm.avail_out===0))return x}return v.insert=0,q===d?(z(v,!0),v.strm.avail_out===0?lt:V):(v.strstart>v.block_start&&(z(v,!1),v.strm.avail_out),x)}),new xt(4,4,8,4,Nt),new xt(4,5,16,8,Nt),new xt(4,6,32,32,Nt),new xt(4,4,16,16,gt),new xt(8,16,32,32,gt),new xt(8,16,128,128,gt),new xt(8,32,128,256,gt),new xt(32,128,258,1024,gt),new xt(32,258,258,4096,gt)],e.deflateInit=function(v,q){return Ee(v,q,w,15,8,0)},e.deflateInit2=Ee,e.deflateReset=Fe,e.deflateResetKeep=zt,e.deflateSetHeader=function(v,q){return v&&v.state?v.state.wrap!==2?p:(v.state.gzhead=q,f):p},e.deflate=function(v,q){var j,D,A,L;if(!v||!v.state||5<q||q<0)return v?rt(v,p):p;if(D=v.state,!v.output||!v.input&&v.avail_in!==0||D.status===666&&q!==d)return rt(v,v.avail_out===0?-5:p);if(D.strm=v,j=D.last_flush,D.last_flush=q,D.status===T)if(D.wrap===2)v.adler=0,ut(D,31),ut(D,139),ut(D,8),D.gzhead?(ut(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),ut(D,255&D.gzhead.time),ut(D,D.gzhead.time>>8&255),ut(D,D.gzhead.time>>16&255),ut(D,D.gzhead.time>>24&255),ut(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),ut(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(ut(D,255&D.gzhead.extra.length),ut(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(v.adler=a(v.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(ut(D,0),ut(D,0),ut(D,0),ut(D,0),ut(D,0),ut(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),ut(D,3),D.status=I);else{var Z=w+(D.w_bits-8<<4)<<8;Z|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(Z|=32),Z+=31-Z%31,D.status=I,tt(D,Z),D.strstart!==0&&(tt(D,v.adler>>>16),tt(D,65535&v.adler)),v.adler=1}if(D.status===69)if(D.gzhead.extra){for(A=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>A&&(v.adler=a(v.adler,D.pending_buf,D.pending-A,A)),W(v),A=D.pending,D.pending!==D.pending_buf_size));)ut(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>A&&(v.adler=a(v.adler,D.pending_buf,D.pending-A,A)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){A=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>A&&(v.adler=a(v.adler,D.pending_buf,D.pending-A,A)),W(v),A=D.pending,D.pending===D.pending_buf_size)){L=1;break}L=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,ut(D,L)}while(L!==0);D.gzhead.hcrc&&D.pending>A&&(v.adler=a(v.adler,D.pending_buf,D.pending-A,A)),L===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){A=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>A&&(v.adler=a(v.adler,D.pending_buf,D.pending-A,A)),W(v),A=D.pending,D.pending===D.pending_buf_size)){L=1;break}L=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,ut(D,L)}while(L!==0);D.gzhead.hcrc&&D.pending>A&&(v.adler=a(v.adler,D.pending_buf,D.pending-A,A)),L===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&W(v),D.pending+2<=D.pending_buf_size&&(ut(D,255&v.adler),ut(D,v.adler>>8&255),v.adler=0,D.status=I)):D.status=I),D.pending!==0){if(W(v),v.avail_out===0)return D.last_flush=-1,f}else if(v.avail_in===0&&X(q)<=X(j)&&q!==d)return rt(v,-5);if(D.status===666&&v.avail_in!==0)return rt(v,-5);if(v.avail_in!==0||D.lookahead!==0||q!==u&&D.status!==666){var G=D.strategy===2?function(B,Q){for(var et;;){if(B.lookahead===0&&(Et(B),B.lookahead===0)){if(Q===u)return x;break}if(B.match_length=0,et=r._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,et&&(z(B,!1),B.strm.avail_out===0))return x}return B.insert=0,Q===d?(z(B,!0),B.strm.avail_out===0?lt:V):B.last_lit&&(z(B,!1),B.strm.avail_out===0)?x:H}(D,q):D.strategy===3?function(B,Q){for(var et,J,dt,Ct,mt=B.window;;){if(B.lookahead<=N){if(Et(B),B.lookahead<=N&&Q===u)return x;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=R&&0<B.strstart&&(J=mt[dt=B.strstart-1])===mt[++dt]&&J===mt[++dt]&&J===mt[++dt]){Ct=B.strstart+N;do;while(J===mt[++dt]&&J===mt[++dt]&&J===mt[++dt]&&J===mt[++dt]&&J===mt[++dt]&&J===mt[++dt]&&J===mt[++dt]&&J===mt[++dt]&&dt<Ct);B.match_length=N-(Ct-dt),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=R?(et=r._tr_tally(B,1,B.match_length-R),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(et=r._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),et&&(z(B,!1),B.strm.avail_out===0))return x}return B.insert=0,Q===d?(z(B,!0),B.strm.avail_out===0?lt:V):B.last_lit&&(z(B,!1),B.strm.avail_out===0)?x:H}(D,q):i[D.level].func(D,q);if(G!==lt&&G!==V||(D.status=666),G===x||G===lt)return v.avail_out===0&&(D.last_flush=-1),f;if(G===H&&(q===1?r._tr_align(D):q!==5&&(r._tr_stored_block(D,0,0,!1),q===3&&(ot(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),W(v),v.avail_out===0))return D.last_flush=-1,f}return q!==d?f:D.wrap<=0?1:(D.wrap===2?(ut(D,255&v.adler),ut(D,v.adler>>8&255),ut(D,v.adler>>16&255),ut(D,v.adler>>24&255),ut(D,255&v.total_in),ut(D,v.total_in>>8&255),ut(D,v.total_in>>16&255),ut(D,v.total_in>>24&255)):(tt(D,v.adler>>>16),tt(D,65535&v.adler)),W(v),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?f:1)},e.deflateEnd=function(v){var q;return v&&v.state?(q=v.state.status)!==T&&q!==69&&q!==73&&q!==91&&q!==103&&q!==I&&q!==666?rt(v,p):(v.state=null,q===I?rt(v,-3):f):p},e.deflateSetDictionary=function(v,q){var j,D,A,L,Z,G,B,Q,et=q.length;if(!v||!v.state||(L=(j=v.state).wrap)===2||L===1&&j.status!==T||j.lookahead)return p;for(L===1&&(v.adler=o(v.adler,q,et,0)),j.wrap=0,et>=j.w_size&&(L===0&&(ot(j.head),j.strstart=0,j.block_start=0,j.insert=0),Q=new s.Buf8(j.w_size),s.arraySet(Q,q,et-j.w_size,j.w_size,0),q=Q,et=j.w_size),Z=v.avail_in,G=v.next_in,B=v.input,v.avail_in=et,v.next_in=0,v.input=q,Et(j);j.lookahead>=R;){for(D=j.strstart,A=j.lookahead-(R-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[D+R-1])&j.hash_mask,j.prev[D&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=D,D++,--A;);j.strstart=D,j.lookahead=R-1,Et(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=R-1,j.match_available=0,v.next_in=G,v.input=B,v.avail_in=Z,j.wrap=L,f},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,t,e){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,t,e){"use strict";t.exports=function(i,s){var r,o,a,c,u,d,f,p,g,_,b,w,S,C,E,F,M,P,R,N,Y,T,I,x,H;r=i.state,o=i.next_in,x=i.input,a=o+(i.avail_in-5),c=i.next_out,H=i.output,u=c-(s-i.avail_out),d=c+(i.avail_out-257),f=r.dmax,p=r.wsize,g=r.whave,_=r.wnext,b=r.window,w=r.hold,S=r.bits,C=r.lencode,E=r.distcode,F=(1<<r.lenbits)-1,M=(1<<r.distbits)-1;t:do{S<15&&(w+=x[o++]<<S,S+=8,w+=x[o++]<<S,S+=8),P=C[w&F];e:for(;;){if(w>>>=R=P>>>24,S-=R,(R=P>>>16&255)===0)H[c++]=65535&P;else{if(!(16&R)){if(!(64&R)){P=C[(65535&P)+(w&(1<<R)-1)];continue e}if(32&R){r.mode=12;break t}i.msg="invalid literal/length code",r.mode=30;break t}N=65535&P,(R&=15)&&(S<R&&(w+=x[o++]<<S,S+=8),N+=w&(1<<R)-1,w>>>=R,S-=R),S<15&&(w+=x[o++]<<S,S+=8,w+=x[o++]<<S,S+=8),P=E[w&M];n:for(;;){if(w>>>=R=P>>>24,S-=R,!(16&(R=P>>>16&255))){if(!(64&R)){P=E[(65535&P)+(w&(1<<R)-1)];continue n}i.msg="invalid distance code",r.mode=30;break t}if(Y=65535&P,S<(R&=15)&&(w+=x[o++]<<S,(S+=8)<R&&(w+=x[o++]<<S,S+=8)),f<(Y+=w&(1<<R)-1)){i.msg="invalid distance too far back",r.mode=30;break t}if(w>>>=R,S-=R,(R=c-u)<Y){if(g<(R=Y-R)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break t}if(I=b,(T=0)===_){if(T+=p-R,R<N){for(N-=R;H[c++]=b[T++],--R;);T=c-Y,I=H}}else if(_<R){if(T+=p+_-R,(R-=_)<N){for(N-=R;H[c++]=b[T++],--R;);if(T=0,_<N){for(N-=R=_;H[c++]=b[T++],--R;);T=c-Y,I=H}}}else if(T+=_-R,R<N){for(N-=R;H[c++]=b[T++],--R;);T=c-Y,I=H}for(;2<N;)H[c++]=I[T++],H[c++]=I[T++],H[c++]=I[T++],N-=3;N&&(H[c++]=I[T++],1<N&&(H[c++]=I[T++]))}else{for(T=c-Y;H[c++]=H[T++],H[c++]=H[T++],H[c++]=H[T++],2<(N-=3););N&&(H[c++]=H[T++],1<N&&(H[c++]=H[T++]))}break}}break}}while(o<a&&c<d);o-=N=S>>3,w&=(1<<(S-=N<<3))-1,i.next_in=o,i.next_out=c,i.avail_in=o<a?a-o+5:5-(o-a),i.avail_out=c<d?d-c+257:257-(c-d),r.hold=w,r.bits=S}},{}],49:[function(n,t,e){"use strict";var i=n("../utils/common"),s=n("./adler32"),r=n("./crc32"),o=n("./inffast"),a=n("./inftrees"),c=1,u=2,d=0,f=-2,p=1,g=852,_=592;function b(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(T){var I;return T&&T.state?(I=T.state,T.total_in=T.total_out=I.total=0,T.msg="",I.wrap&&(T.adler=1&I.wrap),I.mode=p,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new i.Buf32(g),I.distcode=I.distdyn=new i.Buf32(_),I.sane=1,I.back=-1,d):f}function C(T){var I;return T&&T.state?((I=T.state).wsize=0,I.whave=0,I.wnext=0,S(T)):f}function E(T,I){var x,H;return T&&T.state?(H=T.state,I<0?(x=0,I=-I):(x=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?f:(H.window!==null&&H.wbits!==I&&(H.window=null),H.wrap=x,H.wbits=I,C(T))):f}function F(T,I){var x,H;return T?(H=new w,(T.state=H).window=null,(x=E(T,I))!==d&&(T.state=null),x):f}var M,P,R=!0;function N(T){if(R){var I;for(M=new i.Buf32(512),P=new i.Buf32(32),I=0;I<144;)T.lens[I++]=8;for(;I<256;)T.lens[I++]=9;for(;I<280;)T.lens[I++]=7;for(;I<288;)T.lens[I++]=8;for(a(c,T.lens,0,288,M,0,T.work,{bits:9}),I=0;I<32;)T.lens[I++]=5;a(u,T.lens,0,32,P,0,T.work,{bits:5}),R=!1}T.lencode=M,T.lenbits=9,T.distcode=P,T.distbits=5}function Y(T,I,x,H){var lt,V=T.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new i.Buf8(V.wsize)),H>=V.wsize?(i.arraySet(V.window,I,x-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(H<(lt=V.wsize-V.wnext)&&(lt=H),i.arraySet(V.window,I,x-H,lt,V.wnext),(H-=lt)?(i.arraySet(V.window,I,x-H,H,0),V.wnext=H,V.whave=V.wsize):(V.wnext+=lt,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=lt))),0}e.inflateReset=C,e.inflateReset2=E,e.inflateResetKeep=S,e.inflateInit=function(T){return F(T,15)},e.inflateInit2=F,e.inflate=function(T,I){var x,H,lt,V,rt,X,ot,W,z,ut,tt,$,Et,Nt,gt,xt,Gt,zt,Fe,Ee,v,q,j,D,A=0,L=new i.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return f;(x=T.state).mode===12&&(x.mode=13),rt=T.next_out,lt=T.output,ot=T.avail_out,V=T.next_in,H=T.input,X=T.avail_in,W=x.hold,z=x.bits,ut=X,tt=ot,q=d;t:for(;;)switch(x.mode){case p:if(x.wrap===0){x.mode=13;break}for(;z<16;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}if(2&x.wrap&&W===35615){L[x.check=0]=255&W,L[1]=W>>>8&255,x.check=r(x.check,L,2,0),z=W=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&W)<<8)+(W>>8))%31){T.msg="incorrect header check",x.mode=30;break}if((15&W)!=8){T.msg="unknown compression method",x.mode=30;break}if(z-=4,v=8+(15&(W>>>=4)),x.wbits===0)x.wbits=v;else if(v>x.wbits){T.msg="invalid window size",x.mode=30;break}x.dmax=1<<v,T.adler=x.check=1,x.mode=512&W?10:12,z=W=0;break;case 2:for(;z<16;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}if(x.flags=W,(255&x.flags)!=8){T.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){T.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=W>>8&1),512&x.flags&&(L[0]=255&W,L[1]=W>>>8&255,x.check=r(x.check,L,2,0)),z=W=0,x.mode=3;case 3:for(;z<32;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}x.head&&(x.head.time=W),512&x.flags&&(L[0]=255&W,L[1]=W>>>8&255,L[2]=W>>>16&255,L[3]=W>>>24&255,x.check=r(x.check,L,4,0)),z=W=0,x.mode=4;case 4:for(;z<16;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}x.head&&(x.head.xflags=255&W,x.head.os=W>>8),512&x.flags&&(L[0]=255&W,L[1]=W>>>8&255,x.check=r(x.check,L,2,0)),z=W=0,x.mode=5;case 5:if(1024&x.flags){for(;z<16;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}x.length=W,x.head&&(x.head.extra_len=W),512&x.flags&&(L[0]=255&W,L[1]=W>>>8&255,x.check=r(x.check,L,2,0)),z=W=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(X<($=x.length)&&($=X),$&&(x.head&&(v=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),i.arraySet(x.head.extra,H,V,$,v)),512&x.flags&&(x.check=r(x.check,H,$,V)),X-=$,V+=$,x.length-=$),x.length))break t;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(X===0)break t;for($=0;v=H[V+$++],x.head&&v&&x.length<65536&&(x.head.name+=String.fromCharCode(v)),v&&$<X;);if(512&x.flags&&(x.check=r(x.check,H,$,V)),X-=$,V+=$,v)break t}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(X===0)break t;for($=0;v=H[V+$++],x.head&&v&&x.length<65536&&(x.head.comment+=String.fromCharCode(v)),v&&$<X;);if(512&x.flags&&(x.check=r(x.check,H,$,V)),X-=$,V+=$,v)break t}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;z<16;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}if(W!==(65535&x.check)){T.msg="header crc mismatch",x.mode=30;break}z=W=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),T.adler=x.check=0,x.mode=12;break;case 10:for(;z<32;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}T.adler=x.check=b(W),z=W=0,x.mode=11;case 11:if(x.havedict===0)return T.next_out=rt,T.avail_out=ot,T.next_in=V,T.avail_in=X,x.hold=W,x.bits=z,2;T.adler=x.check=1,x.mode=12;case 12:if(I===5||I===6)break t;case 13:if(x.last){W>>>=7&z,z-=7&z,x.mode=27;break}for(;z<3;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}switch(x.last=1&W,z-=1,3&(W>>>=1)){case 0:x.mode=14;break;case 1:if(N(x),x.mode=20,I!==6)break;W>>>=2,z-=2;break t;case 2:x.mode=17;break;case 3:T.msg="invalid block type",x.mode=30}W>>>=2,z-=2;break;case 14:for(W>>>=7&z,z-=7&z;z<32;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}if((65535&W)!=(W>>>16^65535)){T.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&W,z=W=0,x.mode=15,I===6)break t;case 15:x.mode=16;case 16:if($=x.length){if(X<$&&($=X),ot<$&&($=ot),$===0)break t;i.arraySet(lt,H,V,$,rt),X-=$,V+=$,ot-=$,rt+=$,x.length-=$;break}x.mode=12;break;case 17:for(;z<14;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}if(x.nlen=257+(31&W),W>>>=5,z-=5,x.ndist=1+(31&W),W>>>=5,z-=5,x.ncode=4+(15&W),W>>>=4,z-=4,286<x.nlen||30<x.ndist){T.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;z<3;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}x.lens[Z[x.have++]]=7&W,W>>>=3,z-=3}for(;x.have<19;)x.lens[Z[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,j={bits:x.lenbits},q=a(0,x.lens,0,19,x.lencode,0,x.work,j),x.lenbits=j.bits,q){T.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;xt=(A=x.lencode[W&(1<<x.lenbits)-1])>>>16&255,Gt=65535&A,!((gt=A>>>24)<=z);){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}if(Gt<16)W>>>=gt,z-=gt,x.lens[x.have++]=Gt;else{if(Gt===16){for(D=gt+2;z<D;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}if(W>>>=gt,z-=gt,x.have===0){T.msg="invalid bit length repeat",x.mode=30;break}v=x.lens[x.have-1],$=3+(3&W),W>>>=2,z-=2}else if(Gt===17){for(D=gt+3;z<D;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}z-=gt,v=0,$=3+(7&(W>>>=gt)),W>>>=3,z-=3}else{for(D=gt+7;z<D;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}z-=gt,v=0,$=11+(127&(W>>>=gt)),W>>>=7,z-=7}if(x.have+$>x.nlen+x.ndist){T.msg="invalid bit length repeat",x.mode=30;break}for(;$--;)x.lens[x.have++]=v}}if(x.mode===30)break;if(x.lens[256]===0){T.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,j={bits:x.lenbits},q=a(c,x.lens,0,x.nlen,x.lencode,0,x.work,j),x.lenbits=j.bits,q){T.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,j={bits:x.distbits},q=a(u,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,j),x.distbits=j.bits,q){T.msg="invalid distances set",x.mode=30;break}if(x.mode=20,I===6)break t;case 20:x.mode=21;case 21:if(6<=X&&258<=ot){T.next_out=rt,T.avail_out=ot,T.next_in=V,T.avail_in=X,x.hold=W,x.bits=z,o(T,tt),rt=T.next_out,lt=T.output,ot=T.avail_out,V=T.next_in,H=T.input,X=T.avail_in,W=x.hold,z=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;xt=(A=x.lencode[W&(1<<x.lenbits)-1])>>>16&255,Gt=65535&A,!((gt=A>>>24)<=z);){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}if(xt&&!(240&xt)){for(zt=gt,Fe=xt,Ee=Gt;xt=(A=x.lencode[Ee+((W&(1<<zt+Fe)-1)>>zt)])>>>16&255,Gt=65535&A,!(zt+(gt=A>>>24)<=z);){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}W>>>=zt,z-=zt,x.back+=zt}if(W>>>=gt,z-=gt,x.back+=gt,x.length=Gt,xt===0){x.mode=26;break}if(32&xt){x.back=-1,x.mode=12;break}if(64&xt){T.msg="invalid literal/length code",x.mode=30;break}x.extra=15&xt,x.mode=22;case 22:if(x.extra){for(D=x.extra;z<D;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}x.length+=W&(1<<x.extra)-1,W>>>=x.extra,z-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;xt=(A=x.distcode[W&(1<<x.distbits)-1])>>>16&255,Gt=65535&A,!((gt=A>>>24)<=z);){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}if(!(240&xt)){for(zt=gt,Fe=xt,Ee=Gt;xt=(A=x.distcode[Ee+((W&(1<<zt+Fe)-1)>>zt)])>>>16&255,Gt=65535&A,!(zt+(gt=A>>>24)<=z);){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}W>>>=zt,z-=zt,x.back+=zt}if(W>>>=gt,z-=gt,x.back+=gt,64&xt){T.msg="invalid distance code",x.mode=30;break}x.offset=Gt,x.extra=15&xt,x.mode=24;case 24:if(x.extra){for(D=x.extra;z<D;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}x.offset+=W&(1<<x.extra)-1,W>>>=x.extra,z-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){T.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(ot===0)break t;if($=tt-ot,x.offset>$){if(($=x.offset-$)>x.whave&&x.sane){T.msg="invalid distance too far back",x.mode=30;break}Et=$>x.wnext?($-=x.wnext,x.wsize-$):x.wnext-$,$>x.length&&($=x.length),Nt=x.window}else Nt=lt,Et=rt-x.offset,$=x.length;for(ot<$&&($=ot),ot-=$,x.length-=$;lt[rt++]=Nt[Et++],--$;);x.length===0&&(x.mode=21);break;case 26:if(ot===0)break t;lt[rt++]=x.length,ot--,x.mode=21;break;case 27:if(x.wrap){for(;z<32;){if(X===0)break t;X--,W|=H[V++]<<z,z+=8}if(tt-=ot,T.total_out+=tt,x.total+=tt,tt&&(T.adler=x.check=x.flags?r(x.check,lt,tt,rt-tt):s(x.check,lt,tt,rt-tt)),tt=ot,(x.flags?W:b(W))!==x.check){T.msg="incorrect data check",x.mode=30;break}z=W=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;z<32;){if(X===0)break t;X--,W+=H[V++]<<z,z+=8}if(W!==(4294967295&x.total)){T.msg="incorrect length check",x.mode=30;break}z=W=0}x.mode=29;case 29:q=1;break t;case 30:q=-3;break t;case 31:return-4;case 32:default:return f}return T.next_out=rt,T.avail_out=ot,T.next_in=V,T.avail_in=X,x.hold=W,x.bits=z,(x.wsize||tt!==T.avail_out&&x.mode<30&&(x.mode<27||I!==4))&&Y(T,T.output,T.next_out,tt-T.avail_out)?(x.mode=31,-4):(ut-=T.avail_in,tt-=T.avail_out,T.total_in+=ut,T.total_out+=tt,x.total+=tt,x.wrap&&tt&&(T.adler=x.check=x.flags?r(x.check,lt,tt,T.next_out-tt):s(x.check,lt,tt,T.next_out-tt)),T.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(ut==0&&tt===0||I===4)&&q===d&&(q=-5),q)},e.inflateEnd=function(T){if(!T||!T.state)return f;var I=T.state;return I.window&&(I.window=null),T.state=null,d},e.inflateGetHeader=function(T,I){var x;return T&&T.state&&2&(x=T.state).wrap?((x.head=I).done=!1,d):f},e.inflateSetDictionary=function(T,I){var x,H=I.length;return T&&T.state?(x=T.state).wrap!==0&&x.mode!==11?f:x.mode===11&&s(1,I,H,0)!==x.check?-3:Y(T,I,H,H)?(x.mode=31,-4):(x.havedict=1,d):f},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,t,e){"use strict";var i=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(c,u,d,f,p,g,_,b){var w,S,C,E,F,M,P,R,N,Y=b.bits,T=0,I=0,x=0,H=0,lt=0,V=0,rt=0,X=0,ot=0,W=0,z=null,ut=0,tt=new i.Buf16(16),$=new i.Buf16(16),Et=null,Nt=0;for(T=0;T<=15;T++)tt[T]=0;for(I=0;I<f;I++)tt[u[d+I]]++;for(lt=Y,H=15;1<=H&&tt[H]===0;H--);if(H<lt&&(lt=H),H===0)return p[g++]=20971520,p[g++]=20971520,b.bits=1,0;for(x=1;x<H&&tt[x]===0;x++);for(lt<x&&(lt=x),T=X=1;T<=15;T++)if(X<<=1,(X-=tt[T])<0)return-1;if(0<X&&(c===0||H!==1))return-1;for($[1]=0,T=1;T<15;T++)$[T+1]=$[T]+tt[T];for(I=0;I<f;I++)u[d+I]!==0&&(_[$[u[d+I]]++]=I);if(M=c===0?(z=Et=_,19):c===1?(z=s,ut-=257,Et=r,Nt-=257,256):(z=o,Et=a,-1),T=x,F=g,rt=I=W=0,C=-1,E=(ot=1<<(V=lt))-1,c===1&&852<ot||c===2&&592<ot)return 1;for(;;){for(P=T-rt,N=_[I]<M?(R=0,_[I]):_[I]>M?(R=Et[Nt+_[I]],z[ut+_[I]]):(R=96,0),w=1<<T-rt,x=S=1<<V;p[F+(W>>rt)+(S-=w)]=P<<24|R<<16|N|0,S!==0;);for(w=1<<T-1;W&w;)w>>=1;if(w!==0?(W&=w-1,W+=w):W=0,I++,--tt[T]==0){if(T===H)break;T=u[d+_[I]]}if(lt<T&&(W&E)!==C){for(rt===0&&(rt=lt),F+=x,X=1<<(V=T-rt);V+rt<H&&!((X-=tt[V+rt])<=0);)V++,X<<=1;if(ot+=1<<V,c===1&&852<ot||c===2&&592<ot)return 1;p[C=W&E]=lt<<24|V<<16|F-g|0}}return W!==0&&(p[F+W]=T-rt<<24|64<<16|0),b.bits=lt,0}},{"../utils/common":41}],51:[function(n,t,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,t,e){"use strict";var i=n("../utils/common"),s=0,r=1;function o(A){for(var L=A.length;0<=--L;)A[L]=0}var a=0,c=29,u=256,d=u+1+c,f=30,p=19,g=2*d+1,_=15,b=16,w=7,S=256,C=16,E=17,F=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(d+2));o(Y);var T=new Array(2*f);o(T);var I=new Array(512);o(I);var x=new Array(256);o(x);var H=new Array(c);o(H);var lt,V,rt,X=new Array(f);function ot(A,L,Z,G,B){this.static_tree=A,this.extra_bits=L,this.extra_base=Z,this.elems=G,this.max_length=B,this.has_stree=A&&A.length}function W(A,L){this.dyn_tree=A,this.max_code=0,this.stat_desc=L}function z(A){return A<256?I[A]:I[256+(A>>>7)]}function ut(A,L){A.pending_buf[A.pending++]=255&L,A.pending_buf[A.pending++]=L>>>8&255}function tt(A,L,Z){A.bi_valid>b-Z?(A.bi_buf|=L<<A.bi_valid&65535,ut(A,A.bi_buf),A.bi_buf=L>>b-A.bi_valid,A.bi_valid+=Z-b):(A.bi_buf|=L<<A.bi_valid&65535,A.bi_valid+=Z)}function $(A,L,Z){tt(A,Z[2*L],Z[2*L+1])}function Et(A,L){for(var Z=0;Z|=1&A,A>>>=1,Z<<=1,0<--L;);return Z>>>1}function Nt(A,L,Z){var G,B,Q=new Array(_+1),et=0;for(G=1;G<=_;G++)Q[G]=et=et+Z[G-1]<<1;for(B=0;B<=L;B++){var J=A[2*B+1];J!==0&&(A[2*B]=Et(Q[J]++,J))}}function gt(A){var L;for(L=0;L<d;L++)A.dyn_ltree[2*L]=0;for(L=0;L<f;L++)A.dyn_dtree[2*L]=0;for(L=0;L<p;L++)A.bl_tree[2*L]=0;A.dyn_ltree[2*S]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0}function xt(A){8<A.bi_valid?ut(A,A.bi_buf):0<A.bi_valid&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0}function Gt(A,L,Z,G){var B=2*L,Q=2*Z;return A[B]<A[Q]||A[B]===A[Q]&&G[L]<=G[Z]}function zt(A,L,Z){for(var G=A.heap[Z],B=Z<<1;B<=A.heap_len&&(B<A.heap_len&&Gt(L,A.heap[B+1],A.heap[B],A.depth)&&B++,!Gt(L,G,A.heap[B],A.depth));)A.heap[Z]=A.heap[B],Z=B,B<<=1;A.heap[Z]=G}function Fe(A,L,Z){var G,B,Q,et,J=0;if(A.last_lit!==0)for(;G=A.pending_buf[A.d_buf+2*J]<<8|A.pending_buf[A.d_buf+2*J+1],B=A.pending_buf[A.l_buf+J],J++,G===0?$(A,B,L):($(A,(Q=x[B])+u+1,L),(et=M[Q])!==0&&tt(A,B-=H[Q],et),$(A,Q=z(--G),Z),(et=P[Q])!==0&&tt(A,G-=X[Q],et)),J<A.last_lit;);$(A,S,L)}function Ee(A,L){var Z,G,B,Q=L.dyn_tree,et=L.stat_desc.static_tree,J=L.stat_desc.has_stree,dt=L.stat_desc.elems,Ct=-1;for(A.heap_len=0,A.heap_max=g,Z=0;Z<dt;Z++)Q[2*Z]!==0?(A.heap[++A.heap_len]=Ct=Z,A.depth[Z]=0):Q[2*Z+1]=0;for(;A.heap_len<2;)Q[2*(B=A.heap[++A.heap_len]=Ct<2?++Ct:0)]=1,A.depth[B]=0,A.opt_len--,J&&(A.static_len-=et[2*B+1]);for(L.max_code=Ct,Z=A.heap_len>>1;1<=Z;Z--)zt(A,Q,Z);for(B=dt;Z=A.heap[1],A.heap[1]=A.heap[A.heap_len--],zt(A,Q,1),G=A.heap[1],A.heap[--A.heap_max]=Z,A.heap[--A.heap_max]=G,Q[2*B]=Q[2*Z]+Q[2*G],A.depth[B]=(A.depth[Z]>=A.depth[G]?A.depth[Z]:A.depth[G])+1,Q[2*Z+1]=Q[2*G+1]=B,A.heap[1]=B++,zt(A,Q,1),2<=A.heap_len;);A.heap[--A.heap_max]=A.heap[1],function(mt,ft){var Re,ae,Fn,Wt,wi,xi,$t=ft.dyn_tree,es=ft.max_code,ns=ft.stat_desc.static_tree,ki=ft.stat_desc.has_stree,Ot=ft.stat_desc.extra_bits,is=ft.stat_desc.extra_base,Rn=ft.stat_desc.max_length,on=0;for(Wt=0;Wt<=_;Wt++)mt.bl_count[Wt]=0;for($t[2*mt.heap[mt.heap_max]+1]=0,Re=mt.heap_max+1;Re<g;Re++)Rn<(Wt=$t[2*$t[2*(ae=mt.heap[Re])+1]+1]+1)&&(Wt=Rn,on++),$t[2*ae+1]=Wt,es<ae||(mt.bl_count[Wt]++,wi=0,is<=ae&&(wi=Ot[ae-is]),xi=$t[2*ae],mt.opt_len+=xi*(Wt+wi),ki&&(mt.static_len+=xi*(ns[2*ae+1]+wi)));if(on!==0){do{for(Wt=Rn-1;mt.bl_count[Wt]===0;)Wt--;mt.bl_count[Wt]--,mt.bl_count[Wt+1]+=2,mt.bl_count[Rn]--,on-=2}while(0<on);for(Wt=Rn;Wt!==0;Wt--)for(ae=mt.bl_count[Wt];ae!==0;)es<(Fn=mt.heap[--Re])||($t[2*Fn+1]!==Wt&&(mt.opt_len+=(Wt-$t[2*Fn+1])*$t[2*Fn],$t[2*Fn+1]=Wt),ae--)}}(A,L),Nt(Q,Ct,A.bl_count)}function v(A,L,Z){var G,B,Q=-1,et=L[1],J=0,dt=7,Ct=4;for(et===0&&(dt=138,Ct=3),L[2*(Z+1)+1]=65535,G=0;G<=Z;G++)B=et,et=L[2*(G+1)+1],++J<dt&&B===et||(J<Ct?A.bl_tree[2*B]+=J:B!==0?(B!==Q&&A.bl_tree[2*B]++,A.bl_tree[2*C]++):J<=10?A.bl_tree[2*E]++:A.bl_tree[2*F]++,Q=B,Ct=(J=0)===et?(dt=138,3):B===et?(dt=6,3):(dt=7,4))}function q(A,L,Z){var G,B,Q=-1,et=L[1],J=0,dt=7,Ct=4;for(et===0&&(dt=138,Ct=3),G=0;G<=Z;G++)if(B=et,et=L[2*(G+1)+1],!(++J<dt&&B===et)){if(J<Ct)for(;$(A,B,A.bl_tree),--J!=0;);else B!==0?(B!==Q&&($(A,B,A.bl_tree),J--),$(A,C,A.bl_tree),tt(A,J-3,2)):J<=10?($(A,E,A.bl_tree),tt(A,J-3,3)):($(A,F,A.bl_tree),tt(A,J-11,7));Q=B,Ct=(J=0)===et?(dt=138,3):B===et?(dt=6,3):(dt=7,4)}}o(X);var j=!1;function D(A,L,Z,G){tt(A,(a<<1)+(G?1:0),3),function(B,Q,et,J){xt(B),J&&(ut(B,et),ut(B,~et)),i.arraySet(B.pending_buf,B.window,Q,et,B.pending),B.pending+=et}(A,L,Z,!0)}e._tr_init=function(A){j||(function(){var L,Z,G,B,Q,et=new Array(_+1);for(B=G=0;B<c-1;B++)for(H[B]=G,L=0;L<1<<M[B];L++)x[G++]=B;for(x[G-1]=B,B=Q=0;B<16;B++)for(X[B]=Q,L=0;L<1<<P[B];L++)I[Q++]=B;for(Q>>=7;B<f;B++)for(X[B]=Q<<7,L=0;L<1<<P[B]-7;L++)I[256+Q++]=B;for(Z=0;Z<=_;Z++)et[Z]=0;for(L=0;L<=143;)Y[2*L+1]=8,L++,et[8]++;for(;L<=255;)Y[2*L+1]=9,L++,et[9]++;for(;L<=279;)Y[2*L+1]=7,L++,et[7]++;for(;L<=287;)Y[2*L+1]=8,L++,et[8]++;for(Nt(Y,d+1,et),L=0;L<f;L++)T[2*L+1]=5,T[2*L]=Et(L,5);lt=new ot(Y,M,u+1,d,_),V=new ot(T,P,0,f,_),rt=new ot(new Array(0),R,0,p,w)}(),j=!0),A.l_desc=new W(A.dyn_ltree,lt),A.d_desc=new W(A.dyn_dtree,V),A.bl_desc=new W(A.bl_tree,rt),A.bi_buf=0,A.bi_valid=0,gt(A)},e._tr_stored_block=D,e._tr_flush_block=function(A,L,Z,G){var B,Q,et=0;0<A.level?(A.strm.data_type===2&&(A.strm.data_type=function(J){var dt,Ct=4093624447;for(dt=0;dt<=31;dt++,Ct>>>=1)if(1&Ct&&J.dyn_ltree[2*dt]!==0)return s;if(J.dyn_ltree[18]!==0||J.dyn_ltree[20]!==0||J.dyn_ltree[26]!==0)return r;for(dt=32;dt<u;dt++)if(J.dyn_ltree[2*dt]!==0)return r;return s}(A)),Ee(A,A.l_desc),Ee(A,A.d_desc),et=function(J){var dt;for(v(J,J.dyn_ltree,J.l_desc.max_code),v(J,J.dyn_dtree,J.d_desc.max_code),Ee(J,J.bl_desc),dt=p-1;3<=dt&&J.bl_tree[2*N[dt]+1]===0;dt--);return J.opt_len+=3*(dt+1)+5+5+4,dt}(A),B=A.opt_len+3+7>>>3,(Q=A.static_len+3+7>>>3)<=B&&(B=Q)):B=Q=Z+5,Z+4<=B&&L!==-1?D(A,L,Z,G):A.strategy===4||Q===B?(tt(A,2+(G?1:0),3),Fe(A,Y,T)):(tt(A,4+(G?1:0),3),function(J,dt,Ct,mt){var ft;for(tt(J,dt-257,5),tt(J,Ct-1,5),tt(J,mt-4,4),ft=0;ft<mt;ft++)tt(J,J.bl_tree[2*N[ft]+1],3);q(J,J.dyn_ltree,dt-1),q(J,J.dyn_dtree,Ct-1)}(A,A.l_desc.max_code+1,A.d_desc.max_code+1,et+1),Fe(A,A.dyn_ltree,A.dyn_dtree)),gt(A),G&&xt(A)},e._tr_tally=function(A,L,Z){return A.pending_buf[A.d_buf+2*A.last_lit]=L>>>8&255,A.pending_buf[A.d_buf+2*A.last_lit+1]=255&L,A.pending_buf[A.l_buf+A.last_lit]=255&Z,A.last_lit++,L===0?A.dyn_ltree[2*Z]++:(A.matches++,L--,A.dyn_ltree[2*(x[Z]+u+1)]++,A.dyn_dtree[2*z(L)]++),A.last_lit===A.lit_bufsize-1},e._tr_align=function(A){tt(A,2,3),$(A,S,Y),function(L){L.bi_valid===16?(ut(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):8<=L.bi_valid&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)}(A)}},{"../utils/common":41}],53:[function(n,t,e){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,t,e){(function(i){(function(s,r){"use strict";if(!s.setImmediate){var o,a,c,u,d=1,f={},p=!1,g=s.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(s);_=_&&_.setTimeout?_:s,o={}.toString.call(s.process)==="[object process]"?function(C){process.nextTick(function(){w(C)})}:function(){if(s.postMessage&&!s.importScripts){var C=!0,E=s.onmessage;return s.onmessage=function(){C=!1},s.postMessage("","*"),s.onmessage=E,C}}()?(u="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",S,!1):s.attachEvent("onmessage",S),function(C){s.postMessage(u+C,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(C){w(C.data)},function(C){c.port2.postMessage(C)}):g&&"onreadystatechange"in g.createElement("script")?(a=g.documentElement,function(C){var E=g.createElement("script");E.onreadystatechange=function(){w(C),E.onreadystatechange=null,a.removeChild(E),E=null},a.appendChild(E)}):function(C){setTimeout(w,0,C)},_.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var E=new Array(arguments.length-1),F=0;F<E.length;F++)E[F]=arguments[F+1];var M={callback:C,args:E};return f[d]=M,o(d),d++},_.clearImmediate=b}function b(C){delete f[C]}function w(C){if(p)setTimeout(w,0,C);else{var E=f[C];if(E){p=!0;try{(function(F){var M=F.callback,P=F.args;switch(P.length){case 0:M();break;case 1:M(P[0]);break;case 2:M(P[0],P[1]);break;case 3:M(P[0],P[1],P[2]);break;default:M.apply(r,P)}})(E)}finally{b(C),p=!1}}}}function S(C){C.source===s&&typeof C.data=="string"&&C.data.indexOf(u)===0&&w(+C.data.slice(u.length))}})(typeof self=="undefined"?i===void 0?this:i:self)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})});var Us=pt((BC,Id)=>{var sw="2.0.0",rw=Number.MAX_SAFE_INTEGER||9007199254740991,ow=16,aw=250,lw=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Id.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:ow,MAX_SAFE_BUILD_LENGTH:aw,MAX_SAFE_INTEGER:rw,RELEASE_TYPES:lw,SEMVER_SPEC_VERSION:sw,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Vs=pt((zC,Nd)=>{var cw=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{};Nd.exports=cw});var Gi=pt((An,Bd)=>{var{MAX_SAFE_COMPONENT_LENGTH:Tl,MAX_SAFE_BUILD_LENGTH:uw,MAX_LENGTH:hw}=Us(),dw=Vs();An=Bd.exports={};var fw=An.re=[],pw=An.safeRe=[],nt=An.src=[],it=An.t={},gw=0,Ml="[a-zA-Z0-9-]",mw=[["\\s",1],["\\d",hw],[Ml,uw]],_w=n=>{for(let[t,e]of mw)n=n.split(`${t}*`).join(`${t}{0,${e}}`).split(`${t}+`).join(`${t}{1,${e}}`);return n},_t=(n,t,e)=>{let i=_w(t),s=gw++;dw(n,s,t),it[n]=s,nt[s]=t,fw[s]=new RegExp(t,e?"g":void 0),pw[s]=new RegExp(i,e?"g":void 0)};_t("NUMERICIDENTIFIER","0|[1-9]\\d*");_t("NUMERICIDENTIFIERLOOSE","\\d+");_t("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Ml}*`);_t("MAINVERSION",`(${nt[it.NUMERICIDENTIFIER]})\\.(${nt[it.NUMERICIDENTIFIER]})\\.(${nt[it.NUMERICIDENTIFIER]})`);_t("MAINVERSIONLOOSE",`(${nt[it.NUMERICIDENTIFIERLOOSE]})\\.(${nt[it.NUMERICIDENTIFIERLOOSE]})\\.(${nt[it.NUMERICIDENTIFIERLOOSE]})`);_t("PRERELEASEIDENTIFIER",`(?:${nt[it.NUMERICIDENTIFIER]}|${nt[it.NONNUMERICIDENTIFIER]})`);_t("PRERELEASEIDENTIFIERLOOSE",`(?:${nt[it.NUMERICIDENTIFIERLOOSE]}|${nt[it.NONNUMERICIDENTIFIER]})`);_t("PRERELEASE",`(?:-(${nt[it.PRERELEASEIDENTIFIER]}(?:\\.${nt[it.PRERELEASEIDENTIFIER]})*))`);_t("PRERELEASELOOSE",`(?:-?(${nt[it.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${nt[it.PRERELEASEIDENTIFIERLOOSE]})*))`);_t("BUILDIDENTIFIER",`${Ml}+`);_t("BUILD",`(?:\\+(${nt[it.BUILDIDENTIFIER]}(?:\\.${nt[it.BUILDIDENTIFIER]})*))`);_t("FULLPLAIN",`v?${nt[it.MAINVERSION]}${nt[it.PRERELEASE]}?${nt[it.BUILD]}?`);_t("FULL",`^${nt[it.FULLPLAIN]}$`);_t("LOOSEPLAIN",`[v=\\s]*${nt[it.MAINVERSIONLOOSE]}${nt[it.PRERELEASELOOSE]}?${nt[it.BUILD]}?`);_t("LOOSE",`^${nt[it.LOOSEPLAIN]}$`);_t("GTLT","((?:<|>)?=?)");_t("XRANGEIDENTIFIERLOOSE",`${nt[it.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);_t("XRANGEIDENTIFIER",`${nt[it.NUMERICIDENTIFIER]}|x|X|\\*`);_t("XRANGEPLAIN",`[v=\\s]*(${nt[it.XRANGEIDENTIFIER]})(?:\\.(${nt[it.XRANGEIDENTIFIER]})(?:\\.(${nt[it.XRANGEIDENTIFIER]})(?:${nt[it.PRERELEASE]})?${nt[it.BUILD]}?)?)?`);_t("XRANGEPLAINLOOSE",`[v=\\s]*(${nt[it.XRANGEIDENTIFIERLOOSE]})(?:\\.(${nt[it.XRANGEIDENTIFIERLOOSE]})(?:\\.(${nt[it.XRANGEIDENTIFIERLOOSE]})(?:${nt[it.PRERELEASELOOSE]})?${nt[it.BUILD]}?)?)?`);_t("XRANGE",`^${nt[it.GTLT]}\\s*${nt[it.XRANGEPLAIN]}$`);_t("XRANGELOOSE",`^${nt[it.GTLT]}\\s*${nt[it.XRANGEPLAINLOOSE]}$`);_t("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Tl}})(?:\\.(\\d{1,${Tl}}))?(?:\\.(\\d{1,${Tl}}))?`);_t("COERCE",`${nt[it.COERCEPLAIN]}(?:$|[^\\d])`);_t("COERCEFULL",nt[it.COERCEPLAIN]+`(?:${nt[it.PRERELEASE]})?(?:${nt[it.BUILD]})?(?:$|[^\\d])`);_t("COERCERTL",nt[it.COERCE],!0);_t("COERCERTLFULL",nt[it.COERCEFULL],!0);_t("LONETILDE","(?:~>?)");_t("TILDETRIM",`(\\s*)${nt[it.LONETILDE]}\\s+`,!0);An.tildeTrimReplace="$1~";_t("TILDE",`^${nt[it.LONETILDE]}${nt[it.XRANGEPLAIN]}$`);_t("TILDELOOSE",`^${nt[it.LONETILDE]}${nt[it.XRANGEPLAINLOOSE]}$`);_t("LONECARET","(?:\\^)");_t("CARETTRIM",`(\\s*)${nt[it.LONECARET]}\\s+`,!0);An.caretTrimReplace="$1^";_t("CARET",`^${nt[it.LONECARET]}${nt[it.XRANGEPLAIN]}$`);_t("CARETLOOSE",`^${nt[it.LONECARET]}${nt[it.XRANGEPLAINLOOSE]}$`);_t("COMPARATORLOOSE",`^${nt[it.GTLT]}\\s*(${nt[it.LOOSEPLAIN]})$|^$`);_t("COMPARATOR",`^${nt[it.GTLT]}\\s*(${nt[it.FULLPLAIN]})$|^$`);_t("COMPARATORTRIM",`(\\s*)${nt[it.GTLT]}\\s*(${nt[it.LOOSEPLAIN]}|${nt[it.XRANGEPLAIN]})`,!0);An.comparatorTrimReplace="$1$2$3";_t("HYPHENRANGE",`^\\s*(${nt[it.XRANGEPLAIN]})\\s+-\\s+(${nt[it.XRANGEPLAIN]})\\s*$`);_t("HYPHENRANGELOOSE",`^\\s*(${nt[it.XRANGEPLAINLOOSE]})\\s+-\\s+(${nt[it.XRANGEPLAINLOOSE]})\\s*$`);_t("STAR","(<|>)?=?\\s*\\*");_t("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");_t("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var vo=pt((WC,zd)=>{var bw=Object.freeze({loose:!0}),yw=Object.freeze({}),vw=n=>n?typeof n!="object"?bw:n:yw;zd.exports=vw});var Ol=pt(($C,jd)=>{var Wd=/^[0-9]+$/,$d=(n,t)=>{let e=Wd.test(n),i=Wd.test(t);return e&&i&&(n=+n,t=+t),n===t?0:e&&!i?-1:i&&!e?1:n<t?-1:1},ww=(n,t)=>$d(t,n);jd.exports={compareIdentifiers:$d,rcompareIdentifiers:ww}});var oe=pt((jC,Yd)=>{var wo=Vs(),{MAX_LENGTH:Hd,MAX_SAFE_INTEGER:xo}=Us(),{safeRe:Ud,t:Vd}=Gi(),xw=vo(),{compareIdentifiers:qi}=Ol(),Pl=class n{constructor(t,e){if(e=xw(e),t instanceof n){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Hd)throw new TypeError(`version is longer than ${Hd} characters`);wo("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;let i=t.trim().match(e.loose?Ud[Vd.LOOSE]:Ud[Vd.FULL]);if(!i)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>xo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xo||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let r=+s;if(r>=0&&r<xo)return r}return s}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(wo("SemVer.compare",this.version,this.options,t),!(t instanceof n)){if(typeof t=="string"&&t===this.version)return 0;t=new n(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof n||(t=new n(t,this.options)),qi(this.major,t.major)||qi(this.minor,t.minor)||qi(this.patch,t.patch)}comparePre(t){if(t instanceof n||(t=new n(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{let i=this.prerelease[e],s=t.prerelease[e];if(wo("prerelease compare",e,i,s),i===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(i===void 0)return-1;if(i===s)continue;return qi(i,s)}while(++e)}compareBuild(t){t instanceof n||(t=new n(t,this.options));let e=0;do{let i=this.build[e],s=t.build[e];if(wo("prerelease compare",e,i,s),i===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(i===void 0)return-1;if(i===s)continue;return qi(i,s)}while(++e)}inc(t,e,i){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,i),this.inc("pre",e,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e,i),this.inc("pre",e,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(i)?1:0;if(!e&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);if(r===-1){if(e===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(e){let r=[e,s];i===!1&&(r=[e]),qi(this.prerelease[0],e)===0?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Yd.exports=Pl});var mi=pt((HC,qd)=>{var Gd=oe(),kw=(n,t,e=!1)=>{if(n instanceof Gd)return n;try{return new Gd(n,t)}catch(i){if(!e)return null;throw i}};qd.exports=kw});var Xd=pt((UC,Zd)=>{var Sw=mi(),Ew=(n,t)=>{let e=Sw(n,t);return e?e.version:null};Zd.exports=Ew});var Kd=pt((VC,Jd)=>{var Cw=mi(),Aw=(n,t)=>{let e=Cw(n.trim().replace(/^[=v]+/,""),t);return e?e.version:null};Jd.exports=Aw});var ef=pt((YC,tf)=>{var Qd=oe(),Dw=(n,t,e,i,s)=>{typeof e=="string"&&(s=i,i=e,e=void 0);try{return new Qd(n instanceof Qd?n.version:n,e).inc(t,i,s).version}catch(r){return null}};tf.exports=Dw});var rf=pt((GC,sf)=>{var nf=mi(),Tw=(n,t)=>{let e=nf(n,null,!0),i=nf(t,null,!0),s=e.compare(i);if(s===0)return null;let r=s>0,o=r?e:i,a=r?i:e,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let d=c?"pre":"";return e.major!==i.major?d+"major":e.minor!==i.minor?d+"minor":e.patch!==i.patch?d+"patch":"prerelease"};sf.exports=Tw});var af=pt((qC,of)=>{var Mw=oe(),Ow=(n,t)=>new Mw(n,t).major;of.exports=Ow});var cf=pt((ZC,lf)=>{var Pw=oe(),Fw=(n,t)=>new Pw(n,t).minor;lf.exports=Fw});var hf=pt((XC,uf)=>{var Rw=oe(),Lw=(n,t)=>new Rw(n,t).patch;uf.exports=Lw});var ff=pt((JC,df)=>{var Iw=mi(),Nw=(n,t)=>{let e=Iw(n,t);return e&&e.prerelease.length?e.prerelease:null};df.exports=Nw});var Be=pt((KC,gf)=>{var pf=oe(),Bw=(n,t,e)=>new pf(n,e).compare(new pf(t,e));gf.exports=Bw});var _f=pt((QC,mf)=>{var zw=Be(),Ww=(n,t,e)=>zw(t,n,e);mf.exports=Ww});var yf=pt((tA,bf)=>{var $w=Be(),jw=(n,t)=>$w(n,t,!0);bf.exports=jw});var ko=pt((eA,wf)=>{var vf=oe(),Hw=(n,t,e)=>{let i=new vf(n,e),s=new vf(t,e);return i.compare(s)||i.compareBuild(s)};wf.exports=Hw});var kf=pt((nA,xf)=>{var Uw=ko(),Vw=(n,t)=>n.sort((e,i)=>Uw(e,i,t));xf.exports=Vw});var Ef=pt((iA,Sf)=>{var Yw=ko(),Gw=(n,t)=>n.sort((e,i)=>Yw(i,e,t));Sf.exports=Gw});var Ys=pt((sA,Cf)=>{var qw=Be(),Zw=(n,t,e)=>qw(n,t,e)>0;Cf.exports=Zw});var So=pt((rA,Af)=>{var Xw=Be(),Jw=(n,t,e)=>Xw(n,t,e)<0;Af.exports=Jw});var Fl=pt((oA,Df)=>{var Kw=Be(),Qw=(n,t,e)=>Kw(n,t,e)===0;Df.exports=Qw});var Rl=pt((aA,Tf)=>{var tx=Be(),ex=(n,t,e)=>tx(n,t,e)!==0;Tf.exports=ex});var Eo=pt((lA,Mf)=>{var nx=Be(),ix=(n,t,e)=>nx(n,t,e)>=0;Mf.exports=ix});var Co=pt((cA,Of)=>{var sx=Be(),rx=(n,t,e)=>sx(n,t,e)<=0;Of.exports=rx});var Ll=pt((uA,Pf)=>{var ox=Fl(),ax=Rl(),lx=Ys(),cx=Eo(),ux=So(),hx=Co(),dx=(n,t,e,i)=>{switch(t){case"===":return typeof n=="object"&&(n=n.version),typeof e=="object"&&(e=e.version),n===e;case"!==":return typeof n=="object"&&(n=n.version),typeof e=="object"&&(e=e.version),n!==e;case"":case"=":case"==":return ox(n,e,i);case"!=":return ax(n,e,i);case">":return lx(n,e,i);case">=":return cx(n,e,i);case"<":return ux(n,e,i);case"<=":return hx(n,e,i);default:throw new TypeError(`Invalid operator: ${t}`)}};Pf.exports=dx});var Rf=pt((hA,Ff)=>{var fx=oe(),px=mi(),{safeRe:Ao,t:Do}=Gi(),gx=(n,t)=>{if(n instanceof fx)return n;if(typeof n=="number"&&(n=String(n)),typeof n!="string")return null;t=t||{};let e=null;if(!t.rtl)e=n.match(t.includePrerelease?Ao[Do.COERCEFULL]:Ao[Do.COERCE]);else{let c=t.includePrerelease?Ao[Do.COERCERTLFULL]:Ao[Do.COERCERTL],u;for(;(u=c.exec(n))&&(!e||e.index+e[0].length!==n.length);)(!e||u.index+u[0].length!==e.index+e[0].length)&&(e=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(e===null)return null;let i=e[2],s=e[3]||"0",r=e[4]||"0",o=t.includePrerelease&&e[5]?`-${e[5]}`:"",a=t.includePrerelease&&e[6]?`+${e[6]}`:"";return px(`${i}.${s}.${r}${o}${a}`,t)};Ff.exports=gx});var If=pt((dA,Lf)=>{"use strict";Lf.exports=function(n){n.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var Bf=pt((fA,Nf)=>{"use strict";Nf.exports=St;St.Node=_i;St.create=St;function St(n){var t=this;if(t instanceof St||(t=new St),t.tail=null,t.head=null,t.length=0,n&&typeof n.forEach=="function")n.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var e=0,i=arguments.length;e<i;e++)t.push(arguments[e]);return t}St.prototype.removeNode=function(n){if(n.list!==this)throw new Error("removing node which does not belong to this list");var t=n.next,e=n.prev;return t&&(t.prev=e),e&&(e.next=t),n===this.head&&(this.head=t),n===this.tail&&(this.tail=e),n.list.length--,n.next=null,n.prev=null,n.list=null,t};St.prototype.unshiftNode=function(n){if(n!==this.head){n.list&&n.list.removeNode(n);var t=this.head;n.list=this,n.next=t,t&&(t.prev=n),this.head=n,this.tail||(this.tail=n),this.length++}};St.prototype.pushNode=function(n){if(n!==this.tail){n.list&&n.list.removeNode(n);var t=this.tail;n.list=this,n.prev=t,t&&(t.next=n),this.tail=n,this.head||(this.head=n),this.length++}};St.prototype.push=function(){for(var n=0,t=arguments.length;n<t;n++)_x(this,arguments[n]);return this.length};St.prototype.unshift=function(){for(var n=0,t=arguments.length;n<t;n++)bx(this,arguments[n]);return this.length};St.prototype.pop=function(){if(this.tail){var n=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,n}};St.prototype.shift=function(){if(this.head){var n=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,n}};St.prototype.forEach=function(n,t){t=t||this;for(var e=this.head,i=0;e!==null;i++)n.call(t,e.value,i,this),e=e.next};St.prototype.forEachReverse=function(n,t){t=t||this;for(var e=this.tail,i=this.length-1;e!==null;i--)n.call(t,e.value,i,this),e=e.prev};St.prototype.get=function(n){for(var t=0,e=this.head;e!==null&&t<n;t++)e=e.next;if(t===n&&e!==null)return e.value};St.prototype.getReverse=function(n){for(var t=0,e=this.tail;e!==null&&t<n;t++)e=e.prev;if(t===n&&e!==null)return e.value};St.prototype.map=function(n,t){t=t||this;for(var e=new St,i=this.head;i!==null;)e.push(n.call(t,i.value,this)),i=i.next;return e};St.prototype.mapReverse=function(n,t){t=t||this;for(var e=new St,i=this.tail;i!==null;)e.push(n.call(t,i.value,this)),i=i.prev;return e};St.prototype.reduce=function(n,t){var e,i=this.head;if(arguments.length>1)e=t;else if(this.head)i=this.head.next,e=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;i!==null;s++)e=n(e,i.value,s),i=i.next;return e};St.prototype.reduceReverse=function(n,t){var e,i=this.tail;if(arguments.length>1)e=t;else if(this.tail)i=this.tail.prev,e=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;i!==null;s--)e=n(e,i.value,s),i=i.prev;return e};St.prototype.toArray=function(){for(var n=new Array(this.length),t=0,e=this.head;e!==null;t++)n[t]=e.value,e=e.next;return n};St.prototype.toArrayReverse=function(){for(var n=new Array(this.length),t=0,e=this.tail;e!==null;t++)n[t]=e.value,e=e.prev;return n};St.prototype.slice=function(n,t){t=t||this.length,t<0&&(t+=this.length),n=n||0,n<0&&(n+=this.length);var e=new St;if(t<n||t<0)return e;n<0&&(n=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;s!==null&&i<n;i++)s=s.next;for(;s!==null&&i<t;i++,s=s.next)e.push(s.value);return e};St.prototype.sliceReverse=function(n,t){t=t||this.length,t<0&&(t+=this.length),n=n||0,n<0&&(n+=this.length);var e=new St;if(t<n||t<0)return e;n<0&&(n=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;s!==null&&i>t;i--)s=s.prev;for(;s!==null&&i>n;i--,s=s.prev)e.push(s.value);return e};St.prototype.splice=function(n,t,...e){n>this.length&&(n=this.length-1),n<0&&(n=this.length+n);for(var i=0,s=this.head;s!==null&&i<n;i++)s=s.next;for(var r=[],i=0;s&&i<t;i++)r.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var i=0;i<e.length;i++)s=mx(this,s,e[i]);return r};St.prototype.reverse=function(){for(var n=this.head,t=this.tail,e=n;e!==null;e=e.prev){var i=e.prev;e.prev=e.next,e.next=i}return this.head=t,this.tail=n,this};function mx(n,t,e){var i=t===n.head?new _i(e,null,t,n):new _i(e,t,t.next,n);return i.next===null&&(n.tail=i),i.prev===null&&(n.head=i),n.length++,i}function _x(n,t){n.tail=new _i(t,n.tail,null,n),n.head||(n.head=n.tail),n.length++}function bx(n,t){n.head=new _i(t,null,n.head,n),n.tail||(n.tail=n.head),n.length++}function _i(n,t,e,i){if(!(this instanceof _i))return new _i(n,t,e,i);this.list=i,this.value=n,t?(t.next=this,this.prev=t):this.prev=null,e?(e.prev=this,this.next=e):this.next=null}try{If()(St)}catch(n){}});var Hf=pt((pA,jf)=>{"use strict";var yx=Bf(),bi=Symbol("max"),Tn=Symbol("length"),Zi=Symbol("lengthCalculator"),qs=Symbol("allowStale"),yi=Symbol("maxAge"),Dn=Symbol("dispose"),zf=Symbol("noDisposeOnSet"),ee=Symbol("lruList"),Ye=Symbol("cache"),$f=Symbol("updateAgeOnGet"),Il=()=>1,Bl=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let e=this[bi]=t.max||1/0,i=t.length||Il;if(this[Zi]=typeof i!="function"?Il:i,this[qs]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[yi]=t.maxAge||0,this[Dn]=t.dispose,this[zf]=t.noDisposeOnSet||!1,this[$f]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[bi]=t||1/0,Gs(this)}get max(){return this[bi]}set allowStale(t){this[qs]=!!t}get allowStale(){return this[qs]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[yi]=t,Gs(this)}get maxAge(){return this[yi]}set lengthCalculator(t){typeof t!="function"&&(t=Il),t!==this[Zi]&&(this[Zi]=t,this[Tn]=0,this[ee].forEach(e=>{e.length=this[Zi](e.value,e.key),this[Tn]+=e.length})),Gs(this)}get lengthCalculator(){return this[Zi]}get length(){return this[Tn]}get itemCount(){return this[ee].length}rforEach(t,e){e=e||this;for(let i=this[ee].tail;i!==null;){let s=i.prev;Wf(this,t,i,e),i=s}}forEach(t,e){e=e||this;for(let i=this[ee].head;i!==null;){let s=i.next;Wf(this,t,i,e),i=s}}keys(){return this[ee].toArray().map(t=>t.key)}values(){return this[ee].toArray().map(t=>t.value)}reset(){this[Dn]&&this[ee]&&this[ee].length&&this[ee].forEach(t=>this[Dn](t.key,t.value)),this[Ye]=new Map,this[ee]=new yx,this[Tn]=0}dump(){return this[ee].map(t=>To(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[ee]}set(t,e,i){if(i=i||this[yi],i&&typeof i!="number")throw new TypeError("maxAge must be a number");let s=i?Date.now():0,r=this[Zi](e,t);if(this[Ye].has(t)){if(r>this[bi])return Xi(this,this[Ye].get(t)),!1;let c=this[Ye].get(t).value;return this[Dn]&&(this[zf]||this[Dn](t,c.value)),c.now=s,c.maxAge=i,c.value=e,this[Tn]+=r-c.length,c.length=r,this.get(t),Gs(this),!0}let o=new zl(t,e,r,s,i);return o.length>this[bi]?(this[Dn]&&this[Dn](t,e),!1):(this[Tn]+=o.length,this[ee].unshift(o),this[Ye].set(t,this[ee].head),Gs(this),!0)}has(t){if(!this[Ye].has(t))return!1;let e=this[Ye].get(t).value;return!To(this,e)}get(t){return Nl(this,t,!0)}peek(t){return Nl(this,t,!1)}pop(){let t=this[ee].tail;return t?(Xi(this,t),t.value):null}del(t){Xi(this,this[Ye].get(t))}load(t){this.reset();let e=Date.now();for(let i=t.length-1;i>=0;i--){let s=t[i],r=s.e||0;if(r===0)this.set(s.k,s.v);else{let o=r-e;o>0&&this.set(s.k,s.v,o)}}}prune(){this[Ye].forEach((t,e)=>Nl(this,e,!1))}},Nl=(n,t,e)=>{let i=n[Ye].get(t);if(i){let s=i.value;if(To(n,s)){if(Xi(n,i),!n[qs])return}else e&&(n[$f]&&(i.value.now=Date.now()),n[ee].unshiftNode(i));return s.value}},To=(n,t)=>{if(!t||!t.maxAge&&!n[yi])return!1;let e=Date.now()-t.now;return t.maxAge?e>t.maxAge:n[yi]&&e>n[yi]},Gs=n=>{if(n[Tn]>n[bi])for(let t=n[ee].tail;n[Tn]>n[bi]&&t!==null;){let e=t.prev;Xi(n,t),t=e}},Xi=(n,t)=>{if(t){let e=t.value;n[Dn]&&n[Dn](e.key,e.value),n[Tn]-=e.length,n[Ye].delete(e.key),n[ee].removeNode(t)}},zl=class{constructor(t,e,i,s,r){this.key=t,this.value=e,this.length=i,this.now=s,this.maxAge=r||0}},Wf=(n,t,e,i)=>{let s=e.value;To(n,s)&&(Xi(n,e),n[qs]||(s=void 0)),s&&t.call(i,s.value,s.key,n)};jf.exports=Bl});var ze=pt((gA,Gf)=>{var Wl=class n{constructor(t,e){if(e=wx(e),t instanceof n)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new n(t.raw,e);if(t instanceof $l)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(s=>!Vf(s[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Dx(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){let i=((this.options.includePrerelease&&Cx)|(this.options.loose&&Ax))+":"+t,s=Uf.get(i);if(s)return s;let r=this.options.loose,o=r?Se[ge.HYPHENRANGELOOSE]:Se[ge.HYPHENRANGE];t=t.replace(o,Bx(this.options.includePrerelease)),It("hyphen replace",t),t=t.replace(Se[ge.COMPARATORTRIM],kx),It("comparator trim",t),t=t.replace(Se[ge.TILDETRIM],Sx),It("tilde trim",t),t=t.replace(Se[ge.CARETTRIM],Ex),It("caret trim",t);let a=t.split(" ").map(f=>Tx(f,this.options)).join(" ").split(/\s+/).map(f=>Nx(f,this.options));r&&(a=a.filter(f=>(It("loose invalid filter",f,this.options),!!f.match(Se[ge.COMPARATORLOOSE])))),It("range list",a);let c=new Map,u=a.map(f=>new $l(f,this.options));for(let f of u){if(Vf(f))return[f];c.set(f.value,f)}c.size>1&&c.has("")&&c.delete("");let d=[...c.values()];return Uf.set(i,d),d}intersects(t,e){if(!(t instanceof n))throw new TypeError("a Range is required");return this.set.some(i=>Yf(i,e)&&t.set.some(s=>Yf(s,e)&&i.every(r=>s.every(o=>r.intersects(o,e)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new xx(t,this.options)}catch(e){return!1}for(let e=0;e<this.set.length;e++)if(zx(this.set[e],t,this.options))return!0;return!1}};Gf.exports=Wl;var vx=Hf(),Uf=new vx({max:1e3}),wx=vo(),$l=Zs(),It=Vs(),xx=oe(),{safeRe:Se,t:ge,comparatorTrimReplace:kx,tildeTrimReplace:Sx,caretTrimReplace:Ex}=Gi(),{FLAG_INCLUDE_PRERELEASE:Cx,FLAG_LOOSE:Ax}=Us(),Vf=n=>n.value==="<0.0.0-0",Dx=n=>n.value==="",Yf=(n,t)=>{let e=!0,i=n.slice(),s=i.pop();for(;e&&i.length;)e=i.every(r=>s.intersects(r,t)),s=i.pop();return e},Tx=(n,t)=>(It("comp",n,t),n=Px(n,t),It("caret",n),n=Mx(n,t),It("tildes",n),n=Rx(n,t),It("xrange",n),n=Ix(n,t),It("stars",n),n),me=n=>!n||n.toLowerCase()==="x"||n==="*",Mx=(n,t)=>n.trim().split(/\s+/).map(e=>Ox(e,t)).join(" "),Ox=(n,t)=>{let e=t.loose?Se[ge.TILDELOOSE]:Se[ge.TILDE];return n.replace(e,(i,s,r,o,a)=>{It("tilde",n,i,s,r,o,a);let c;return me(s)?c="":me(r)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:me(o)?c=`>=${s}.${r}.0 <${s}.${+r+1}.0-0`:a?(It("replaceTilde pr",a),c=`>=${s}.${r}.${o}-${a} <${s}.${+r+1}.0-0`):c=`>=${s}.${r}.${o} <${s}.${+r+1}.0-0`,It("tilde return",c),c})},Px=(n,t)=>n.trim().split(/\s+/).map(e=>Fx(e,t)).join(" "),Fx=(n,t)=>{It("caret",n,t);let e=t.loose?Se[ge.CARETLOOSE]:Se[ge.CARET],i=t.includePrerelease?"-0":"";return n.replace(e,(s,r,o,a,c)=>{It("caret",n,s,r,o,a,c);let u;return me(r)?u="":me(o)?u=`>=${r}.0.0${i} <${+r+1}.0.0-0`:me(a)?r==="0"?u=`>=${r}.${o}.0${i} <${r}.${+o+1}.0-0`:u=`>=${r}.${o}.0${i} <${+r+1}.0.0-0`:c?(It("replaceCaret pr",c),r==="0"?o==="0"?u=`>=${r}.${o}.${a}-${c} <${r}.${o}.${+a+1}-0`:u=`>=${r}.${o}.${a}-${c} <${r}.${+o+1}.0-0`:u=`>=${r}.${o}.${a}-${c} <${+r+1}.0.0-0`):(It("no pr"),r==="0"?o==="0"?u=`>=${r}.${o}.${a}${i} <${r}.${o}.${+a+1}-0`:u=`>=${r}.${o}.${a}${i} <${r}.${+o+1}.0-0`:u=`>=${r}.${o}.${a} <${+r+1}.0.0-0`),It("caret return",u),u})},Rx=(n,t)=>(It("replaceXRanges",n,t),n.split(/\s+/).map(e=>Lx(e,t)).join(" ")),Lx=(n,t)=>{n=n.trim();let e=t.loose?Se[ge.XRANGELOOSE]:Se[ge.XRANGE];return n.replace(e,(i,s,r,o,a,c)=>{It("xRange",n,i,s,r,o,a,c);let u=me(r),d=u||me(o),f=d||me(a),p=f;return s==="="&&p&&(s=""),c=t.includePrerelease?"-0":"",u?s===">"||s==="<"?i="<0.0.0-0":i="*":s&&p?(d&&(o=0),a=0,s===">"?(s=">=",d?(r=+r+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",d?r=+r+1:o=+o+1),s==="<"&&(c="-0"),i=`${s+r}.${o}.${a}${c}`):d?i=`>=${r}.0.0${c} <${+r+1}.0.0-0`:f&&(i=`>=${r}.${o}.0${c} <${r}.${+o+1}.0-0`),It("xRange return",i),i})},Ix=(n,t)=>(It("replaceStars",n,t),n.trim().replace(Se[ge.STAR],"")),Nx=(n,t)=>(It("replaceGTE0",n,t),n.trim().replace(Se[t.includePrerelease?ge.GTE0PRE:ge.GTE0],"")),Bx=n=>(t,e,i,s,r,o,a,c,u,d,f,p,g)=>(me(i)?e="":me(s)?e=`>=${i}.0.0${n?"-0":""}`:me(r)?e=`>=${i}.${s}.0${n?"-0":""}`:o?e=`>=${e}`:e=`>=${e}${n?"-0":""}`,me(u)?c="":me(d)?c=`<${+u+1}.0.0-0`:me(f)?c=`<${u}.${+d+1}.0-0`:p?c=`<=${u}.${d}.${f}-${p}`:n?c=`<${u}.${d}.${+f+1}-0`:c=`<=${c}`,`${e} ${c}`.trim()),zx=(n,t,e)=>{for(let i=0;i<n.length;i++)if(!n[i].test(t))return!1;if(t.prerelease.length&&!e.includePrerelease){for(let i=0;i<n.length;i++)if(It(n[i].semver),n[i].semver!==$l.ANY&&n[i].semver.prerelease.length>0){let s=n[i].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}});var Zs=pt((mA,Qf)=>{var Xs=Symbol("SemVer ANY"),Ul=class n{static get ANY(){return Xs}constructor(t,e){if(e=qf(e),t instanceof n){if(t.loose===!!e.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Hl("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===Xs?this.value="":this.value=this.operator+this.semver.version,Hl("comp",this)}parse(t){let e=this.options.loose?Zf[Xf.COMPARATORLOOSE]:Zf[Xf.COMPARATOR],i=t.match(e);if(!i)throw new TypeError(`Invalid comparator: ${t}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new Jf(i[2],this.options.loose):this.semver=Xs}toString(){return this.value}test(t){if(Hl("Comparator.test",t,this.options.loose),this.semver===Xs||t===Xs)return!0;if(typeof t=="string")try{t=new Jf(t,this.options)}catch(e){return!1}return jl(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof n))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Kf(t.value,e).test(this.value):t.operator===""?t.value===""?!0:new Kf(this.value,e).test(t.semver):(e=qf(e),e.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!e.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||jl(this.semver,"<",t.semver,e)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||jl(this.semver,">",t.semver,e)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};Qf.exports=Ul;var qf=vo(),{safeRe:Zf,t:Xf}=Gi(),jl=Ll(),Hl=Vs(),Jf=oe(),Kf=ze()});var Js=pt((_A,tp)=>{var Wx=ze(),$x=(n,t,e)=>{try{t=new Wx(t,e)}catch(i){return!1}return t.test(n)};tp.exports=$x});var np=pt((bA,ep)=>{var jx=ze(),Hx=(n,t)=>new jx(n,t).set.map(e=>e.map(i=>i.value).join(" ").trim().split(" "));ep.exports=Hx});var sp=pt((yA,ip)=>{var Ux=oe(),Vx=ze(),Yx=(n,t,e)=>{let i=null,s=null,r=null;try{r=new Vx(t,e)}catch(o){return null}return n.forEach(o=>{r.test(o)&&(!i||s.compare(o)===-1)&&(i=o,s=new Ux(i,e))}),i};ip.exports=Yx});var op=pt((vA,rp)=>{var Gx=oe(),qx=ze(),Zx=(n,t,e)=>{let i=null,s=null,r=null;try{r=new qx(t,e)}catch(o){return null}return n.forEach(o=>{r.test(o)&&(!i||s.compare(o)===1)&&(i=o,s=new Gx(i,e))}),i};rp.exports=Zx});var cp=pt((wA,lp)=>{var Vl=oe(),Xx=ze(),ap=Ys(),Jx=(n,t)=>{n=new Xx(n,t);let e=new Vl("0.0.0");if(n.test(e)||(e=new Vl("0.0.0-0"),n.test(e)))return e;e=null;for(let i=0;i<n.set.length;++i){let s=n.set[i],r=null;s.forEach(o=>{let a=new Vl(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!r||ap(a,r))&&(r=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),r&&(!e||ap(e,r))&&(e=r)}return e&&n.test(e)?e:null};lp.exports=Jx});var hp=pt((xA,up)=>{var Kx=ze(),Qx=(n,t)=>{try{return new Kx(n,t).range||"*"}catch(e){return null}};up.exports=Qx});var Mo=pt((kA,gp)=>{var t2=oe(),pp=Zs(),{ANY:e2}=pp,n2=ze(),i2=Js(),dp=Ys(),fp=So(),s2=Co(),r2=Eo(),o2=(n,t,e,i)=>{n=new t2(n,i),t=new n2(t,i);let s,r,o,a,c;switch(e){case">":s=dp,r=s2,o=fp,a=">",c=">=";break;case"<":s=fp,r=r2,o=dp,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i2(n,t,i))return!1;for(let u=0;u<t.set.length;++u){let d=t.set[u],f=null,p=null;if(d.forEach(g=>{g.semver===e2&&(g=new pp(">=0.0.0")),f=f||g,p=p||g,s(g.semver,f.semver,i)?f=g:o(g.semver,p.semver,i)&&(p=g)}),f.operator===a||f.operator===c||(!p.operator||p.operator===a)&&r(n,p.semver))return!1;if(p.operator===c&&o(n,p.semver))return!1}return!0};gp.exports=o2});var _p=pt((SA,mp)=>{var a2=Mo(),l2=(n,t,e)=>a2(n,t,">",e);mp.exports=l2});var yp=pt((EA,bp)=>{var c2=Mo(),u2=(n,t,e)=>c2(n,t,"<",e);bp.exports=u2});var xp=pt((CA,wp)=>{var vp=ze(),h2=(n,t,e)=>(n=new vp(n,e),t=new vp(t,e),n.intersects(t,e));wp.exports=h2});var Sp=pt((AA,kp)=>{var d2=Js(),f2=Be();kp.exports=(n,t,e)=>{let i=[],s=null,r=null,o=n.sort((d,f)=>f2(d,f,e));for(let d of o)d2(d,t,e)?(r=d,s||(s=d)):(r&&i.push([s,r]),r=null,s=null);s&&i.push([s,null]);let a=[];for(let[d,f]of i)d===f?a.push(d):!f&&d===o[0]?a.push("*"):f?d===o[0]?a.push(`<=${f}`):a.push(`${d} - ${f}`):a.push(`>=${d}`);let c=a.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var Mp=pt((DA,Tp)=>{var Ep=ze(),Gl=Zs(),{ANY:Yl}=Gl,Ks=Js(),ql=Be(),p2=(n,t,e={})=>{if(n===t)return!0;n=new Ep(n,e),t=new Ep(t,e);let i=!1;t:for(let s of n.set){for(let r of t.set){let o=m2(s,r,e);if(i=i||o!==null,o)continue t}if(i)return!1}return!0},g2=[new Gl(">=0.0.0-0")],Cp=[new Gl(">=0.0.0")],m2=(n,t,e)=>{if(n===t)return!0;if(n.length===1&&n[0].semver===Yl){if(t.length===1&&t[0].semver===Yl)return!0;e.includePrerelease?n=g2:n=Cp}if(t.length===1&&t[0].semver===Yl){if(e.includePrerelease)return!0;t=Cp}let i=new Set,s,r;for(let g of n)g.operator===">"||g.operator===">="?s=Ap(s,g,e):g.operator==="<"||g.operator==="<="?r=Dp(r,g,e):i.add(g.semver);if(i.size>1)return null;let o;if(s&&r){if(o=ql(s.semver,r.semver,e),o>0)return null;if(o===0&&(s.operator!==">="||r.operator!=="<="))return null}for(let g of i){if(s&&!Ks(g,String(s),e)||r&&!Ks(g,String(r),e))return null;for(let _ of t)if(!Ks(g,String(_),e))return!1;return!0}let a,c,u,d,f=r&&!e.includePrerelease&&r.semver.prerelease.length?r.semver:!1,p=s&&!e.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&r.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let g of t){if(d=d||g.operator===">"||g.operator===">=",u=u||g.operator==="<"||g.operator==="<=",s){if(p&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===p.major&&g.semver.minor===p.minor&&g.semver.patch===p.patch&&(p=!1),g.operator===">"||g.operator===">="){if(a=Ap(s,g,e),a===g&&a!==s)return!1}else if(s.operator===">="&&!Ks(s.semver,String(g),e))return!1}if(r){if(f&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===f.major&&g.semver.minor===f.minor&&g.semver.patch===f.patch&&(f=!1),g.operator==="<"||g.operator==="<="){if(c=Dp(r,g,e),c===g&&c!==r)return!1}else if(r.operator==="<="&&!Ks(r.semver,String(g),e))return!1}if(!g.operator&&(r||s)&&o!==0)return!1}return!(s&&u&&!r&&o!==0||r&&d&&!s&&o!==0||p||f)},Ap=(n,t,e)=>{if(!n)return t;let i=ql(n.semver,t.semver,e);return i>0?n:i<0||t.operator===">"&&n.operator===">="?t:n},Dp=(n,t,e)=>{if(!n)return t;let i=ql(n.semver,t.semver,e);return i<0?n:i>0||t.operator==="<"&&n.operator==="<="?t:n};Tp.exports=p2});var Xl=pt((TA,Fp)=>{var Zl=Gi(),Op=Us(),_2=oe(),Pp=Ol(),b2=mi(),y2=Xd(),v2=Kd(),w2=ef(),x2=rf(),k2=af(),S2=cf(),E2=hf(),C2=ff(),A2=Be(),D2=_f(),T2=yf(),M2=ko(),O2=kf(),P2=Ef(),F2=Ys(),R2=So(),L2=Fl(),I2=Rl(),N2=Eo(),B2=Co(),z2=Ll(),W2=Rf(),$2=Zs(),j2=ze(),H2=Js(),U2=np(),V2=sp(),Y2=op(),G2=cp(),q2=hp(),Z2=Mo(),X2=_p(),J2=yp(),K2=xp(),Q2=Sp(),tk=Mp();Fp.exports={parse:b2,valid:y2,clean:v2,inc:w2,diff:x2,major:k2,minor:S2,patch:E2,prerelease:C2,compare:A2,rcompare:D2,compareLoose:T2,compareBuild:M2,sort:O2,rsort:P2,gt:F2,lt:R2,eq:L2,neq:I2,gte:N2,lte:B2,cmp:z2,coerce:W2,Comparator:$2,Range:j2,satisfies:H2,toComparators:U2,maxSatisfying:V2,minSatisfying:Y2,minVersion:G2,validRange:q2,outside:Z2,gtr:X2,ltr:J2,intersects:K2,simplifyRange:Q2,subset:tk,SemVer:_2,re:Zl.re,src:Zl.src,tokens:Zl.t,SEMVER_SPEC_VERSION:Op.SEMVER_SPEC_VERSION,RELEASE_TYPES:Op.RELEASE_TYPES,compareIdentifiers:Pp.compareIdentifiers,rcompareIdentifiers:Pp.rcompareIdentifiers}});var Dk={};F_(Dk,{default:()=>Ak});module.exports=R_(Dk);var Kt=require("obsidian"),cc=fs(ra());function L_(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(d){try{u(i.next(d))}catch(f){o(f)}}function c(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?r(d.value):s(d.value).then(a,c)}u((i=i.apply(n,t||[])).next())})}var oa="callout-manager",qc="v1";function Zc(n){var t;return L_(this,void 0,void 0,function*(){let e=(t=n==null?void 0:n.app)!==null&&t!==void 0?t:globalThis.app,{plugins:i}=e;if(!i.enabledPlugins.has(oa))return;let s=yield new Promise((r,o)=>{let a=i.plugins[oa];if(a!==void 0)return r(a);let c=setInterval(()=>{let u=i.plugins[oa];u!==void 0&&(clearInterval(c),r(u))},10)});return s.newApiHandle(qc,n,()=>{s.destroyApiHandle(qc,n)})})}var Ae=require("obsidian");var la=require("obsidian"),Kc=fs(Jc());var ce={PluginAST:'<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="currentColor"><path d="M53.75,21.5c-8.27246,0 -14.86523,5.20703 -18.39257,12.09375c-8.39844,1.76368 -15.91504,6.84473 -19.31641,15.03321c-6.50879,15.5371 -16.04102,41.53027 -16.04102,64.24804c0,20.70215 16.92285,37.625 37.625,37.625c14.90723,0 27.75683,-8.86035 33.84571,-21.5h29.05859c6.08886,12.63965 18.93847,21.5 33.8457,21.5c20.70215,0 37.625,-16.92285 37.625,-37.625c0,-8.44043 -2.60351,-19.44239 -5.87891,-30.90625c-3.31739,-11.50585 -7.39062,-23.26367 -10.58203,-32.08203c-3.10742,-8.44043 -10.41406,-13.85742 -18.77051,-15.99902c-3.48534,-7.05469 -10.12011,-12.3877 -18.51855,-12.3877c-7.68457,0 -13.73145,4.61915 -17.51074,10.75h-29.47852c-3.77929,-6.13085 -9.82617,-10.75 -17.51074,-10.75zM53.75,32.25c4.70313,0 8.6084,3.02344 10.07813,7.18067l1.25977,3.56933h41.82422l1.25976,-3.56933c1.46973,-4.15723 5.375,-7.18067 10.07813,-7.18067c4.8291,0 8.77636,3.19141 10.16211,7.5166l1.00781,3.14942l3.27539,0.50391c5.87891,0.92382 10.70801,4.61914 12.76563,10.1621c2.81348,7.72656 6.21484,17.7627 9.19629,27.71484c-5.87891,-3.77929 -12.80761,-6.04687 -20.28223,-6.04687c-14.90723,0 -27.75683,8.86035 -33.8457,21.5h-29.05859c-6.08888,-12.63965 -18.93848,-21.5 -33.84571,-21.5c-8.18848,0 -15.74707,2.72949 -21.91992,7.22266c3.06543,-11.21192 7.01269,-21.87793 10.24609,-29.68848c2.22558,-5.375 7.22266,-8.86034 13.10156,-9.49023l3.44335,-0.37793l1.0918,-3.2754c1.42773,-4.2832 5.375,-7.39062 10.1621,-7.39062zM37.625,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM134.375,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM74.7041,107.5h22.59179c-0.25195,1.76368 -0.5459,3.52734 -0.5459,5.375c0,1.84766 0.29395,3.61133 0.5459,5.375h-22.59179c0.25195,-1.76367 0.5459,-3.52734 0.5459,-5.375c0,-1.84766 -0.29395,-3.61132 -0.5459,-5.375z"></path></g></g></svg>',PluginAST_STATUSBAR:'<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 172 172"><g fill="currentColor" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g id="svg-animate" fill="currentColor"><path d="M53.75,21.5c-8.27246,0 -14.86523,5.20703 -18.39257,12.09375c-8.39844,1.76368 -15.91504,6.84473 -19.31641,15.03321c-6.50879,15.5371 -16.04102,41.53027 -16.04102,64.24804c0,20.70215 16.92285,37.625 37.625,37.625c14.90723,0 27.75683,-8.86035 33.84571,-21.5h29.05859c6.08886,12.63965 18.93847,21.5 33.8457,21.5c20.70215,0 37.625,-16.92285 37.625,-37.625c0,-8.44043 -2.60351,-19.44239 -5.87891,-30.90625c-3.31739,-11.50585 -7.39062,-23.26367 -10.58203,-32.08203c-3.10742,-8.44043 -10.41406,-13.85742 -18.77051,-15.99902c-3.48534,-7.05469 -10.12011,-12.3877 -18.51855,-12.3877c-7.68457,0 -13.73145,4.61915 -17.51074,10.75h-29.47852c-3.77929,-6.13085 -9.82617,-10.75 -17.51074,-10.75zM53.75,32.25c4.70313,0 8.6084,3.02344 10.07813,7.18067l1.25977,3.56933h41.82422l1.25976,-3.56933c1.46973,-4.15723 5.375,-7.18067 10.07813,-7.18067c4.8291,0 8.77636,3.19141 10.16211,7.5166l1.00781,3.14942l3.27539,0.50391c5.87891,0.92382 10.70801,4.61914 12.76563,10.1621c2.81348,7.72656 6.21484,17.7627 9.19629,27.71484c-5.87891,-3.77929 -12.80761,-6.04687 -20.28223,-6.04687c-14.90723,0 -27.75683,8.86035 -33.8457,21.5h-29.05859c-6.08888,-12.63965 -18.93848,-21.5 -33.84571,-21.5c-8.18848,0 -15.74707,2.72949 -21.91992,7.22266c3.06543,-11.21192 7.01269,-21.87793 10.24609,-29.68848c2.22558,-5.375 7.22266,-8.86034 13.10156,-9.49023l3.44335,-0.37793l1.0918,-3.2754c1.42773,-4.2832 5.375,-7.39062 10.1621,-7.39062zM37.625,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM134.375,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM74.7041,107.5h22.59179c-0.25195,1.76368 -0.5459,3.52734 -0.5459,5.375c0,1.84766 0.29395,3.61133 0.5459,5.375h-22.59179c0.25195,-1.76367 0.5459,-3.52734 0.5459,-5.375c0,-1.84766 -0.29395,-3.61132 -0.5459,-5.375z"></path></g></g></svg>',PluginAST_PREVIEW:'<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 172 172"><g fill="blue" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="5,5" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g id="svg-animate" fill="#2fcc70ee" fill-rule="nonzero"><path d="M53.75,21.5c-8.27246,0 -14.86523,5.20703 -18.39257,12.09375c-8.39844,1.76368 -15.91504,6.84473 -19.31641,15.03321c-6.50879,15.5371 -16.04102,41.53027 -16.04102,64.24804c0,20.70215 16.92285,37.625 37.625,37.625c14.90723,0 27.75683,-8.86035 33.84571,-21.5h29.05859c6.08886,12.63965 18.93847,21.5 33.8457,21.5c20.70215,0 37.625,-16.92285 37.625,-37.625c0,-8.44043 -2.60351,-19.44239 -5.87891,-30.90625c-3.31739,-11.50585 -7.39062,-23.26367 -10.58203,-32.08203c-3.10742,-8.44043 -10.41406,-13.85742 -18.77051,-15.99902c-3.48534,-7.05469 -10.12011,-12.3877 -18.51855,-12.3877c-7.68457,0 -13.73145,4.61915 -17.51074,10.75h-29.47852c-3.77929,-6.13085 -9.82617,-10.75 -17.51074,-10.75zM53.75,32.25c4.70313,0 8.6084,3.02344 10.07813,7.18067l1.25977,3.56933h41.82422l1.25976,-3.56933c1.46973,-4.15723 5.375,-7.18067 10.07813,-7.18067c4.8291,0 8.77636,3.19141 10.16211,7.5166l1.00781,3.14942l3.27539,0.50391c5.87891,0.92382 10.70801,4.61914 12.76563,10.1621c2.81348,7.72656 6.21484,17.7627 9.19629,27.71484c-5.87891,-3.77929 -12.80761,-6.04687 -20.28223,-6.04687c-14.90723,0 -27.75683,8.86035 -33.8457,21.5h-29.05859c-6.08888,-12.63965 -18.93848,-21.5 -33.84571,-21.5c-8.18848,0 -15.74707,2.72949 -21.91992,7.22266c3.06543,-11.21192 7.01269,-21.87793 10.24609,-29.68848c2.22558,-5.375 7.22266,-8.86034 13.10156,-9.49023l3.44335,-0.37793l1.0918,-3.2754c1.42773,-4.2832 5.375,-7.39062 10.1621,-7.39062zM37.625,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM134.375,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM74.7041,107.5h22.59179c-0.25195,1.76368 -0.5459,3.52734 -0.5459,5.375c0,1.84766 0.29395,3.61133 0.5459,5.375h-22.59179c0.25195,-1.76367 0.5459,-3.52734 0.5459,-5.375c0,-1.84766 -0.29395,-3.61132 -0.5459,-5.375z"></path></g></g></svg>',PluginAST_STAT:'<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bar-chart-3"><path d="M3 3v18h18"/><path stroke-width="3" stroke="green" d="M18 17V9"/><path stroke-width="3" stroke="red" d="M13 17V5"/><path stroke-width="3" stroke="goldenrod" d="M8 17v-3"/></svg>',SWITCH_ON_STATUS:'<svg width="99px" height="99px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="green" fill-rule="nonzero"><path d="M18.25,3 C19.7687831,3 21,4.23121694 21,5.75 L21,18.25 C21,19.7687831 19.7687831,21 18.25,21 L5.75,21 C4.23121694,21 3,19.7687831 3,18.25 L3,5.75 C3,4.23121694 4.23121694,3 5.75,3 L18.25,3 Z M18.25,4.5 L5.75,4.5 C5.05964406,4.5 4.5,5.05964406 4.5,5.75 L4.5,18.25 C4.5,18.9403559 5.05964406,19.5 5.75,19.5 L18.25,19.5 C18.9403559,19.5 19.5,18.9403559 19.5,18.25 L19.5,5.75 C19.5,5.05964406 18.9403559,4.5 18.25,4.5 Z M10,14.4393398 L16.4696699,7.96966991 C16.7625631,7.6767767 17.2374369,7.6767767 17.5303301,7.96966991 C17.7965966,8.23593648 17.8208027,8.65260016 17.6029482,8.94621165 L17.5303301,9.03033009 L10.5303301,16.0303301 C10.2640635,16.2965966 9.84739984,16.3208027 9.55378835,16.1029482 L9.46966991,16.0303301 L6.46966991,13.0303301 C6.1767767,12.7374369 6.1767767,12.2625631 6.46966991,11.9696699 C6.73593648,11.7034034 7.15260016,11.6791973 7.44621165,11.8970518 L7.53033009,11.9696699 L10,14.4393398 L16.4696699,7.96966991 L10,14.4393398 Z"></path></g></g></svg>',SWITCH_OFF_STATUS:'<svg width="99px" height="99px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="red" fill-rule="nonzero"><path d="M5.75,3 L18.25,3 C19.7687831,3 21,4.23121694 21,5.75 L21,18.25 C21,19.7687831 19.7687831,21 18.25,21 L5.75,21 C4.23121694,21 3,19.7687831 3,18.25 L3,5.75 C3,4.23121694 4.23121694,3 5.75,3 Z M5.75,4.5 C5.05964406,4.5 4.5,5.05964406 4.5,5.75 L4.5,18.25 C4.5,18.9403559 5.05964406,19.5 5.75,19.5 L18.25,19.5 C18.9403559,19.5 19.5,18.9403559 19.5,18.25 L19.5,5.75 C19.5,5.05964406 18.9403559,4.5 18.25,4.5 L5.75,4.5 Z"></path></g></g></svg>',PLUGIN_UPDATE_STATUS:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48"><path fill='red' d="M2,7H0V3C0,1.35,1.35,0,3,0H7V2H3c-.55,0-1,.45-1,1V7Zm0,14v-4H0v4c0,1.65,1.35,3,3,3H7v-2H3c-.55,0-1-.45-1-1Zm20,0c0,.55-.45,1-1,1h-4v2h4c1.65,0,3-1.35,3-3v-4h-2v4Zm-4-10.08v-.92h-4.33l-1.18-4.5h-.97l-1.18,4.5H6v.92l3.32,1.85-1.3,4.08,.72,.54,3.27-2.53,3.26,2.52,.75-.52-1.33-4.03,3.3-1.91ZM17,0V8l7-4L17,0Z"/></svg>`,PLUGIN_UPDATED_STATUS:'<svg xmlns="http://www.w3.org/2000/svg" width="99px" height="99px" viewBox="0 -960 960 960" width="48"><path fill="green" d="M229.911-160Q201-160 180.5-180.589q-20.5-20.588-20.5-49.5Q160-259 180.589-279.5q20.588-20.5 49.5-20.5Q259-300 279.5-279.411q20.5 20.588 20.5 49.5Q300-201 279.411-180.5q-20.588 20.5-49.5 20.5Zm335 0Q536-160 515.5-180.589q-20.5-20.588-20.5-49.5Q495-259 515.589-279.5q20.588-20.5 49.5-20.5Q594-300 614.5-279.411q20.5 20.588 20.5 49.5Q635-201 614.411-180.5q-20.588 20.5-49.5 20.5Zm-170-165Q366-325 345.5-345.589q-20.5-20.588-20.5-49.5Q325-424 345.589-444.5q20.588-20.5 49.5-20.5Q424-465 444.5-444.411q20.5 20.588 20.5 49.5Q465-366 444.411-345.5q-20.588 20.5-49.5 20.5Zm335 0Q701-325 680.5-345.589q-20.5-20.588-20.5-49.5Q660-424 680.589-444.5q20.588-20.5 49.5-20.5Q759-465 779.5-444.411q20.5 20.588 20.5 49.5Q800-366 779.411-345.5q-20.588 20.5-49.5 20.5Zm-500-170Q201-495 180.5-515.589q-20.5-20.588-20.5-49.5Q160-594 180.589-614.5q20.588-20.5 49.5-20.5Q259-635 279.5-614.411q20.5 20.588 20.5 49.5Q300-536 279.411-515.5q-20.588 20.5-49.5 20.5Zm335 0Q536-495 515.5-515.589q-20.5-20.588-20.5-49.5Q495-594 515.589-614.5q20.588-20.5 49.5-20.5Q594-635 614.5-614.411q20.5 20.588 20.5 49.5Q635-536 614.411-515.5q-20.588 20.5-49.5 20.5Zm-170-165Q366-660 345.5-680.589q-20.5-20.588-20.5-49.5Q325-759 345.589-779.5q20.588-20.5 49.5-20.5Q424-800 444.5-779.411q20.5 20.588 20.5 49.5Q465-701 444.411-680.5q-20.588 20.5-49.5 20.5Zm335 0Q701-660 680.5-680.589q-20.5-20.588-20.5-49.5Q660-759 680.589-779.5q20.588-20.5 49.5-20.5Q759-800 779.5-779.411q20.5 20.588 20.5 49.5Q800-701 779.411-680.5q-20.588 20.5-49.5 20.5Z"/></svg>'},Qc=()=>Math.floor(Math.random()*Date.now()).toString(6),tu=async n=>(await(0,la.requestUrl)({url:n})).arrayBuffer;var ca=async(n,t)=>{let e=new Kc.default;e=await e.loadAsync(n);let i=new RegExp(`.*${t}$`),s=e.file(i);return s?await s[0].async("string"):null};var ps=class extends Ae.SuggestModal{constructor(e){super(e);this.enabledColor="green";this.disabledColor="red";this.obsidianPlugins=e.plugins}getSuggestions(e){"use strict";let i=[],s=[],r=[];for(let o of Object.keys(this.app.plugins.manifests)){let a={name:this.obsidianPlugins.manifests[o].name,id:this.obsidianPlugins.manifests[o].id,desc:this.obsidianPlugins.manifests[o].description,enbaled:!1};this.obsidianPlugins.enabledPlugins.has(this.obsidianPlugins.manifests[o].id)?(a.enbaled=!0,s.push(a)):(a.enbaled=!1,i.push(a)),r.push(a)}return r.filter(o=>o.name.toLowerCase().includes(e.toLowerCase()))}renderSuggestion(e,i){var o;let s=e.enbaled?this.enabledColor:this.disabledColor;(0,Ae.addIcon)("SWITCH_ON_STATUS",ce.SWITCH_ON_STATUS),(0,Ae.addIcon)("SWITCH_OFF_STATUS",ce.SWITCH_OFF_STATUS);let r=i.createEl("div",{attr:{style:`color: ${s}`}});e.enbaled?(0,Ae.setIcon)(r,"SWITCH_ON_STATUS"):(0,Ae.setIcon)(r,"SWITCH_OFF_STATUS"),(o=r.querySelector("svg"))==null||o.addClass("plugin-swith-on-off-svg"),r.createSpan({text:e.name,attr:{style:"color: var(--text-normal)"}}),i.createEl("small",{text:e.desc})}onChooseSuggestion(e,i){e.enbaled?this.obsidianPlugins.disablePluginAndSave(e.id)?new Ae.Notice(`disable plugin[${e.name}] successfully`):new Ae.Notice(`disable plugin[${e.name}] failed, try it again`):this.obsidianPlugins.enablePluginAndSave(e.id)?new Ae.Notice(`enable plugin[${e.name}] successfully`):new Ae.Notice(`enable plugin[${e.name}] failed, try it again`)}};var Dt=require("obsidian");var fa=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},pa=function(){function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),mr=function(){function n(t,e){var i=[],s=!0,r=!1,o=void 0;try{for(var a=t[Symbol.iterator](),c;!(s=(c=a.next()).done)&&(i.push(c.value),!(e&&i.length===e));s=!0);}catch(u){r=!0,o=u}finally{try{!s&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(n){return this.indexOf(n)===0};String.prototype.padStart=String.prototype.padStart||function(n,t){for(var e=this;e.length<n;)e=t+e;return e};var I_={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function eu(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,e=t>0?n.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):n.toString();return e||"0"}var N_=function(){function n(t,e,i,s){fa(this,n);var r=this;function o(c){if(c.startsWith("hsl")){var u=c.match(/([\-\d\.e]+)/g).map(Number),d=mr(u,4),f=d[0],p=d[1],g=d[2],_=d[3];_===void 0&&(_=1),f/=360,p/=100,g/=100,r.hsla=[f,p,g,_]}else if(c.startsWith("rgb")){var b=c.match(/([\-\d\.e]+)/g).map(Number),w=mr(b,4),S=w[0],C=w[1],E=w[2],F=w[3];F===void 0&&(F=1),r.rgba=[S,C,E,F]}else c.startsWith("#")?r.rgba=n.hexToRgb(c):r.rgba=n.nameToRgb(c)||n.hexToRgb(c)}if(t!==void 0)if(Array.isArray(t))this.rgba=t;else if(i===void 0){var a=t&&""+t;a&&o(a.toLowerCase())}else this.rgba=[t,e,i,s===void 0?1:s]}return pa(n,[{key:"printRGB",value:function(e){var i=e?this.rgba:this.rgba.slice(0,3),s=i.map(function(r,o){return eu(r,o===3?3:0)});return e?"rgba("+s+")":"rgb("+s+")"}},{key:"printHSL",value:function(e){var i=[360,100,100,1],s=["","%","%",""],r=e?this.hsla:this.hsla.slice(0,3),o=r.map(function(a,c){return eu(a*i[c],c===3?3:1)+s[c]});return e?"hsla("+o+")":"hsl("+o+")"}},{key:"printHex",value:function(e){var i=this.hex;return e?i:i.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=n.hslToRgb(this._hsla)},set:function(e){e.length===3&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=n.rgbToHsl(this._rgba)},set:function(e){e.length===3&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var e=this.rgba,i=e.map(function(s,r){return r<3?s.toString(16):Math.round(s*255).toString(16)});return"#"+i.map(function(s){return s.padStart(2,"0")}).join("")},set:function(e){this.rgba=n.hexToRgb(e)}}],[{key:"hexToRgb",value:function(e){var i=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!i.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var s=i.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(r){return parseInt(r,16)});return s[3]=s[3]/255,s}},{key:"nameToRgb",value:function(e){var i=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),s=I_[i];return s===void 0?s:n.hexToRgb(s.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var i=mr(e,4),s=i[0],r=i[1],o=i[2],a=i[3];s/=255,r/=255,o/=255;var c=Math.max(s,r,o),u=Math.min(s,r,o),d=void 0,f=void 0,p=(c+u)/2;if(c===u)d=f=0;else{var g=c-u;switch(f=p>.5?g/(2-c-u):g/(c+u),c){case s:d=(r-o)/g+(r<o?6:0);break;case r:d=(o-s)/g+2;break;case o:d=(s-r)/g+4;break}d/=6}return[d,f,p,a]}},{key:"hslToRgb",value:function(e){var i=mr(e,4),s=i[0],r=i[1],o=i[2],a=i[3],c=void 0,u=void 0,d=void 0;if(r===0)c=u=d=o;else{var f=function(w,S,C){return C<0&&(C+=1),C>1&&(C-=1),C<.16666666666666666?w+(S-w)*6*C:C<.5?S:C<.6666666666666666?w+(S-w)*(.6666666666666666-C)*6:w},p=o<.5?o*(1+r):o+r-o*r,g=2*o-p;c=f(g,p,s+1/3),u=f(g,p,s),d=f(g,p,s-1/3)}var _=[c*255,u*255,d*255].map(Math.round);return _[3]=a,_}}]),n}(),B_=function(){function n(){fa(this,n),this._events=[]}return pa(n,[{key:"add",value:function(e,i,s){e.addEventListener(i,s,!1),this._events.push({target:e,type:i,handler:s})}},{key:"remove",value:function(e,i,s){this._events=this._events.filter(function(r){var o=!0;return e&&e!==r.target&&(o=!1),i&&i!==r.type&&(o=!1),s&&s!==r.handler&&(o=!1),o&&n._doRemove(r.target,r.type,r.handler),!o})}},{key:"destroy",value:function(){this._events.forEach(function(e){return n._doRemove(e.target,e.type,e.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(e,i,s){e.removeEventListener(i,s,!1)}}]),n}();function z_(n){var t=document.createElement("div");return t.innerHTML=n,t.firstElementChild}function ua(n,t,e){var i=!1;function s(c,u,d){return Math.max(u,Math.min(c,d))}function r(c,u,d){if(d&&(i=!0),!!i){c.preventDefault();var f=t.getBoundingClientRect(),p=f.width,g=f.height,_=u.clientX,b=u.clientY,w=s(_-f.left,0,p),S=s(b-f.top,0,g);e(w/p,S/g)}}function o(c,u){var d=c.buttons===void 0?c.which:c.buttons;d===1?r(c,c,u):i=!1}function a(c,u){c.touches.length===1?r(c,c.touches[0],u):i=!1}n.add(t,"mousedown",function(c){o(c,!0)}),n.add(t,"touchstart",function(c){a(c,!0)}),n.add(window,"mousemove",o),n.add(t,"touchmove",a),n.add(window,"mouseup",function(c){i=!1}),n.add(t,"touchend",function(c){i=!1}),n.add(t,"touchcancel",function(c){i=!1})}var W_=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,$_=360,nu="keydown",_r="mousedown",ha="focusin";function Ze(n,t){return(t||document).querySelector(n)}function iu(n){n.preventDefault(),n.stopPropagation()}function da(n,t,e,i,s){n.add(t,nu,function(r){e.indexOf(r.key)>=0&&(s&&iu(r),i(r))})}var ga=function(){function n(t){fa(this,n),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new B_,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return pa(n,[{key:"setOptions",value:function(e){var i=this;if(!e)return;var s=this.settings;function r(u,d,f){for(var p in u)f&&f.indexOf(p)>=0||(d[p]=u[p])}if(e instanceof HTMLElement)s.parent=e;else{s.parent&&e.parent&&s.parent!==e.parent&&(this._events.remove(s.parent),this._popupInited=!1),r(e,s),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var o=e.color||e.colour;o&&this._setColor(o)}var a=s.parent;if(a&&s.popup&&!this._popupInited){var c=function(d){return i.openHandler(d)};this._events.add(a,"click",c),da(this._events,a,[" ","Spacebar","Enter"],c),this._popupInited=!0}else e.parent&&!s.popup&&this.show()}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var i=e&&e.type===nu?this._domEdit:this.domElement;setTimeout(function(){return i.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var i=e&&e.type,s=!1;if(!e)s=!0;else if(i===_r||i===ha){var r=(this.__containedEvent||0)+100;e.timeStamp>r&&(s=!0)}else iu(e),s=!0;s&&this.hide()&&(this.settings.parent.style.pointerEvents="",i!==_r&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,i){this.closeHandler(),this.setOptions(e),i&&this.openHandler()}},{key:"setColor",value:function(e,i){this._setColor(e,{silent:i})}},{key:"_setColor",value:function(e,i){if(typeof e=="string"&&(e=e.trim()),!!e){i=i||{};var s=void 0;try{s=new N_(e)}catch(o){if(i.failSilently)return;throw o}if(!this.settings.alpha){var r=s.hsla;r[3]=1,s.hsla=r}this.colour=this.color=s,this._setHSLA(null,null,null,null,i)}}},{key:"setColour",value:function(e,i){this.setColor(e,i)}},{key:"show",value:function(){var e=this.settings.parent;if(!e)return!1;if(this.domElement){var i=this._toggleDOM(!0);return this._setPosition(),i}var s=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',r=z_(s);return this.domElement=r,this._domH=Ze(".picker_hue",r),this._domSL=Ze(".picker_sl",r),this._domA=Ze(".picker_alpha",r),this._domEdit=Ze(".picker_editor input",r),this._domSample=Ze(".picker_sample",r),this._domOkay=Ze(".picker_done button",r),this._domCancel=Ze(".picker_cancel button",r),r.classList.add("layout_"+this.settings.layout),this.settings.alpha||r.classList.add("no_alpha"),this.settings.editor||r.classList.add("no_editor"),this.settings.cancelButton||r.classList.add("no_cancel"),this._ifPopup(function(){return r.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,i=this,s=this.domElement,r=this._events;function o(u,d,f){r.add(u,d,f)}o(s,"click",function(u){return u.preventDefault()}),ua(r,this._domH,function(u,d){return i._setHSLA(u)}),ua(r,this._domSL,function(u,d){return i._setHSLA(null,u,1-d)}),this.settings.alpha&&ua(r,this._domA,function(u,d){return i._setHSLA(null,null,null,1-d)});var a=this._domEdit;o(a,"input",function(u){i._setColor(this.value,{fromEditor:!0,failSilently:!0})}),o(a,"focus",function(u){var d=this;d.selectionStart===d.selectionEnd&&d.select()}),this._ifPopup(function(){var u=function(p){return e.closeHandler(p)};o(window,_r,u),o(window,ha,u),da(r,s,["Esc","Escape"],u);var d=function(p){e.__containedEvent=p.timeStamp};o(s,_r,d),o(s,ha,d),o(e._domCancel,"click",u)});var c=function(d){e._ifPopup(function(){return e.closeHandler(d)}),e.onDone&&e.onDone(e.colour)};o(this._domOkay,"click",c),da(r,s,["Enter"],c)}},{key:"_setPosition",value:function(){var e=this.settings.parent,i=this.domElement;e!==i.parentNode&&e.appendChild(i),this._ifPopup(function(s){getComputedStyle(e).position==="static"&&(e.style.position="relative");var r=s===!0?"popup_right":"popup_"+s;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(o){o===r?i.classList.add(o):i.classList.remove(o)}),i.classList.add(r)})}},{key:"_setHSLA",value:function(e,i,s,r,o){o=o||{};var a=this.colour,c=a.hsla;[e,i,s,r].forEach(function(u,d){(u||u===0)&&(c[d]=u)}),a.hsla=c,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(a)}},{key:"_updateUI",value:function(e){if(!this.domElement)return;e=e||{};var i=this.colour,s=i.hsla,r="hsl("+s[0]*$_+", 100%, 50%)",o=i.hslString,a=i.hslaString,c=this._domH,u=this._domSL,d=this._domA,f=Ze(".picker_selector",c),p=Ze(".picker_selector",u),g=Ze(".picker_selector",d);function _(P,R,N){R.style.left=N*100+"%"}function b(P,R,N){R.style.top=N*100+"%"}_(c,f,s[0]),this._domSL.style.backgroundColor=this._domH.style.color=r,_(u,p,s[1]),b(u,p,1-s[2]),u.style.color=o,b(d,g,1-s[3]);var w=o,S=w.replace("hsl","hsla").replace(")",", 0)"),C="linear-gradient("+[w,S]+")";if(this._domA.style.background=C+", "+W_,!e.fromEditor){var E=this.settings.editorFormat,F=this.settings.alpha,M=void 0;switch(E){case"rgb":M=i.printRGB(F);break;case"hsl":M=i.printHSL(F);break;default:M=i.printHex(F)}this._domEdit.value=M}this._domSample.style.color=a}},{key:"_ifPopup",value:function(e,i){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):i&&i()}},{key:"_toggleDOM",value:function(e){var i=this.domElement;if(!i)return!1;var s=e?"":"none",r=i.style.display!==s;return r&&(i.style.display=s),r}}]),n}();br=document.createElement("style"),br.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(br),ga.StyleElement=br;var br;var go=require("obsidian");function ct(){}function ue(n,t){for(let e in t)n[e]=t[e];return n}function su(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function ma(n){return n()}function yr(){return Object.create(null)}function Xe(n){n.forEach(ma)}function vr(n){return typeof n=="function"}function he(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function ru(n){return Object.keys(n).length===0}function De(n){let t={};for(let e in n)e[0]!=="$"&&(t[e]=n[e]);return t}var _a=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var wr=class n{constructor(t){at(this,"_listeners","WeakMap"in _a?new WeakMap:void 0);at(this,"_observer");at(this,"options");this.options=t}observe(t,e){return this._listeners.set(t,e),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!=null?t:this._observer=new ResizeObserver(e=>{var i;for(let s of e)n.entries.set(s.target,s),(i=this._listeners.get(s.target))==null||i(s)})}};wr.entries="WeakMap"in _a?new WeakMap:void 0;var ou=!1;function au(){ou=!0}function lu(){ou=!1}function Qn(n,t){n.appendChild(t)}function xr(n,t,e){let i=cu(n);if(!i.getElementById(t)){let s=de("style");s.id=t,s.textContent=e,U_(i,s)}}function cu(n){if(!n)return document;let t=n.getRootNode?n.getRootNode():n.ownerDocument;return t&&t.host?t:n.ownerDocument}function U_(n,t){return Qn(n.head||n,t),t.sheet}function qt(n,t,e){n.insertBefore(t,e||null)}function Ut(n){n.parentNode&&n.parentNode.removeChild(n)}function kr(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function de(n){return document.createElement(n)}function uu(n){return document.createTextNode(n)}function ti(){return uu(" ")}function Sr(){return uu("")}function ba(n,t,e,i){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e,i)}function Zt(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}var V_=["width","height"];function hu(n,t){let e=Object.getOwnPropertyDescriptors(n.__proto__);for(let i in t)t[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=t[i]:i==="__value"?n.value=n[i]=t[i]:e[i]&&e[i].set&&V_.indexOf(i)===-1?n[i]=t[i]:Zt(n,i,t[i])}function du(n){return Array.from(n.childNodes)}function Er(n,t,e,i){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,i?"important":"")}function fu(n){let t={};return n.childNodes.forEach(e=>{t[e.slot||"default"]=!0}),t}var Je;function Te(n){Je=n}function gs(){if(!Je)throw new Error("Function called outside component initialization");return Je}function ms(n){gs().$$.on_mount.push(n)}function ya(n){gs().$$.after_update.push(n)}function _s(n){gs().$$.on_destroy.push(n)}function gu(n,t){let e=n.$$.callbacks[t.type];e&&e.slice().forEach(i=>i.call(this,t))}var ei=[];var _e=[],Pi=[],wa=[],mu=Promise.resolve(),xa=!1;function ka(){xa||(xa=!0,mu.then(ys))}function Sa(){return ka(),mu}function bs(n){Pi.push(n)}function gn(n){wa.push(n)}var va=new Set,Oi=0;function ys(){if(Oi!==0)return;let n=Je;do{try{for(;Oi<ei.length;){let t=ei[Oi];Oi++,Te(t),J_(t.$$)}}catch(t){throw ei.length=0,Oi=0,t}for(Te(null),ei.length=0,Oi=0;_e.length;)_e.pop()();for(let t=0;t<Pi.length;t+=1){let e=Pi[t];va.has(e)||(va.add(e),e())}Pi.length=0}while(ei.length);for(;wa.length;)wa.pop()();xa=!1,va.clear(),Te(n)}function J_(n){if(n.fragment!==null){n.update(),Xe(n.before_update);let t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(bs)}}function _u(n){let t=[],e=[];Pi.forEach(i=>n.indexOf(i)===-1?t.push(i):e.push(i)),e.forEach(i=>i()),Pi=t}var Cr=new Set,ni;function bu(){ni={r:0,c:[],p:ni}}function yu(){ni.r||Xe(ni.c),ni=ni.p}function Qt(n,t){n&&n.i&&(Cr.delete(n),n.i(t))}function re(n,t,e,i){if(n&&n.o){if(Cr.has(n))return;Cr.add(n),ni.c.push(()=>{Cr.delete(n),i&&(e&&n.d(1),i())}),n.o(t)}else i&&i()}function je(n,t){let e=t.token={};function i(s,r,o,a){if(t.token!==e)return;t.resolved=a;let c=t.ctx;o!==void 0&&(c=c.slice(),c[o]=a);let u=s&&(t.current=s)(c),d=!1;t.block&&(t.blocks?t.blocks.forEach((f,p)=>{p!==r&&f&&(bu(),re(f,1,1,()=>{t.blocks[p]===f&&(t.blocks[p]=null)}),yu())}):t.block.d(1),u.c(),Qt(u,1),u.m(t.mount(),t.anchor),d=!0),t.block=u,t.blocks&&(t.blocks[r]=u),d&&ys()}if(su(n)){let s=gs();if(n.then(r=>{Te(s),i(t.then,1,t.value,r),Te(null)},r=>{if(Te(s),i(t.catch,2,t.error,r),Te(null),!t.hasCatch)throw r}),t.current!==t.pending)return i(t.pending,0),!0}else{if(t.current!==t.then)return i(t.then,1,t.value,n),!0;t.resolved=n}}function Ea(n,t,e){let i=t.slice(),{resolved:s}=n;n.current===n.then&&(i[n.value]=s),n.current===n.catch&&(i[n.error]=s),n.block.p(i,e)}function mn(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function _n(n,t){let e={},i={},s={$$scope:1},r=n.length;for(;r--;){let o=n[r],a=t[r];if(a){for(let c in o)c in a||(i[c]=1);for(let c in a)s[c]||(e[c]=a[c],s[c]=1);n[r]=a}else for(let c in o)s[c]=1}for(let o in i)o in e||(e[o]=void 0);return e}function bn(n){return typeof n=="object"&&n!==null?n:{}}var K_=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Q_=new Set([...K_]);function yn(n,t,e){let i=n.$$.props[t];i!==void 0&&(n.$$.bound[i]=e,e(n.$$.ctx[i]))}function Le(n){n&&n.c()}function Me(n,t,e){let{fragment:i,after_update:s}=n.$$;i&&i.m(t,e),bs(()=>{let r=n.$$.on_mount.map(ma).filter(vr);n.$$.on_destroy?n.$$.on_destroy.push(...r):Xe(r),n.$$.on_mount=[]}),s.forEach(bs)}function Oe(n,t){let e=n.$$;e.fragment!==null&&(_u(e.after_update),Xe(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function eb(n,t){n.$$.dirty[0]===-1&&(ei.push(n),ka(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function fe(n,t,e,i,s,r,o=null,a=[-1]){let c=Je;Te(n);let u=n.$$={fragment:null,ctx:[],props:r,update:ct,not_equal:s,bound:yr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:yr(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};o&&o(u.root);let d=!1;if(u.ctx=e?e(n,t.props||{},(f,p,...g)=>{let _=g.length?g[0]:p;return u.ctx&&s(u.ctx[f],u.ctx[f]=_)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](_),d&&eb(n,f)),p}):[],u.update(),d=!0,Xe(u.before_update),u.fragment=i?i(u.ctx):!1,t.target){if(t.hydrate){au();let f=du(t.target);u.fragment&&u.fragment.l(f),f.forEach(Ut)}else u.fragment&&u.fragment.c();t.intro&&Qt(n.$$.fragment),Me(n,t.target,t.anchor),lu(),ys()}Te(c)}var nb;typeof HTMLElement=="function"&&(nb=class extends HTMLElement{constructor(t,e,i){super();at(this,"$$ctor");at(this,"$$s");at(this,"$$c");at(this,"$$cn",!1);at(this,"$$d",{});at(this,"$$r",!1);at(this,"$$p_d",{});at(this,"$$l",{});at(this,"$$l_u",new Map);this.$$ctor=t,this.$$s=e,i&&this.attachShadow({mode:"open"})}addEventListener(t,e,i){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(e),this.$$c){let s=this.$$c.$on(t,e);this.$$l_u.set(e,s)}super.addEventListener(t,e,i)}removeEventListener(t,e,i){if(super.removeEventListener(t,e,i),this.$$c){let s=this.$$l_u.get(e);s&&(s(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(r){return()=>{let o;return{c:function(){o=de("slot"),r!=="default"&&Zt(o,"name",r)},m:function(u,d){qt(u,o,d)},d:function(u){u&&Ut(o)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let e={},i=fu(this);for(let r of this.$$s)r in i&&(e[r]=[t(r)]);for(let r of this.attributes){let o=this.$$g_p(r.name);o in this.$$d||(this.$$d[o]=Ca(o,r.value,this.$$p_d,"toProp"))}for(let r in this.$$p_d)!(r in this.$$d)&&this[r]!==void 0&&(this.$$d[r]=this[r],delete this[r]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$scope:{ctx:[]}}});let s=()=>{this.$$r=!0;for(let r in this.$$p_d)if(this.$$d[r]=this.$$c.$$.ctx[this.$$c.$$.props[r]],this.$$p_d[r].reflect){let o=Ca(r,this.$$d[r],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[r].attribute||r):this.setAttribute(this.$$p_d[r].attribute||r,o)}this.$$r=!1};this.$$c.$$.after_update.push(s),s();for(let r in this.$$l)for(let o of this.$$l[r]){let a=this.$$c.$on(r,o);this.$$l_u.set(o,a)}this.$$l={}}}attributeChangedCallback(t,e,i){var s;this.$$r||(t=this.$$g_p(t),this.$$d[t]=Ca(t,i,this.$$p_d,"toProp"),(s=this.$$c)==null||s.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(t){return Object.keys(this.$$p_d).find(e=>this.$$p_d[e].attribute===t||!this.$$p_d[e].attribute&&e.toLowerCase()===t)||t}});function Ca(n,t,e,i){var r;let s=(r=e[n])==null?void 0:r.type;if(t=s==="Boolean"&&typeof t!="boolean"?t!=null:t,!i||!e[n])return t;if(i==="toAttribute")switch(s){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t==null?null:t;default:return t}else switch(s){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}var te=class{constructor(){at(this,"$$");at(this,"$$set")}$destroy(){Oe(this,1),this.$destroy=ct}$on(t,e){if(!vr(e))return ct;let i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{let s=i.indexOf(e);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!ru(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var vu="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vu);function xs(n){return n+.5|0}var Bn=(n,t,e)=>Math.max(Math.min(n,e),t);function vs(n){return Bn(xs(n*2.55),0,255)}function zn(n){return Bn(xs(n*255),0,255)}function vn(n){return Bn(xs(n/2.55)/100,0,1)}function wu(n){return Bn(xs(n*100),0,100)}var Ie={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Da=[..."0123456789ABCDEF"],ib=n=>Da[n&15],sb=n=>Da[(n&240)>>4]+Da[n&15],Ar=n=>(n&240)>>4===(n&15),rb=n=>Ar(n.r)&&Ar(n.g)&&Ar(n.b)&&Ar(n.a);function ob(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ie[n[1]]*17,g:255&Ie[n[2]]*17,b:255&Ie[n[3]]*17,a:t===5?Ie[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ie[n[1]]<<4|Ie[n[2]],g:Ie[n[3]]<<4|Ie[n[4]],b:Ie[n[5]]<<4|Ie[n[6]],a:t===9?Ie[n[7]]<<4|Ie[n[8]]:255})),e}var ab=(n,t)=>n<255?t(n):"";function lb(n){var t=rb(n)?ib:sb;return n?"#"+t(n.r)+t(n.g)+t(n.b)+ab(n.a,t):void 0}var cb=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Eu(n,t,e){let i=t*Math.min(e,1-e),s=(r,o=(r+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function ub(n,t,e){let i=(s,r=(s+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function hb(n,t,e){let i=Eu(n,1,.5),s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function db(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function Ta(n){let e=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(e,i,s),o=Math.min(e,i,s),a=(r+o)/2,c,u,d;return r!==o&&(d=r-o,u=a>.5?d/(2-r-o):d/(r+o),c=db(e,i,s,d,r),c=c*60+.5),[c|0,u||0,a]}function Ma(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(zn)}function Oa(n,t,e){return Ma(Eu,n,t,e)}function fb(n,t,e){return Ma(hb,n,t,e)}function pb(n,t,e){return Ma(ub,n,t,e)}function Cu(n){return(n%360+360)%360}function gb(n){let t=cb.exec(n),e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?vs(+t[5]):zn(+t[5]));let s=Cu(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=fb(s,r,o):t[1]==="hsv"?i=pb(s,r,o):i=Oa(s,r,o),{r:i[0],g:i[1],b:i[2],a:e}}function mb(n,t){var e=Ta(n);e[0]=Cu(e[0]+t),e=Oa(e),n.r=e[0],n.g=e[1],n.b=e[2]}function _b(n){if(!n)return;let t=Ta(n),e=t[0],i=wu(t[1]),s=wu(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${vn(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}var xu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ku={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function bb(){let n={},t=Object.keys(ku),e=Object.keys(xu),i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<e.length;s++)r=e[s],a=a.replace(r,xu[r]);r=parseInt(ku[o],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}var Dr;function yb(n){Dr||(Dr=bb(),Dr.transparent=[0,0,0,0]);let t=Dr[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var vb=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function wb(n){let t=vb.exec(n),e=255,i,s,r;if(t){if(t[7]!==i){let o=+t[7];e=t[8]?vs(o):Bn(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?vs(i):Bn(i,0,255)),s=255&(t[4]?vs(s):Bn(s,0,255)),r=255&(t[6]?vs(r):Bn(r,0,255)),{r:i,g:s,b:r,a:e}}}function xb(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${vn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var Aa=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Fi=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function kb(n,t,e){let i=Fi(vn(n.r)),s=Fi(vn(n.g)),r=Fi(vn(n.b));return{r:zn(Aa(i+e*(Fi(vn(t.r))-i))),g:zn(Aa(s+e*(Fi(vn(t.g))-s))),b:zn(Aa(r+e*(Fi(vn(t.b))-r))),a:n.a+e*(t.a-n.a)}}function Tr(n,t,e){if(n){let i=Ta(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Oa(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Au(n,t){return n&&Object.assign(t||{},n)}function Su(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=zn(n[3]))):(t=Au(n,{r:0,g:0,b:0,a:1}),t.a=zn(t.a)),t}function Sb(n){return n.charAt(0)==="r"?wb(n):gb(n)}var ws=class n{constructor(t){if(t instanceof n)return t;let e=typeof t,i;e==="object"?i=Su(t):e==="string"&&(i=ob(t)||yb(t)||Sb(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Au(this._rgb);return t&&(t.a=vn(t.a)),t}set rgb(t){this._rgb=Su(t)}rgbString(){return this._valid?xb(this._rgb):void 0}hexString(){return this._valid?lb(this._rgb):void 0}hslString(){return this._valid?_b(this._rgb):void 0}mix(t,e){if(t){let i=this.rgb,s=t.rgb,r,o=e===r?.5:e,a=2*o-1,c=i.a-s.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-u,i.r=255&u*i.r+r*s.r+.5,i.g=255&u*i.g+r*s.g+.5,i.b=255&u*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=kb(this._rgb,t._rgb,e)),this}clone(){return new n(this.rgb)}alpha(t){return this._rgb.a=zn(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=xs(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Tr(this._rgb,2,t),this}darken(t){return Tr(this._rgb,2,-t),this}saturate(t){return Tr(this._rgb,1,t),this}desaturate(t){return Tr(this._rgb,1,-t),this}rotate(t){return mb(this._rgb,t),this}};function Qe(){}var Bu=(()=>{let n=0;return()=>n++})();function Ft(n){return n===null||typeof n=="undefined"}function Lt(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function vt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function jt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function we(n,t){return jt(n)?n:t}function yt(n,t){return typeof n=="undefined"?t:n}var zu=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Pt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function At(n,t,e,i){let s,r,o;if(Lt(n))if(r=n.length,i)for(s=r-1;s>=0;s--)t.call(e,n[s],s);else for(s=0;s<r;s++)t.call(e,n[s],s);else if(vt(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)t.call(e,n[o[s]],o[s])}function Es(n,t){let e,i,s,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Fr(n){if(Lt(n))return n.map(Fr);if(vt(n)){let t=Object.create(null),e=Object.keys(n),i=e.length,s=0;for(;s<i;++s)t[e[s]]=Fr(n[e[s]]);return t}return n}function Wu(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Eb(n,t,e,i){if(!Wu(n))return;let s=t[n],r=e[n];vt(s)&&vt(r)?Li(s,r,i):t[n]=Fr(r)}function Li(n,t,e){let i=Lt(t)?t:[t],s=i.length;if(!vt(n))return n;e=e||{};let r=e.merger||Eb,o;for(let a=0;a<s;++a){if(o=i[a],!vt(o))continue;let c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)r(c[u],n,o,e)}return n}function Ni(n,t){return Li(n,t,{merger:Cb})}function Cb(n,t,e){if(!Wu(n))return;let i=t[n],s=e[n];vt(i)&&vt(s)?Ni(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Fr(s))}var Du={"":n=>n,x:n=>n.x,y:n=>n.y};function Ab(n){let t=n.split("."),e=[],i="";for(let s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Db(n){let t=Ab(n);return e=>{for(let i of t){if(i==="")break;e=e&&e[i]}return e}}function Cs(n,t){return(Du[t]||(Du[t]=Db(t)))(n)}function Nr(n){return n.charAt(0).toUpperCase()+n.slice(1)}var As=n=>typeof n!="undefined",wn=n=>typeof n=="function",La=(n,t)=>{if(n.size!==t.size)return!1;for(let e of n)if(!t.has(e))return!1;return!0};function $u(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Yt=Math.PI,ve=2*Yt,Tb=ve+Yt,Rr=Number.POSITIVE_INFINITY,Mb=Yt/180,ye=Yt/2,ii=Yt/4,Tu=Yt*2/3,xn=Math.log10,ri=Math.sign;function Bi(n,t,e){return Math.abs(n-t)<e}function Ia(n){let t=Math.round(n);n=Bi(n,t,n/1e3)?t:n;let e=Math.pow(10,Math.floor(xn(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function ju(n){let t=[],e=Math.sqrt(n),i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}function zi(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Hu(n,t){let e=Math.round(n);return e-t<=n&&e+t>=n}function Na(n,t,e){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function kn(n){return n*(Yt/180)}function Br(n){return n*(180/Yt)}function Ba(n){if(!jt(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Uu(n,t){let e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i),r=Math.atan2(i,e);return r<-.5*Yt&&(r+=ve),{angle:r,distance:s}}function Lr(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Ob(n,t){return(n-t+Tb)%ve-Yt}function be(n){return(n%ve+ve)%ve}function za(n,t,e,i){let s=be(n),r=be(t),o=be(e),a=be(r-s),c=be(o-s),u=be(s-r),d=be(s-o);return s===r||s===o||i&&r===o||a>c&&u<d}function Pe(n,t,e){return Math.max(t,Math.min(e,n))}function Vu(n){return Pe(n,-32768,32767)}function ai(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function zr(n,t,e){e=e||(o=>n[o]<t);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,e(r)?s=r:i=r;return{lo:s,hi:i}}var $n=(n,t,e,i)=>zr(n,e,i?s=>{let r=n[s][t];return r<e||r===e&&n[s+1][t]===e}:s=>n[s][t]<e),Yu=(n,t,e)=>zr(n,e,i=>n[i][t]>=e);function Gu(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}var qu=["push","pop","shift","splice","unshift"];function Zu(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),qu.forEach(e=>{let i="_onData"+Nr(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){let o=s.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function Wa(n,t){let e=n._chartjs;if(!e)return;let i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(qu.forEach(r=>{delete n[r]}),delete n._chartjs)}function Xu(n){let t=new Set(n);return t.size===n.length?n:Array.from(t)}var $a=function(){return typeof window=="undefined"?function(n){return n()}:window.requestAnimationFrame}();function ja(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,$a.call(window,()=>{i=!1,n.apply(t,e)}))}}function Ju(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}var Wr=n=>n==="start"?"left":n==="end"?"right":"center",ne=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Ku=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Qu(n,t,e){let i=t.length,s=0,r=i;if(n._sorted){let{iScale:o,_parsed:a}=n,c=o.axis,{min:u,max:d,minDefined:f,maxDefined:p}=o.getUserBounds();f&&(s=Pe(Math.min($n(a,c,u).lo,e?i:$n(t,c,o.getPixelForValue(u)).lo),0,i-1)),p?r=Pe(Math.max($n(a,o.axis,d,!0).hi+1,e?0:$n(t,c,o.getPixelForValue(d),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function th(n){let{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;let r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),r}var Mr=n=>n===0||n===1,Mu=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ve/e)),Ou=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ve/e)+1,Ri={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ye)+1,easeOutSine:n=>Math.sin(n*ye),easeInOutSine:n=>-.5*(Math.cos(Yt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Mr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Mr(n)?n:Mu(n,.075,.3),easeOutElastic:n=>Mr(n)?n:Ou(n,.075,.3),easeInOutElastic(n){return Mr(n)?n:n<.5?.5*Mu(n*2,.1125,.45):.5+.5*Ou(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Ri.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ri.easeInBounce(n*2)*.5:Ri.easeOutBounce(n*2-1)*.5+.5};function Ha(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ua(n){return Ha(n)?n:new ws(n)}function Pa(n){return Ha(n)?n:new ws(n).saturate(.5).darken(.1).hexString()}var Pb=["x","y","borderWidth","radius","tension"],Fb=["color","borderColor","backgroundColor"];function Rb(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Fb},numbers:{type:"number",properties:Pb}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Lb(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Pu=new Map;function Ib(n,t){t=t||{};let e=n+JSON.stringify(t),i=Pu.get(e);return i||(i=new Intl.NumberFormat(n,t),Pu.set(e,i)),i}function $r(n,t,e){return Ib(t,e).format(n)}var eh={values(n){return Lt(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";let i=this.chart.options.locale,s,r=n;if(e.length>1){let u=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),r=Nb(n,e)}let o=xn(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),$r(n,i,c)},logarithmic(n,t,e){if(n===0)return"0";let i=e[t].significand||n/Math.pow(10,Math.floor(xn(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?eh.numeric.call(this,n,t,e):""}};function Nb(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Ds={formatters:eh};function Bb(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ds.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var jn=Object.create(null),jr=Object.create(null);function ks(n,t){if(!t)return n;let e=t.split(".");for(let i=0,s=e.length;i<s;++i){let r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function Fa(n,t,e){return typeof t=="string"?Li(ks(n,t),e):Li(ks(n,""),t)}var Ra=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Pa(s.backgroundColor),this.hoverBorderColor=(i,s)=>Pa(s.borderColor),this.hoverColor=(i,s)=>Pa(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Fa(this,t,e)}get(t){return ks(this,t)}describe(t,e){return Fa(jr,t,e)}override(t,e){return Fa(jn,t,e)}route(t,e,i,s){let r=ks(this,t),o=ks(this,i),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let c=this[a],u=o[s];return vt(c)?Object.assign({},u,c):yt(c,u)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}},Ht=new Ra({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Rb,Lb,Bb]);function zb(n){return!n||Ft(n.size)||Ft(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Ss(n,t,e,i,s){let r=t[s];return r||(r=t[s]=n.measureText(s).width,e.push(s)),r>i&&(i=r),i}function nh(n,t,e,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0,a=e.length,c,u,d,f,p;for(c=0;c<a;c++)if(f=e[c],f!=null&&!Lt(f))o=Ss(n,s,r,o,f);else if(Lt(f))for(u=0,d=f.length;u<d;u++)p=f[u],p!=null&&!Lt(p)&&(o=Ss(n,s,r,o,p));n.restore();let g=r.length/2;if(g>e.length){for(c=0;c<g;c++)delete s[r[c]];r.splice(0,g)}return o}function Hn(n,t,e){let i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function Va(n,t){t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function Hr(n,t,e,i){Ya(n,t,e,i,null)}function Ya(n,t,e,i,s){let r,o,a,c,u,d,f,p,g=t.pointStyle,_=t.rotation,b=t.radius,w=(_||0)*Mb;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(w),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),g){default:s?n.ellipse(e,i,s/2,b,0,0,ve):n.arc(e,i,b,0,ve),n.closePath();break;case"triangle":d=s?s/2:b,n.moveTo(e+Math.sin(w)*d,i-Math.cos(w)*b),w+=Tu,n.lineTo(e+Math.sin(w)*d,i-Math.cos(w)*b),w+=Tu,n.lineTo(e+Math.sin(w)*d,i-Math.cos(w)*b),n.closePath();break;case"rectRounded":u=b*.516,c=b-u,o=Math.cos(w+ii)*c,f=Math.cos(w+ii)*(s?s/2-u:c),a=Math.sin(w+ii)*c,p=Math.sin(w+ii)*(s?s/2-u:c),n.arc(e-f,i-a,u,w-Yt,w-ye),n.arc(e+p,i-o,u,w-ye,w),n.arc(e+f,i+a,u,w,w+ye),n.arc(e-p,i+o,u,w+ye,w+Yt),n.closePath();break;case"rect":if(!_){c=Math.SQRT1_2*b,d=s?s/2:c,n.rect(e-d,i-c,2*d,2*c);break}w+=ii;case"rectRot":f=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,a=Math.sin(w)*b,p=Math.sin(w)*(s?s/2:b),n.moveTo(e-f,i-a),n.lineTo(e+p,i-o),n.lineTo(e+f,i+a),n.lineTo(e-p,i+o),n.closePath();break;case"crossRot":w+=ii;case"cross":f=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,a=Math.sin(w)*b,p=Math.sin(w)*(s?s/2:b),n.moveTo(e-f,i-a),n.lineTo(e+f,i+a),n.moveTo(e+p,i-o),n.lineTo(e-p,i+o);break;case"star":f=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,a=Math.sin(w)*b,p=Math.sin(w)*(s?s/2:b),n.moveTo(e-f,i-a),n.lineTo(e+f,i+a),n.moveTo(e+p,i-o),n.lineTo(e-p,i+o),w+=ii,f=Math.cos(w)*(s?s/2:b),o=Math.cos(w)*b,a=Math.sin(w)*b,p=Math.sin(w)*(s?s/2:b),n.moveTo(e-f,i-a),n.lineTo(e+f,i+a),n.moveTo(e+p,i-o),n.lineTo(e-p,i+o);break;case"line":o=s?s/2:Math.cos(w)*b,a=Math.sin(w)*b,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(w)*(s?s/2:b),i+Math.sin(w)*b);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Ke(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ts(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ms(n){n.restore()}function ih(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){let r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function sh(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Wb(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ft(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function $b(n,t,e,i,s){if(s.strikethrough||s.underline){let r=n.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,c=e-r.actualBoundingBoxAscent,u=e+r.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,d),n.lineTo(a,d),n.stroke()}}function jb(n,t){let e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Un(n,t,e,i,s,r={}){let o=Lt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="",c,u;for(n.save(),n.font=s.string,Wb(n,r),c=0;c<o.length;++c)u=o[c],r.backdrop&&jb(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),Ft(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(u,e,i,r.maxWidth)),n.fillText(u,e,i,r.maxWidth),$b(n,e,i,u,r),i+=Number(s.lineHeight);n.restore()}function Os(n,t){let{x:e,y:i,w:s,h:r,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*Yt,Yt,!0),n.lineTo(e,i+r-o.bottomLeft),n.arc(e+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Yt,ye,!0),n.lineTo(e+s-o.bottomRight,i+r),n.arc(e+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,ye,0,!0),n.lineTo(e+s,i+o.topRight),n.arc(e+s-o.topRight,i+o.topRight,o.topRight,0,-ye,!0),n.lineTo(e+o.topLeft,i)}var Hb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ub=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Vb(n,t){let e=(""+n).match(Hb);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}var Yb=n=>+n||0;function Ga(n,t){let e={},i=vt(t),s=i?Object.keys(t):t,r=vt(n)?i?o=>yt(n[o],n[t[o]]):o=>n[o]:()=>n;for(let o of s)e[o]=Yb(r(o));return e}function rh(n){return Ga(n,{top:"y",right:"x",bottom:"y",left:"x"})}function li(n){return Ga(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ie(n){let t=rh(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Xt(n,t){n=n||{},t=t||Ht.font;let e=yt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=yt(n.style,t.style);i&&!(""+i).match(Ub)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let s={family:yt(n.family,t.family),lineHeight:Vb(yt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:yt(n.weight,t.weight),string:""};return s.string=zb(s),s}function Ps(n,t,e,i){let s=!0,r,o,a;for(r=0,o=n.length;r<o;++r)if(a=n[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),e!==void 0&&Lt(a)&&(a=a[e%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function oh(n,t,e){let{min:i,max:s}=n,r=zu(t,(s-i)/2),o=(a,c)=>e&&a===0?0:a+c;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Sn(n,t){return Object.assign(Object.create(n),t)}function Ur(n,t=[""],e,i,s=()=>n[0]){let r=e||n;typeof i=="undefined"&&(i=ch("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>Ur([a,...n],t,r,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return ah(a,c,()=>ty(c,t,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return Ru(a).includes(c)},ownKeys(a){return Ru(a)},set(a,c,u){let d=a._storage||(a._storage=s());return a[c]=d[c]=u,delete a._keys,!0}})}function oi(n,t,e,i){let s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:qa(n,i),setContext:r=>oi(n,r,e,i),override:r=>oi(n.override(r),t,e,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,a){return ah(r,o,()=>qb(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,a){return n[o]=a,delete r[o],!0}})}function qa(n,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:wn(e)?e:()=>e,isIndexable:wn(i)?i:()=>i}}var Gb=(n,t)=>n?n+Nr(t):t,Za=(n,t)=>vt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function ah(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];let i=e();return n[t]=i,i}function qb(n,t,e){let{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n,a=i[t];return wn(a)&&o.isScriptable(t)&&(a=Zb(t,a,n,e)),Lt(a)&&a.length&&(a=Xb(t,a,n,o.isIndexable)),Za(t,a)&&(a=oi(a,s,r&&r[t],o)),a}function Zb(n,t,e,i){let{_proxy:s,_context:r,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=t(r,o||i);return a.delete(n),Za(n,c)&&(c=Xa(s._scopes,s,n,c)),c}function Xb(n,t,e,i){let{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=e;if(typeof r.index!="undefined"&&i(n))return t[r.index%t.length];if(vt(t[0])){let c=t,u=s._scopes.filter(d=>d!==c);t=[];for(let d of c){let f=Xa(u,s,n,d);t.push(oi(f,r,o&&o[n],a))}}return t}function lh(n,t,e){return wn(n)?n(t,e):n}var Jb=(n,t)=>n===!0?t:typeof n=="string"?Cs(t,n):void 0;function Kb(n,t,e,i,s){for(let r of t){let o=Jb(e,r);if(o){n.add(o);let a=lh(o._fallback,e,s);if(typeof a!="undefined"&&a!==e&&a!==i)return a}else if(o===!1&&typeof i!="undefined"&&e!==i)return null}return!1}function Xa(n,t,e,i){let s=t._rootScopes,r=lh(t._fallback,e,i),o=[...n,...s],a=new Set;a.add(i);let c=Fu(a,o,e,r||e,i);return c===null||typeof r!="undefined"&&r!==e&&(c=Fu(a,o,r,c,i),c===null)?!1:Ur(Array.from(a),[""],s,r,()=>Qb(t,e,i))}function Fu(n,t,e,i,s){for(;e;)e=Kb(n,t,e,i,s);return e}function Qb(n,t,e){let i=n._getTarget();t in i||(i[t]={});let s=i[t];return Lt(s)&&vt(e)?e:s||{}}function ty(n,t,e,i){let s;for(let r of t)if(s=ch(Gb(r,n),e),typeof s!="undefined")return Za(n,s)?Xa(e,i,n,s):s}function ch(n,t){for(let e of t){if(!e)continue;let i=e[n];if(typeof i!="undefined")return i}}function Ru(n){let t=n._keys;return t||(t=n._keys=ey(n._scopes)),t}function ey(n){let t=new Set;for(let e of n)for(let i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}var ny=Number.EPSILON||1e-14,Ii=(n,t)=>t<n.length&&!n[t].skip&&n[t],uh=n=>n==="x"?"y":"x";function iy(n,t,e,i){let s=n.skip?t:n,r=t,o=e.skip?t:e,a=Lr(r,s),c=Lr(o,r),u=a/(a+c),d=c/(a+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;let f=i*u,p=i*d;return{previous:{x:r.x-f*(o.x-s.x),y:r.y-f*(o.y-s.y)},next:{x:r.x+p*(o.x-s.x),y:r.y+p*(o.y-s.y)}}}function sy(n,t,e){let i=n.length,s,r,o,a,c,u=Ii(n,0);for(let d=0;d<i-1;++d)if(c=u,u=Ii(n,d+1),!(!c||!u)){if(Bi(t[d],0,ny)){e[d]=e[d+1]=0;continue}s=e[d]/t[d],r=e[d+1]/t[d],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[d]=s*o*t[d],e[d+1]=r*o*t[d])}}function ry(n,t,e="x"){let i=uh(e),s=n.length,r,o,a,c=Ii(n,0);for(let u=0;u<s;++u){if(o=a,a=c,c=Ii(n,u+1),!a)continue;let d=a[e],f=a[i];o&&(r=(d-o[e])/3,a[`cp1${e}`]=d-r,a[`cp1${i}`]=f-r*t[u]),c&&(r=(c[e]-d)/3,a[`cp2${e}`]=d+r,a[`cp2${i}`]=f+r*t[u])}}function oy(n,t="x"){let e=uh(t),i=n.length,s=Array(i).fill(0),r=Array(i),o,a,c,u=Ii(n,0);for(o=0;o<i;++o)if(a=c,c=u,u=Ii(n,o+1),!!c){if(u){let d=u[t]-c[t];s[o]=d!==0?(u[e]-c[e])/d:0}r[o]=a?u?ri(s[o-1])!==ri(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}sy(n,s,r),ry(n,r,t)}function Or(n,t,e){return Math.max(Math.min(n,e),t)}function ay(n,t){let e,i,s,r,o,a=Ke(n[0],t);for(e=0,i=n.length;e<i;++e)o=r,r=a,a=e<i-1&&Ke(n[e+1],t),r&&(s=n[e],o&&(s.cp1x=Or(s.cp1x,t.left,t.right),s.cp1y=Or(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Or(s.cp2x,t.left,t.right),s.cp2y=Or(s.cp2y,t.top,t.bottom)))}function hh(n,t,e,i,s){let r,o,a,c;if(t.spanGaps&&(n=n.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")oy(n,s);else{let u=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],c=iy(u,a,n[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,u=a}t.capBezierPoints&&ay(n,e)}function Vr(){return typeof window!="undefined"&&typeof document!="undefined"}function Yr(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ir(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}var Gr=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ly(n,t){return Gr(n).getPropertyValue(t)}var cy=["top","right","bottom","left"];function si(n,t,e){let i={};e=e?"-"+e:"";for(let s=0;s<4;s++){let r=cy[s];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var uy=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function hy(n,t){let e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:r}=i,o=!1,a,c;if(uy(s,r,n.target))a=s,c=r;else{let u=t.getBoundingClientRect();a=i.clientX-u.left,c=i.clientY-u.top,o=!0}return{x:a,y:c,box:o}}function Vn(n,t){if("native"in n)return n;let{canvas:e,currentDevicePixelRatio:i}=t,s=Gr(e),r=s.boxSizing==="border-box",o=si(s,"padding"),a=si(s,"border","width"),{x:c,y:u,box:d}=hy(n,e),f=o.left+(d&&a.left),p=o.top+(d&&a.top),{width:g,height:_}=t;return r&&(g-=o.width+a.width,_-=o.height+a.height),{x:Math.round((c-f)/g*e.width/i),y:Math.round((u-p)/_*e.height/i)}}function dy(n,t,e){let i,s;if(t===void 0||e===void 0){let r=Yr(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{let o=r.getBoundingClientRect(),a=Gr(r),c=si(a,"border","width"),u=si(a,"padding");t=o.width-u.width-c.width,e=o.height-u.height-c.height,i=Ir(a.maxWidth,r,"clientWidth"),s=Ir(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:i||Rr,maxHeight:s||Rr}}var Pr=n=>Math.round(n*10)/10;function dh(n,t,e,i){let s=Gr(n),r=si(s,"margin"),o=Ir(s.maxWidth,n,"clientWidth")||Rr,a=Ir(s.maxHeight,n,"clientHeight")||Rr,c=dy(n,t,e),{width:u,height:d}=c;if(s.boxSizing==="content-box"){let p=si(s,"border","width"),g=si(s,"padding");u-=g.width+p.width,d-=g.height+p.height}return u=Math.max(0,u-r.width),d=Math.max(0,i?u/i:d-r.height),u=Pr(Math.min(u,o,c.maxWidth)),d=Pr(Math.min(d,a,c.maxHeight)),u&&!d&&(d=Pr(u/2)),(t!==void 0||e!==void 0)&&i&&c.height&&d>c.height&&(d=c.height,u=Pr(Math.floor(d*i))),{width:u,height:d}}function Ja(n,t,e){let i=t||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var fh=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};Vr()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return n}();function Ka(n,t){let e=ly(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Wn(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function ph(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function gh(n,t,e,i){let s={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},o=Wn(n,s,e),a=Wn(s,r,e),c=Wn(r,t,e),u=Wn(o,a,e),d=Wn(a,c,e);return Wn(u,d,e)}var fy=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},py=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ci(n,t,e){return n?fy(t,e):py()}function Qa(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function tl(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function mh(n){return n==="angle"?{between:za,compare:Ob,normalize:be}:{between:ai,compare:(t,e)=>t-e,normalize:t=>t}}function Lu({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function gy(n,t,e){let{property:i,start:s,end:r}=e,{between:o,normalize:a}=mh(i),c=t.length,{start:u,end:d,loop:f}=n,p,g;if(f){for(u+=c,d+=c,p=0,g=c;p<g&&o(a(t[u%c][i]),s,r);++p)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:n.style}}function el(n,t,e){if(!e)return[n];let{property:i,start:s,end:r}=e,o=t.length,{compare:a,between:c,normalize:u}=mh(i),{start:d,end:f,loop:p,style:g}=gy(n,t,e),_=[],b=!1,w=null,S,C,E,F=()=>c(s,E,S)&&a(s,E)!==0,M=()=>a(r,S)===0||c(r,E,S),P=()=>b||F(),R=()=>!b||M();for(let N=d,Y=d;N<=f;++N)C=t[N%o],!C.skip&&(S=u(C[i]),S!==E&&(b=c(S,s,r),w===null&&P()&&(w=a(S,s)===0?N:Y),w!==null&&R()&&(_.push(Lu({start:w,end:N,loop:p,count:o,style:g})),w=null),Y=N,E=S));return w!==null&&_.push(Lu({start:w,end:f,loop:p,count:o,style:g})),_}function nl(n,t){let e=[],i=n.segments;for(let s=0;s<i.length;s++){let r=el(i[s],n.points,t);r.length&&e.push(...r)}return e}function my(n,t,e,i){let s=0,r=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&n[r%t].skip;)r--;return r%=t,{start:s,end:r}}function _y(n,t,e,i){let s=n.length,r=[],o=t,a=n[t],c;for(c=t+1;c<=e;++c){let u=n[c%s];u.skip||u.stop?a.skip||(i=!1,r.push({start:t%s,end:(c-1)%s,loop:i}),t=o=u.stop?c:null):(o=c,a.skip&&(t=c)),a=u}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function _h(n,t){let e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];let r=!!n._loop,{start:o,end:a}=my(e,s,r,i);if(i===!0)return Iu(n,[{start:o,end:a,loop:r}],e,t);let c=a<o?a+s:a,u=!!n._fullLoop&&o===0&&a===s-1;return Iu(n,_y(e,o,c,u),e,t)}function Iu(n,t,e,i){return!i||!i.setContext||!e?t:by(n,t,e,i)}function by(n,t,e,i){let s=n._chart.getContext(),r=Nu(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,c=e.length,u=[],d=r,f=t[0].start,p=f;function g(_,b,w,S){let C=a?-1:1;if(_!==b){for(_+=c;e[_%c].skip;)_-=C;for(;e[b%c].skip;)b+=C;_%c!==b%c&&(u.push({start:_%c,end:b%c,loop:w,style:S}),d=S,f=b%c)}}for(let _ of t){f=a?f:_.start;let b=e[f%c],w;for(p=f+1;p<=_.end;p++){let S=e[p%c];w=Nu(i.setContext(Sn(s,{type:"segment",p0:b,p1:S,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:o}))),yy(w,d)&&g(f,p-1,_.loop,d),b=S,d=w}f<p-1&&g(f,p-1,_.loop,d)}return u}function Nu(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function yy(n,t){if(!t)return!1;let e=[],i=function(s,r){return Ha(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(t,i)}var cl=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){let r=e.listeners[s],o=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=$a.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;let r=i.items,o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},En=new cl,bh="transparent",vy={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let i=Ua(n||bh),s=i.valid&&Ua(t||bh);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}},ul=class{constructor(t,e,i,s){let r=e[i];s=Ps([t.to,s,r,t.from]);let o=Ps([t.from,r,s]);this._active=!0,this._fn=t.fn||vy[t.type||typeof o],this._easing=Ri[t.easing]||Ri.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ps([t.to,e,s,t.from]),this._from=Ps([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to,c;if(this._active=r!==a&&(o||e<i),!this._active){this._target[s]=a,this._notify(!0);return}if(e<0){this._target[s]=r;return}c=e/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(r,a,c)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}},so=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!vt(t))return;let e=Object.keys(Ht.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{let r=t[s];if(!vt(r))return;let o={};for(let a of e)o[a]=r[a];(Lt(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,e){let i=e.options,s=xy(t,i);if(!s)return[];let r=this._createAnimations(s,i);return i.$shared&&wy(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){let i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,e));continue}let d=e[u],f=r[u],p=i.get(u);if(f)if(p&&f.active()){f.update(p,d,a);continue}else f.cancel();if(!p||!p.duration){t[u]=d;continue}r[u]=f=new ul(p,t,u,d),s.push(f)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return En.add(this._chart,i),!0}};function wy(n,t){let e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){let r=n[i[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function xy(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function yh(n,t){let e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function ky(n,t,e){if(e===!1)return!1;let i=yh(n,e),s=yh(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Sy(n){let t,e,i,s;return vt(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function dd(n,t){let e=[],i=n._getSortedDatasetMetas(t),s,r;for(s=0,r=i.length;s<r;++s)e.push(i[s].index);return e}function vh(n,t,e,i={}){let s=n.keys,r=i.mode==="single",o,a,c,u;if(t!==null){for(o=0,a=s.length;o<a;++o){if(c=+s[o],c===e){if(i.all)continue;break}u=n.values[c],jt(u)&&(r||t===0||ri(t)===ri(u))&&(t+=u)}return t}}function Ey(n){let t=Object.keys(n),e=new Array(t.length),i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],e[i]={x:r,y:n[r]};return e}function wh(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Cy(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Ay(n){let{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function Dy(n,t,e){let i=n[t]||(n[t]={});return i[e]||(i[e]={})}function xh(n,t,e,i){for(let s of t.getMatchingVisibleMetas(i).reverse()){let r=n[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function kh(n,t){let{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=i,c=r.axis,u=o.axis,d=Cy(r,o,i),f=t.length,p;for(let g=0;g<f;++g){let _=t[g],{[c]:b,[u]:w}=_,S=_._stacks||(_._stacks={});p=S[u]=Dy(s,d,b),p[a]=w,p._top=xh(p,o,!0,i.type),p._bottom=xh(p,o,!1,i.type);let C=p._visualValues||(p._visualValues={});C[a]=w}}function il(n,t){let e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Ty(n,t){return Sn(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function My(n,t,e){return Sn(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Fs(n,t){let e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(let s of t){let r=s._stacks;if(!r||r[i]===void 0||r[i][e]===void 0)return;delete r[i][e],r[i]._visualValues!==void 0&&r[i]._visualValues[e]!==void 0&&delete r[i]._visualValues[e]}}}var sl=n=>n==="reset"||n==="none",Sh=(n,t)=>t?n:Object.assign({},n),Oy=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:dd(e,!0),values:null},di=class{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=wh(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Fs(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(f,p,g,_)=>f==="x"?p:f==="r"?_:g,r=e.xAxisID=yt(i.xAxisID,il(t,"x")),o=e.yAxisID=yt(i.yAxisID,il(t,"y")),a=e.rAxisID=yt(i.rAxisID,il(t,"r")),c=e.indexAxis,u=e.iAxisID=s(c,r,o,a),d=e.vAxisID=s(c,o,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(u),e.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Wa(this._data,this),t._stacked&&Fs(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(vt(e))this._data=Ey(e);else if(i!==e){if(i){Wa(i,this);let s=this._cachedMeta;Fs(s),s._parsed=[]}e&&Object.isExtensible(e)&&Zu(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,i=this.getDataset(),s=!1;this._dataCheck();let r=e._stacked;e._stacked=wh(e.vScale,e),e.stack!==i.stack&&(s=!0,Fs(e),e.stack=i.stack),this._resyncElements(t),(s||r!==e._stacked)&&kh(this,e._parsed)}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis,c=t===0&&e===s.length?!0:i._sorted,u=t>0&&i._parsed[t-1],d,f,p;if(this._parsing===!1)i._parsed=s,i._sorted=!0,p=s;else{Lt(s[t])?p=this.parseArrayData(i,s,t,e):vt(s[t])?p=this.parseObjectData(i,s,t,e):p=this.parsePrimitiveData(i,s,t,e);let g=()=>f[a]===null||u&&f[a]<u[a];for(d=0;d<e;++d)i._parsed[d+t]=f=p[d],c&&(g()&&(c=!1),u=f);i._sorted=c}o&&kh(this,p)}parsePrimitiveData(t,e,i,s){let{iScale:r,vScale:o}=t,a=r.axis,c=o.axis,u=r.getLabels(),d=r===o,f=new Array(s),p,g,_;for(p=0,g=s;p<g;++p)_=p+i,f[p]={[a]:d||r.parse(u[_],_),[c]:o.parse(e[_],_)};return f}parseArrayData(t,e,i,s){let{xScale:r,yScale:o}=t,a=new Array(s),c,u,d,f;for(c=0,u=s;c<u;++c)d=c+i,f=e[d],a[c]={x:r.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(t,e,i,s){let{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=new Array(s),d,f,p,g;for(d=0,f=s;d<f;++d)p=d+i,g=e[p],u[d]={x:r.parse(Cs(g,a),p),y:o.parse(Cs(g,c),p)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){let s=this.chart,r=this._cachedMeta,o=e[t.axis],a={keys:dd(s,!0),values:e._stacks[t.axis]._visualValues};return vh(a,o,r.index,{mode:i})}updateRangeFromParsed(t,e,i,s){let r=i[e.axis],o=r===null?NaN:r,a=s&&i._stacks[e.axis];s&&a&&(s.values=a,o=vh(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){let i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),c=Oy(e,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Ay(a),p,g;function _(){g=s[p];let b=g[a.axis];return!jt(g[t.axis])||d>b||f<b}for(p=0;p<o&&!(!_()&&(this.updateRangeFromParsed(u,t,g,c),r));++p);if(r){for(p=o-1;p>=0;--p)if(!_()){this.updateRangeFromParsed(u,t,g,c);break}}return u}getAllParsedValues(t){let e=this._cachedMeta._parsed,i=[],s,r,o;for(s=0,r=e.length;s<r;++s)o=e[s][t.axis],jt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,i=e.iScale,s=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){let e=this._cachedMeta;this.update(t||"default"),e._clip=Sy(yt(this.options.clip,ky(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],r=e.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop,d;for(i.dataset&&i.dataset.draw(t,r,a,c),d=a;d<a+c;++d){let f=s[d];f.hidden||(f.active&&u?o.push(f):f.draw(t,r))}for(d=0;d<o.length;++d)o[d].draw(t,r)}getStyle(t,e){let i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){let s=this.getDataset(),r;if(t>=0&&t<this._cachedMeta.data.length){let o=this._cachedMeta.data[t];r=o.$context||(o.$context=My(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=Ty(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){let s=e==="active",r=this._cachedDataOpts,o=t+"-"+e,a=r[o],c=this.enableOptionSharing&&As(i);if(a)return Sh(a,c);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],p=u.getOptionScopes(this.getDataset(),d),g=Object.keys(Ht.elements[t]),_=()=>this.getContext(i,s,e),b=u.resolveNamedOptions(p,g,_,f);return b.$shared&&(b.$shared=c,r[o]=Object.freeze(Sh(b,c))),b}_resolveAnimations(t,e,i){let s=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,a=r[o];if(a)return a;let c;if(s.options.animation!==!1){let d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,e),p=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(p,this.getContext(t,i,e))}let u=new so(s,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||sl(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(e,r)||r!==s;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:o}}updateElement(t,e,i,s){sl(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!sl(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;let r=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,i=this._cachedMeta.data;for(let[a,c,u]of this._syncList)this[a](c,u);this._syncList=[];let s=i.length,r=e.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,e,i=!0){let s=this._cachedMeta,r=s.data,o=t+e,a,c=u=>{for(u.length+=e,a=u.length-1;a>=o;a--)u[a]=u[a-e]};for(c(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){let i=this._cachedMeta;if(this._parsing){let s=i._parsed.splice(t,e);i._stacked&&Fs(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};at(di,"defaults",{}),at(di,"datasetElementType",null),at(di,"dataElementType",null);var fi=class extends di{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=e,o=this.chart._animationsDisabled,{start:a,count:c}=Qu(e,s,o);this._drawStart=a,this._drawCount=c,th(e)&&(a=0,c=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},t),this.updateElements(s,a,c,t)}updateElements(t,e,i,s){let r=s==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(e,s),p=o.axis,g=a.axis,{spanGaps:_,segment:b}=this.options,w=zi(_)?_:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||r||s==="none",C=e+i,E=t.length,F=e>0&&this.getParsed(e-1);for(let M=0;M<E;++M){let P=t[M],R=S?P:{};if(M<e||M>=C){R.skip=!0;continue}let N=this.getParsed(M),Y=Ft(N[g]),T=R[p]=o.getPixelForValue(N[p],M),I=R[g]=r||Y?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,N,c):N[g],M);R.skip=isNaN(T)||isNaN(I)||Y,R.stop=M>0&&Math.abs(N[p]-F[p])>w,b&&(R.parsed=N,R.raw=u.data[M]),f&&(R.options=d||this.resolveDataElementOptions(M,P.active?"active":s)),S||this.updateElement(P,M,R,s),F=N}}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;let r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}};at(fi,"id","line"),at(fi,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),at(fi,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function ui(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var hl=class n{constructor(t){at(this,"options");this.options=t||{}}static override(t){Object.assign(n.prototype,t)}init(){}formats(){return ui()}parse(){return ui()}format(){return ui()}add(){return ui()}diff(){return ui()}startOf(){return ui()}endOf(){return ui()}},Py={_date:hl};function Fy(n,t,e,i){let{controller:s,data:r,_sorted:o}=n,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){let c=a._reversePixels?Yu:$n;if(i){if(s._sharedOptions){let u=r[0],d=typeof u.getRange=="function"&&u.getRange(t);if(d){let f=c(r,t,e-d),p=c(r,t,e+d);return{lo:f.lo,hi:p.hi}}}}else return c(r,t,e)}return{lo:0,hi:r.length-1}}function Hs(n,t,e,i,s){let r=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,c=r.length;a<c;++a){let{index:u,data:d}=r[a],{lo:f,hi:p}=Fy(r[a],t,o,s);for(let g=f;g<=p;++g){let _=d[g];_.skip||i(_,u,g)}}}function Ry(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){let r=t?Math.abs(i.x-s.x):0,o=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function rl(n,t,e,i,s){let r=[];return!s&&!n.isPointInArea(t)||Hs(n,e,t,function(a,c,u){!s&&!Ke(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:c,index:u})},!0),r}function Ly(n,t,e,i){let s=[];function r(o,a,c){let{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:f}=Uu(o,{x:t.x,y:t.y});za(f,u,d)&&s.push({element:o,datasetIndex:a,index:c})}return Hs(n,e,t,r),s}function Iy(n,t,e,i,s,r){let o=[],a=Ry(e),c=Number.POSITIVE_INFINITY;function u(d,f,p){let g=d.inRange(t.x,t.y,s);if(i&&!g)return;let _=d.getCenterPoint(s);if(!(!!r||n.isPointInArea(_))&&!g)return;let w=a(t,_);w<c?(o=[{element:d,datasetIndex:f,index:p}],c=w):w===c&&o.push({element:d,datasetIndex:f,index:p})}return Hs(n,e,t,u),o}function ol(n,t,e,i,s,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!i?Ly(n,t,e,s):Iy(n,t,e,i,s,r)}function Eh(n,t,e,i,s){let r=[],o=e==="x"?"inXRange":"inYRange",a=!1;return Hs(n,e,t,(c,u,d)=>{c[o](t[e],s)&&(r.push({element:c,datasetIndex:u,index:d}),a=a||c.inRange(t.x,t.y,s))}),i&&!a?[]:r}var Ny={evaluateInteractionItems:Hs,modes:{index(n,t,e,i){let s=Vn(t,n),r=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?rl(n,s,r,i,o):ol(n,s,r,!1,i,o),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{let d=a[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(n,t,e,i){let s=Vn(t,n),r=e.axis||"xy",o=e.includeInvisible||!1,a=e.intersect?rl(n,s,r,i,o):ol(n,s,r,!1,i,o);if(a.length>0){let c=a[0].datasetIndex,u=n.getDatasetMeta(c).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:c,index:d})}return a},point(n,t,e,i){let s=Vn(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return rl(n,s,r,i,o)},nearest(n,t,e,i){let s=Vn(t,n),r=e.axis||"xy",o=e.includeInvisible||!1;return ol(n,s,r,e.intersect,i,o)},x(n,t,e,i){let s=Vn(t,n);return Eh(n,s,"x",e.intersect,i)},y(n,t,e,i){let s=Vn(t,n);return Eh(n,s,"y",e.intersect,i)}}},fd=["left","top","right","bottom"];function Rs(n,t){return n.filter(e=>e.pos===t)}function Ch(n,t){return n.filter(e=>fd.indexOf(e.pos)===-1&&e.box.axis===t)}function Ls(n,t){return n.sort((e,i)=>{let s=t?i:e,r=t?e:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function By(n){let t=[],e,i,s,r,o,a;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function zy(n){let t={};for(let e of n){let{stack:i,pos:s,stackWeight:r}=e;if(!i||!fd.includes(s))continue;let o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function Wy(n,t){let e=zy(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t,r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];let{fullSize:c}=a.box,u=e[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*i:c&&t.availableWidth,a.height=s):(a.width=i,a.height=d?d*s:c&&t.availableHeight)}return e}function $y(n){let t=By(n),e=Ls(t.filter(u=>u.box.fullSize),!0),i=Ls(Rs(t,"left"),!0),s=Ls(Rs(t,"right")),r=Ls(Rs(t,"top"),!0),o=Ls(Rs(t,"bottom")),a=Ch(t,"x"),c=Ch(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:s.concat(c).concat(o).concat(a),chartArea:Rs(t,"chartArea"),vertical:i.concat(s).concat(c),horizontal:r.concat(o).concat(a)}}function Ah(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function pd(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function jy(n,t,e,i){let{pos:s,box:r}=e,o=n.maxPadding;if(!vt(s)){e.size&&(n[s]-=e.size);let f=i[e.stack]||{size:0,count:1};f.size=Math.max(f.size,e.horizontal?r.height:r.width),e.size=f.size/f.count,n[s]+=e.size}r.getPadding&&pd(o,r.getPadding());let a=Math.max(0,t.outerWidth-Ah(o,n,"left","right")),c=Math.max(0,t.outerHeight-Ah(o,n,"top","bottom")),u=a!==n.w,d=c!==n.h;return n.w=a,n.h=c,e.horizontal?{same:u,other:d}:{same:d,other:u}}function Hy(n){let t=n.maxPadding;function e(i){let s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function Uy(n,t){let e=t.maxPadding;function i(s){let r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return i(n?["left","right"]:["top","bottom"])}function Bs(n,t,e,i){let s=[],r,o,a,c,u,d;for(r=0,o=n.length,u=0;r<o;++r){a=n[r],c=a.box,c.update(a.width||t.w,a.height||t.h,Uy(a.horizontal,t));let{same:f,other:p}=jy(t,e,a,i);u|=f&&s.length,d=d||p,c.fullSize||s.push(a)}return u&&Bs(s,t,e,i)||d}function qr(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function Dh(n,t,e,i){let s=e.padding,{x:r,y:o}=t;for(let a of n){let c=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){let f=t.w*d,p=u.size||c.height;As(u.start)&&(o=u.start),c.fullSize?qr(c,s.left,o,e.outerWidth-s.right-s.left,p):qr(c,t.left+u.placed,o,f,p),u.start=o,u.placed+=f,o=c.bottom}else{let f=t.h*d,p=u.size||c.width;As(u.start)&&(r=u.start),c.fullSize?qr(c,r,s.top,p,e.outerHeight-s.bottom-s.top):qr(c,r,t.top+u.placed,p,f),u.start=r,u.placed+=f,r=c.right}}t.x=r,t.y=o}var Ne={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;let s=ie(n.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(e-s.height,0),a=$y(n.boxes),c=a.vertical,u=a.horizontal;At(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});let d=c.reduce((b,w)=>w.box.options&&w.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),p=Object.assign({},s);pd(p,ie(i));let g=Object.assign({maxPadding:p,w:r,h:o,x:s.left,y:s.top},s),_=Wy(c.concat(u),f);Bs(a.fullSize,g,f,_),Bs(c,g,f,_),Bs(u,g,f,_)&&Bs(c,g,f,_),Hy(g),Dh(a.leftAndTop,g,f,_),g.x+=g.w,g.y+=g.h,Dh(a.rightAndBottom,g,f,_),n.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},At(a.chartArea,b=>{let w=b.box;Object.assign(w,n.chartArea),w.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},ro=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}},dl=class extends ro{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},no="$chartjs",Vy={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Th=n=>n===null||n==="";function Yy(n,t){let e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[no]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Th(s)){let r=Ka(n,"width");r!==void 0&&(n.width=r)}if(Th(i))if(n.style.height==="")n.height=n.width/(t||2);else{let r=Ka(n,"height");r!==void 0&&(n.height=r)}return n}var gd=fh?{passive:!0}:!1;function Gy(n,t,e){n&&n.addEventListener(t,e,gd)}function qy(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,gd)}function Zy(n,t){let e=Vy[n.type]||n.type,{x:i,y:s}=Vn(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function oo(n,t){for(let e of n)if(e===t||e.contains(t))return!0}function Xy(n,t,e){let i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(let a of r)o=o||oo(a.addedNodes,i),o=o&&!oo(a.removedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function Jy(n,t,e){let i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(let a of r)o=o||oo(a.removedNodes,i),o=o&&!oo(a.addedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}var $s=new Map,Mh=0;function md(){let n=window.devicePixelRatio;n!==Mh&&(Mh=n,$s.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Ky(n,t){$s.size||window.addEventListener("resize",md),$s.set(n,t)}function Qy(n){$s.delete(n),$s.size||window.removeEventListener("resize",md)}function t1(n,t,e){let i=n.canvas,s=i&&Yr(i);if(!s)return;let r=ja((a,c)=>{let u=s.clientWidth;e(a,c),u<s.clientWidth&&e()},window),o=new ResizeObserver(a=>{let c=a[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||r(u,d)});return o.observe(s),Ky(n,r),o}function al(n,t,e){e&&e.disconnect(),t==="resize"&&Qy(n)}function e1(n,t,e){let i=n.canvas,s=ja(r=>{n.ctx!==null&&e(Zy(r,n))},n);return Gy(i,t,s),s}var fl=class extends ro{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Yy(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[no])return!1;let i=e[no].initial;["height","width"].forEach(r=>{let o=i[r];Ft(o)?e.removeAttribute(r):e.setAttribute(r,o)});let s=i.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[no],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let s=t.$proxies||(t.$proxies={}),o={attach:Xy,detach:Jy,resize:t1}[e]||e1;s[e]=o(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:al,detach:al,resize:al}[e]||qy)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return dh(t,e,i,s)}isAttached(t){let e=Yr(t);return!!(e&&e.isConnected)}};function n1(n){return!Vr()||typeof OffscreenCanvas!="undefined"&&n instanceof OffscreenCanvas?dl:fl}var Ue=class{constructor(){at(this,"x");at(this,"y");at(this,"active",!1);at(this,"options");at(this,"$animations")}tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return zi(this.x)&&zi(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}};at(Ue,"defaults",{}),at(Ue,"defaultRoutes");function i1(n,t){let e=n.options.ticks,i=s1(n),s=Math.min(e.maxTicksLimit||i,i),r=e.major.enabled?o1(t):[],o=r.length,a=r[0],c=r[o-1],u=[];if(o>s)return a1(t,u,r,o/s),u;let d=r1(r,t,s);if(o>0){let f,p,g=o>1?Math.round((c-a)/(o-1)):null;for(Zr(t,u,d,Ft(g)?0:a-g,a),f=0,p=o-1;f<p;f++)Zr(t,u,d,r[f],r[f+1]);return Zr(t,u,d,c,Ft(g)?t.length:c+g),u}return Zr(t,u,d),u}function s1(n){let t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function r1(n,t,e){let i=l1(n),s=t.length/e;if(!i)return Math.max(s,1);let r=ju(i);for(let o=0,a=r.length-1;o<a;o++){let c=r[o];if(c>s)return c}return Math.max(s,1)}function o1(n){let t=[],e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function a1(n,t,e,i){let s=0,r=e[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(t.push(n[o]),s++,r=e[s*i])}function Zr(n,t,e,i,s){let r=yt(i,0),o=Math.min(yt(s,n.length),n.length),a=0,c,u,d;for(e=Math.ceil(e),s&&(c=s-i,e=c/Math.floor(c/e)),d=r;d<0;)a++,d=Math.round(r+a*e);for(u=Math.max(r,0);u<o;u++)u===d&&(t.push(n[u]),a++,d=Math.round(r+a*e))}function l1(n){let t=n.length,e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}var c1=n=>n==="left"?"right":n==="right"?"left":n,Oh=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Ph=(n,t)=>Math.min(t||n,n);function Fh(n,t){let e=[],i=n.length/t,s=n.length,r=0;for(;r<s;r+=i)e.push(n[Math.floor(r)]);return e}function u1(n,t,e){let i=n.ticks.length,s=Math.min(t,i-1),r=n._startPixel,o=n._endPixel,a=1e-6,c=n.getPixelForTick(s),u;if(!(e&&(i===1?u=Math.max(c-r,o-c):t===0?u=(n.getPixelForTick(1)-c)/2:u=(c-n.getPixelForTick(s-1))/2,c+=s<t?u:-u,c<r-a||c>o+a)))return c}function h1(n,t){At(n,e=>{let i=e.gc,s=i.length/2,r;if(s>t){for(r=0;r<s;++r)delete e.data[i[r]];i.splice(0,s)}})}function Is(n){return n.drawTicks?n.tickLength:0}function Rh(n,t){if(!n.display)return 0;let e=Xt(n.font,t),i=ie(n.padding);return(Lt(n.text)?n.text.length:1)*e.lineHeight+i.height}function d1(n,t){return Sn(n,{scale:t,type:"scale"})}function f1(n,t,e){return Sn(n,{tick:e,index:t,type:"tick"})}function p1(n,t,e){let i=Wr(n);return(e&&t!=="right"||!e&&t==="right")&&(i=c1(i)),i}function g1(n,t,e,i){let{top:s,left:r,bottom:o,right:a,chart:c}=n,{chartArea:u,scales:d}=c,f=0,p,g,_,b=o-s,w=a-r;if(n.isHorizontal()){if(g=ne(i,r,a),vt(e)){let S=Object.keys(e)[0],C=e[S];_=d[S].getPixelForValue(C)+b-t}else e==="center"?_=(u.bottom+u.top)/2+b-t:_=Oh(n,e,t);p=a-r}else{if(vt(e)){let S=Object.keys(e)[0],C=e[S];g=d[S].getPixelForValue(C)-w+t}else e==="center"?g=(u.left+u.right)/2-w+t:g=Oh(n,e,t);_=ne(i,o,s),f=e==="left"?-ye:ye}return{titleX:g,titleY:_,maxWidth:p,rotation:f}}var gi=class n extends Ue{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=we(t,Number.POSITIVE_INFINITY),e=we(e,Number.NEGATIVE_INFINITY),i=we(i,Number.POSITIVE_INFINITY),s=we(s,Number.NEGATIVE_INFINITY),{min:we(t,i),max:we(e,s),minDefined:jt(t),maxDefined:jt(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:e,max:i};let a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)o=a[c].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),r||(i=Math.max(i,o.max));return e=r&&e>i?i:e,i=s&&e>i?e:i,{min:we(e,we(i,e)),max:we(i,we(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pt(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=oh(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?Fh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=i1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pt(this.options.afterUpdate,[this])}beforeSetDimensions(){Pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Pt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Pt(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,i=Ph(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,r=e.maxRotation,o=s,a,c,u;if(!this._isVisible()||!e.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}let d=this._getLabelSizes(),f=d.widest.width,p=d.highest.height,g=Pe(this.chart.width-f,0,this.maxWidth);a=t.offset?this.maxWidth/i:g/(i-1),f+6>a&&(a=g/(i-(t.offset?.5:1)),c=this.maxHeight-Is(t.grid)-e.padding-Rh(t.title,this.chart.options.font),u=Math.sqrt(f*f+p*p),o=Br(Math.min(Math.asin(Pe((d.highest.height+6)/a,-1,1)),Math.asin(Pe(c/u,-1,1))-Math.asin(Pe(p/u,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pt(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=Rh(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=Is(r)+c):(t.height=this.maxHeight,t.width=Is(r)+c),i.display&&this.ticks.length){let{first:u,last:d,widest:f,highest:p}=this._getLabelSizes(),g=i.padding*2,_=kn(this.labelRotation),b=Math.cos(_),w=Math.sin(_);if(a){let S=i.mirror?0:w*f.width+b*p.height;t.height=Math.min(this.maxHeight,t.height+S+g)}else{let S=i.mirror?0:b*f.width+w*p.height;t.width=Math.min(this.maxWidth,t.width+S+g)}this._calculatePadding(u,d,w,b)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){let{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1),p=0,g=0;c?u?(p=s*t.width,g=i*e.height):(p=i*t.height,g=s*e.width):r==="start"?g=e.width:r==="end"?p=t.width:r!=="inner"&&(p=t.width/2,g=e.width/2),this.paddingLeft=Math.max((p-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let d=e.height/2,f=t.height/2;r==="start"?(d=0,f=t.height):r==="end"&&(d=e.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pt(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ft(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=Fh(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let{ctx:s,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(e/Ph(e,i)),u=0,d=0,f,p,g,_,b,w,S,C,E,F,M;for(f=0;f<e;f+=c){if(_=t[f].label,b=this._resolveTickFontOptions(f),s.font=w=b.string,S=r[w]=r[w]||{data:{},gc:[]},C=b.lineHeight,E=F=0,!Ft(_)&&!Lt(_))E=Ss(s,S.data,S.gc,E,_),F=C;else if(Lt(_))for(p=0,g=_.length;p<g;++p)M=_[p],!Ft(M)&&!Lt(M)&&(E=Ss(s,S.data,S.gc,E,M),F+=C);o.push(E),a.push(F),u=Math.max(E,u),d=Math.max(F,d)}h1(r,e);let P=o.indexOf(u),R=a.indexOf(d),N=Y=>({width:o[Y]||0,height:a[Y]||0});return{first:N(0),last:N(e-1),widest:N(P),highest:N(R),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return Vu(this._alignToPixels?Hn(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=f1(this.getContext(),t,i))}return this.$context||(this.$context=d1(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=kn(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*i>a*s?a/i:c/s:c*s<a*i?c/i:a/s}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,c=r.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),p=Is(r),g=[],_=a.setContext(this.getContext()),b=_.display?_.width:0,w=b/2,S=function(rt){return Hn(i,rt,b)},C,E,F,M,P,R,N,Y,T,I,x,H;if(o==="top")C=S(this.bottom),R=this.bottom-p,Y=C-w,I=S(t.top)+w,H=t.bottom;else if(o==="bottom")C=S(this.top),I=t.top,H=S(t.bottom)-w,R=C+w,Y=this.top+p;else if(o==="left")C=S(this.right),P=this.right-p,N=C-w,T=S(t.left)+w,x=t.right;else if(o==="right")C=S(this.left),T=t.left,x=S(t.right)-w,P=C+w,N=this.left+p;else if(e==="x"){if(o==="center")C=S((t.top+t.bottom)/2+.5);else if(vt(o)){let rt=Object.keys(o)[0],X=o[rt];C=S(this.chart.scales[rt].getPixelForValue(X))}I=t.top,H=t.bottom,R=C+w,Y=R+p}else if(e==="y"){if(o==="center")C=S((t.left+t.right)/2);else if(vt(o)){let rt=Object.keys(o)[0],X=o[rt];C=S(this.chart.scales[rt].getPixelForValue(X))}P=C-w,N=P-p,T=t.left,x=t.right}let lt=yt(s.ticks.maxTicksLimit,f),V=Math.max(1,Math.ceil(f/lt));for(E=0;E<f;E+=V){let rt=this.getContext(E),X=r.setContext(rt),ot=a.setContext(rt),W=X.lineWidth,z=X.color,ut=ot.dash||[],tt=ot.dashOffset,$=X.tickWidth,Et=X.tickColor,Nt=X.tickBorderDash||[],gt=X.tickBorderDashOffset;F=u1(this,E,c),F!==void 0&&(M=Hn(i,F,W),u?P=N=T=x=M:R=Y=I=H=M,g.push({tx1:P,ty1:R,tx2:N,ty2:Y,x1:T,y1:I,x2:x,y2:H,width:W,color:z,borderDash:ut,borderDashOffset:tt,tickWidth:$,tickColor:Et,tickBorderDash:Nt,tickBorderDashOffset:gt}))}return this._ticksLength=f,this._borderValue=C,g}_computeLabelItems(t){let e=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=r,p=Is(i.grid),g=p+d,_=f?-d:g,b=-kn(this.labelRotation),w=[],S,C,E,F,M,P,R,N,Y,T,I,x,H="middle";if(s==="top")P=this.bottom-_,R=this._getXAxisLabelAlignment();else if(s==="bottom")P=this.top+_,R=this._getXAxisLabelAlignment();else if(s==="left"){let V=this._getYAxisLabelAlignment(p);R=V.textAlign,M=V.x}else if(s==="right"){let V=this._getYAxisLabelAlignment(p);R=V.textAlign,M=V.x}else if(e==="x"){if(s==="center")P=(t.top+t.bottom)/2+g;else if(vt(s)){let V=Object.keys(s)[0],rt=s[V];P=this.chart.scales[V].getPixelForValue(rt)+g}R=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")M=(t.left+t.right)/2-g;else if(vt(s)){let V=Object.keys(s)[0],rt=s[V];M=this.chart.scales[V].getPixelForValue(rt)}R=this._getYAxisLabelAlignment(p).textAlign}e==="y"&&(c==="start"?H="top":c==="end"&&(H="bottom"));let lt=this._getLabelSizes();for(S=0,C=a.length;S<C;++S){E=a[S],F=E.label;let V=r.setContext(this.getContext(S));N=this.getPixelForTick(S)+r.labelOffset,Y=this._resolveTickFontOptions(S),T=Y.lineHeight,I=Lt(F)?F.length:1;let rt=I/2,X=V.color,ot=V.textStrokeColor,W=V.textStrokeWidth,z=R;o?(M=N,R==="inner"&&(S===C-1?z=this.options.reverse?"left":"right":S===0?z=this.options.reverse?"right":"left":z="center"),s==="top"?u==="near"||b!==0?x=-I*T+T/2:u==="center"?x=-lt.highest.height/2-rt*T+T:x=-lt.highest.height+T/2:u==="near"||b!==0?x=T/2:u==="center"?x=lt.highest.height/2-rt*T:x=lt.highest.height-I*T,f&&(x*=-1),b!==0&&!V.showLabelBackdrop&&(M+=T/2*Math.sin(b))):(P=N,x=(1-I)*T/2);let ut;if(V.showLabelBackdrop){let tt=ie(V.backdropPadding),$=lt.heights[S],Et=lt.widths[S],Nt=x-tt.top,gt=0-tt.left;switch(H){case"middle":Nt-=$/2;break;case"bottom":Nt-=$;break}switch(R){case"center":gt-=Et/2;break;case"right":gt-=Et;break;case"inner":S===C-1?gt-=Et:S>0&&(gt-=Et/2);break}ut={left:gt,top:Nt,width:Et+tt.width,height:$+tt.height,color:V.backdropColor}}w.push({label:F,font:Y,textOffset:x,options:{rotation:b,color:X,strokeColor:ot,strokeWidth:W,textAlign:z,textBaseline:H,translation:[M,P],backdrop:ut}})}return w}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-kn(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,c=o.widest.width,u,d;return e==="left"?s?(d=this.right+r,i==="near"?u="left":i==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-a,i==="near"?u="right":i==="center"?(u="center",d-=c/2):(u="left",d=this.left)):e==="right"?s?(d=this.left+r,i==="near"?u="right":i==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+a,i==="near"?u="left":i==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:s,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){let e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,o,a=(c,u,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=s.length;r<o;++r){let c=s[r];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;let a=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue,u,d,f,p;this.isHorizontal()?(u=Hn(t,this.left,o)-o/2,d=Hn(t,this.right,a)+a/2,f=p=c):(f=Hn(t,this.top,o)-o/2,p=Hn(t,this.bottom,a)+a/2,u=d=c),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(u,f),e.lineTo(d,p),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,s=this._computeLabelArea();s&&Ts(i,s);let r=this.getLabelItems(t);for(let o of r){let a=o.options,c=o.font,u=o.label,d=o.textOffset;Un(i,u,0,d,c,a)}s&&Ms(i)}drawTitle(){let{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;let r=Xt(i.font),o=ie(i.padding),a=i.align,c=r.lineHeight/2;e==="bottom"||e==="center"||vt(e)?(c+=o.bottom,Lt(i.text)&&(c+=r.lineHeight*(i.text.length-1))):c+=o.top;let{titleX:u,titleY:d,maxWidth:f,rotation:p}=g1(this,c,e,a);Un(t,i.text,0,0,r,{color:i.color,maxWidth:f,rotation:p,textAlign:p1(a,e,s),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=yt(t.grid&&t.grid.z,-1),s=yt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[],r,o;for(r=0,o=e.length;r<o;++r){let a=e[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return Xt(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},$i=class{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),i;b1(e)&&(i=this.register(e));let s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,m1(t,o,i),this.override&&Ht.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Ht[s]&&(delete Ht[s][i],this.override&&delete jn[i])}};function m1(n,t,e){let i=Li(Object.create(null),[e?Ht.get(e):{},Ht.get(t),n.defaults]);Ht.set(t,i),n.defaultRoutes&&_1(t,n.defaultRoutes),n.descriptors&&Ht.describe(t,n.descriptors)}function _1(n,t){Object.keys(t).forEach(e=>{let i=e.split("."),s=i.pop(),r=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),c=o.join(".");Ht.route(r,s,c,a)})}function b1(n){return"id"in n&&"defaults"in n}var pl=class{constructor(){this.controllers=new $i(di,"datasets",!0),this.elements=new $i(Ue,"elements"),this.plugins=new $i(Object,"plugins"),this.scales=new $i(gi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{let r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):At(s,o=>{let a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){let s=Nr(t);Pt(i["before"+s],[],i),e[t](i),Pt(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}},en=new pl,gl=class{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,e,i);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,s){s=s||{};for(let r of t){let o=r.plugin,a=o[i],c=[e,s,r.options];if(Pt(a,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,s=yt(i.options&&i.options.plugins,{}),r=y1(i);return s===!1&&!e?[]:w1(t,r,s,e)}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}};function y1(n){let t={},e=[],i=Object.keys(en.plugins.items);for(let r=0;r<i.length;r++)e.push(en.getPlugin(i[r]));let s=n.plugins||[];for(let r=0;r<s.length;r++){let o=s[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function v1(n,t){return!t&&n===!1?null:n===!0?{}:n}function w1(n,{plugins:t,localIds:e},i,s){let r=[],o=n.getContext();for(let a of t){let c=a.id,u=v1(i[c],s);u!==null&&r.push({plugin:a,options:x1(n.config,{plugin:a,local:e[c]},u,o)})}return r}function x1(n,{plugin:t,local:e},i,s){let r=n.pluginScopeKeys(t),o=n.getOptionScopes(i,r);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ml(n,t){let e=Ht.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function k1(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function S1(n,t){return n===t?"_index_":"_value_"}function Lh(n){if(n==="x"||n==="y"||n==="r")return n}function E1(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function _l(n,...t){if(Lh(n))return n;for(let e of t){let i=e.axis||E1(e.position)||n.length>1&&Lh(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Ih(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function C1(n,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Ih(n,"x",e[0])||Ih(n,"y",e[0])}return{}}function A1(n,t){let e=jn[n.type]||{scales:{}},i=t.scales||{},s=ml(n.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{let a=i[o];if(!vt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=_l(o,a,C1(o,n),Ht.scales[a.type]),u=S1(c,s),d=e.scales||{};r[o]=Ni(Object.create(null),[{axis:c},a,d[c],d[u]])}),n.data.datasets.forEach(o=>{let a=o.type||n.type,c=o.indexAxis||ml(a,t),d=(jn[a]||{}).scales||{};Object.keys(d).forEach(f=>{let p=k1(f,c),g=o[p+"AxisID"]||p;r[g]=r[g]||Object.create(null),Ni(r[g],[{axis:p},i[g],d[f]])})}),Object.keys(r).forEach(o=>{let a=r[o];Ni(a,[Ht.scales[a.type],Ht.scale])}),r}function _d(n){let t=n.options||(n.options={});t.plugins=yt(t.plugins,{}),t.scales=A1(n,t)}function bd(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function D1(n){return n=n||{},n.data=bd(n.data),_d(n),n}var Nh=new Map,yd=new Set;function Xr(n,t){let e=Nh.get(n);return e||(e=t(),Nh.set(n,e),yd.add(e)),e}var Ns=(n,t,e)=>{let i=Cs(t,e);i!==void 0&&n.add(i)},bl=class{constructor(t){this._config=D1(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=bd(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),_d(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Xr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Xr(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Xr(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return Xr(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){let{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;let c=new Set;e.forEach(d=>{t&&(c.add(t),d.forEach(f=>Ns(c,t,f))),d.forEach(f=>Ns(c,s,f)),d.forEach(f=>Ns(c,jn[r]||{},f)),d.forEach(f=>Ns(c,Ht,f)),d.forEach(f=>Ns(c,jr,f))});let u=Array.from(c);return u.length===0&&u.push(Object.create(null)),yd.has(e)&&o.set(e,u),u}chartOptionScopes(){let{options:t,type:e}=this;return[t,jn[e]||{},Ht.datasets[e]||{},{type:e},Ht,jr]}resolveNamedOptions(t,e,i,s=[""]){let r={$shared:!0},{resolver:o,subPrefixes:a}=Bh(this._resolverCache,t,s),c=o;if(M1(o,e)){r.$shared=!1,i=wn(i)?i():i;let u=this.createResolver(t,i,a);c=oi(o,i,u)}for(let u of e)r[u]=c[u];return r}createResolver(t,e,i=[""],s){let{resolver:r}=Bh(this._resolverCache,t,i);return vt(e)?oi(r,e,void 0,s):r}};function Bh(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));let s=e.join(),r=i.get(s);return r||(r={resolver:Ur(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}var T1=n=>vt(n)&&Object.getOwnPropertyNames(n).some(t=>wn(n[t]));function M1(n,t){let{isScriptable:e,isIndexable:i}=qa(n);for(let s of t){let r=e(s),o=i(s),a=(o||r)&&n[s];if(r&&(wn(a)||T1(a))||o&&Lt(a))return!0}return!1}var O1="4.4.2",P1=["top","bottom","left","right","chartArea"];function zh(n,t){return n==="top"||n==="bottom"||P1.indexOf(n)===-1&&t==="x"}function Wh(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function $h(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Pt(e&&e.onComplete,[n],t)}function F1(n){let t=n.chart,e=t.options.animation;Pt(e&&e.onProgress,[n],t)}function vd(n){return Vr()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var io={},jh=n=>{let t=vd(n);return Object.values(io).filter(e=>e.canvas===t).pop()};function R1(n,t,e){let i=Object.keys(n);for(let s of i){let r=+s;if(r>=t){let o=n[s];delete n[s],(e>0||r>t)&&(n[r+e]=o)}}}function L1(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function Jr(n,t,e){return n.options.clip?n[e]:t[e]}function I1(n,t){let{xScale:e,yScale:i}=n;return e&&i?{left:Jr(e,t,"left"),right:Jr(e,t,"right"),top:Jr(i,t,"top"),bottom:Jr(i,t,"bottom")}:t}var pe=class{static register(...t){en.add(...t),Hh()}static unregister(...t){en.remove(...t),Hh()}constructor(t,e){let i=this.config=new bl(e),s=vd(t),r=jh(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");let o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||n1(s)),this.platform.updateConfig(i);let a=this.platform.acquireContext(s,o.aspectRatio),c=a&&a.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Bu(),this.ctx=a,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ju(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],io[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}En.listen(this,"complete",$h),En.listen(this,"progress",F1),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:r}=this;return Ft(t)?e&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return en}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ja(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Va(this.canvas,this.ctx),this}stop(){return En.stop(this),this}resize(t,e){En.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ja(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Pt(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};At(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){let t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{}),r=[];e&&(r=r.concat(Object.keys(e).map(o=>{let a=e[o],c=_l(o,a),u=c==="r",d=c==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),At(r,o=>{let a=o.options,c=a.id,u=_l(c,a),d=yt(a.type,o.dtype);(a.position===void 0||zh(a.position,u)!==zh(o.dposition))&&(a.position=o.dposition),s[c]=!0;let f=null;if(c in i&&i[c].type===d)f=i[c];else{let p=en.getScale(d);f=new p({id:c,type:d,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(a,t)}),At(s,(o,a)=>{o||delete i[a]}),At(i,o=>{Ne.configure(this,o,o.options),Ne.addBox(this,o)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Wh("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let t=[],e=this.data.datasets,i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){let r=e[i],o=this.getDatasetMeta(i),a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||ml(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{let c=en.getController(a),{datasetElementType:u,dataElementType:d}=Ht.datasets[a];Object.assign(c,{dataElementType:en.getElement(d),datasetElementType:u&&en.getElement(u)}),o.controller=new c(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){At(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:f}=this.getDatasetMeta(u),p=!s&&r.indexOf(f)===-1;f.buildOrUpdateElements(p),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||At(r,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Wh("z","_idx"));let{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){At(this.scales,t=>{Ne.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!La(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(let{method:i,start:s,count:r}of e){let o=i==="_removeElements"?-r:r;R1(t,s,o)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<e;r++)if(!La(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ne.update(this,this.width,this.height,t);let e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],At(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,wn(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(En.has(this)?this.attached&&!En.running(this)&&En.start(this):(this.draw(),$h({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e=this._sortedMetasets,i=[],s,r;for(s=0,r=e.length;s<r;++s){let o=e[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,i=t._clip,s=!i.disabled,r=I1(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Ts(e,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&Ms(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Ke(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){let r=Ny.modes[e];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){let e=this.data.datasets[t],i=this._metasets,s=i.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Sn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){let i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){let s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);As(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),En.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Va(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete io[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,i=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};At(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,e=this.platform,i=(c,u)=>{e.addEventListener(this,c,u),t[c]=u},s=(c,u)=>{t[c]&&(e.removeEventListener(this,c,u),delete t[c])},r=(c,u)=>{this.canvas&&this.resize(c,u)},o,a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){At(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},At(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){let s=i?"set":"remove",r,o,a,c;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,c=t.length;a<c;++a){o=t[a];let u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{let a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Es(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){let s=this.options.hover,r=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=r(e,t),a=i?t:r(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){let i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;let r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){let{_active:s=[],options:r}=this,o=e,a=this._getActiveElements(t,s,i,o),c=$u(t),u=L1(t,this._lastEvent,i,c);i&&(this._lastEvent=null,Pt(r.onHover,[t,a,this],this),c&&Pt(r.onClick,[t,a,this],this));let d=!Es(a,s);return(d||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=u,d}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;let r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}};at(pe,"defaults",Ht),at(pe,"instances",io),at(pe,"overrides",jn),at(pe,"registry",en),at(pe,"version",O1),at(pe,"getChart",jh);function Hh(){return At(pe.instances,n=>n._plugins.invalidate())}function wd(n,t,e=t){n.lineCap=yt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(yt(e.borderDash,t.borderDash)),n.lineDashOffset=yt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=yt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=yt(e.borderWidth,t.borderWidth),n.strokeStyle=yt(e.borderColor,t.borderColor)}function N1(n,t,e){n.lineTo(e.x,e.y)}function B1(n){return n.stepped?ih:n.tension||n.cubicInterpolationMode==="monotone"?sh:N1}function xd(n,t,e={}){let i=n.length,{start:s=0,end:r=i-1}=e,{start:o,end:a}=t,c=Math.max(s,o),u=Math.min(r,a),d=s<o&&r<o||s>a&&r>a;return{count:i,start:c,loop:t.loop,ilen:u<c&&!d?i+u-c:u-c}}function z1(n,t,e,i){let{points:s,options:r}=t,{count:o,start:a,loop:c,ilen:u}=xd(s,e,i),d=B1(r),{move:f=!0,reverse:p}=i||{},g,_,b;for(g=0;g<=u;++g)_=s[(a+(p?u-g:g))%o],!_.skip&&(f?(n.moveTo(_.x,_.y),f=!1):d(n,b,_,p,r.stepped),b=_);return c&&(_=s[(a+(p?u:0))%o],d(n,b,_,p,r.stepped)),!!c}function W1(n,t,e,i){let s=t.points,{count:r,start:o,ilen:a}=xd(s,e,i),{move:c=!0,reverse:u}=i||{},d=0,f=0,p,g,_,b,w,S,C=F=>(o+(u?a-F:F))%r,E=()=>{b!==w&&(n.lineTo(d,w),n.lineTo(d,b),n.lineTo(d,S))};for(c&&(g=s[C(0)],n.moveTo(g.x,g.y)),p=0;p<=a;++p){if(g=s[C(p)],g.skip)continue;let F=g.x,M=g.y,P=F|0;P===_?(M<b?b=M:M>w&&(w=M),d=(f*d+F)/++f):(E(),n.lineTo(F,M),_=P,f=0,b=w=M),S=M}E()}function yl(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?W1:z1}function $1(n){return n.stepped?ph:n.tension||n.cubicInterpolationMode==="monotone"?gh:Wn}function j1(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),wd(n,t.options),n.stroke(s)}function H1(n,t,e,i){let{segments:s,options:r}=t,o=yl(t);for(let a of s)wd(n,r,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}var U1=typeof Path2D=="function";function V1(n,t,e,i){U1&&!t.options.segment?j1(n,t,e,i):H1(n,t,e,i)}var He=class extends Ue{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let s=i.spanGaps?this._loop:this._fullLoop;hh(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_h(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){let i=this.options,s=t[e],r=this.points,o=nl(this,{property:e,start:s,end:s});if(!o.length)return;let a=[],c=$1(i),u,d;for(u=0,d=o.length;u<d;++u){let{start:f,end:p}=o[u],g=r[f],_=r[p];if(g===_){a.push(g);continue}let b=Math.abs((s-g[e])/(_[e]-g[e])),w=c(g,_,b,i.stepped);w[e]=t[e],a.push(w)}return a.length===1?a[0]:a}pathSegment(t,e,i){return yl(this)(t,this,e,i)}path(t,e,i){let s=this.segments,r=yl(this),o=this._loop;e=e||0,i=i||this.points.length-e;for(let a of s)o&=r(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,s){let r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),V1(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};at(He,"id","line"),at(He,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),at(He,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),at(He,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Uh(n,t,e,i){let s=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<s.radius+s.hitRadius}var pi=class extends Ue{constructor(e){super();at(this,"parsed");at(this,"skip");at(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){let r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return Uh(this,e,"x",i)}inYRange(e,i){return Uh(this,e,"y",i)}getCenterPoint(e){let{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let s=i&&e.borderWidth||0;return(i+s)*2}draw(e,i){let s=this.options;this.skip||s.radius<.1||!Ke(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Hr(e,s,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}};at(pi,"id","point"),at(pi,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),at(pi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Y1(n,t,e){let i=n.segments,s=n.points,r=t.points,o=[];for(let a of i){let{start:c,end:u}=a;u=xl(c,u,s);let d=vl(e,s[c],s[u],a.loop);if(!t.segments){o.push({source:a,target:d,start:s[c],end:s[u]});continue}let f=nl(t,d);for(let p of f){let g=vl(e,r[p.start],r[p.end],p.loop),_=el(a,s,g);for(let b of _)o.push({source:b,target:p,start:{[e]:Vh(d,g,"start",Math.max)},end:{[e]:Vh(d,g,"end",Math.min)}})}}return o}function vl(n,t,e,i){if(i)return;let s=t[n],r=e[n];return n==="angle"&&(s=be(s),r=be(r)),{property:n,start:s,end:r}}function G1(n,t){let{x:e=null,y:i=null}=n||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=xl(o,a,s);let c=s[o],u=s[a];i!==null?(r.push({x:c.x,y:i}),r.push({x:u.x,y:i})):e!==null&&(r.push({x:e,y:c.y}),r.push({x:e,y:u.y}))}),r}function xl(n,t,e){for(;t>n;t--){let i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Vh(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function kd(n,t){let e=[],i=!1;return Lt(n)?(i=!0,e=n):e=G1(n,t),e.length?new He({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Yh(n){return n&&n.fill!==!1}function q1(n,t,e){let s=n[t].fill,r=[t],o;if(!e)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!jt(s))return s;if(o=n[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function Z1(n,t,e){let i=Q1(n);if(vt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return jt(s)&&Math.floor(s)===s?X1(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function X1(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function J1(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:vt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function K1(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:vt(n)?i=n.value:i=t.getBaseValue(),i}function Q1(n){let t=n.options,e=t.fill,i=yt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function tv(n){let{scale:t,index:e,line:i}=n,s=[],r=i.segments,o=i.points,a=ev(t,e);a.push(kd({x:null,y:t.bottom},i));for(let c=0;c<r.length;c++){let u=r[c];for(let d=u.start;d<=u.end;d++)nv(s,o[d],a)}return new He({points:s,options:{}})}function ev(n,t){let e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){let r=i[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function nv(n,t,e){let i=[];for(let s=0;s<e.length;s++){let r=e[s],{first:o,last:a,point:c}=iv(r,t,"x");if(!(!c||o&&a)){if(o)i.unshift(c);else if(n.push(c),!a)break}}n.push(...i)}function iv(n,t,e){let i=n.interpolate(t,e);if(!i)return{};let s=i[e],r=n.segments,o=n.points,a=!1,c=!1;for(let u=0;u<r.length;u++){let d=r[u],f=o[d.start][e],p=o[d.end][e];if(ai(s,f,p)){a=s===f,c=s===p;break}}return{first:a,last:c,point:i}}var ao=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:s,y:r,radius:o}=this;return e=e||{start:0,end:ve},t.arc(s,r,o,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}};function sv(n){let{chart:t,fill:e,line:i}=n;if(jt(e))return rv(t,e);if(e==="stack")return tv(n);if(e==="shape")return!0;let s=ov(n);return s instanceof ao?s:kd(s,i)}function rv(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function ov(n){return(n.scale||{}).getPointPositionForValue?lv(n):av(n)}function av(n){let{scale:t={},fill:e}=n,i=J1(e,t);if(jt(i)){let s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function lv(n){let{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=K1(e,t,r),a=[];if(i.grid.circular){let c=t.getPointPositionForValue(0,r);return new ao({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<s;++c)a.push(t.getPointPositionForValue(c,o));return a}function ll(n,t,e){let i=sv(t),{line:s,scale:r,axis:o}=t,a=s.options,c=a.fill,u=a.backgroundColor,{above:d=u,below:f=u}=c||{};i&&s.points.length&&(Ts(n,e),cv(n,{line:s,target:i,above:d,below:f,area:e,scale:r,axis:o}),Ms(n))}function cv(n,t){let{line:e,target:i,above:s,below:r,area:o,scale:a}=t,c=e._loop?"angle":t.axis;n.save(),c==="x"&&r!==s&&(Gh(n,i,o.top),qh(n,{line:e,target:i,color:s,scale:a,property:c}),n.restore(),n.save(),Gh(n,i,o.bottom)),qh(n,{line:e,target:i,color:r,scale:a,property:c}),n.restore()}function Gh(n,t,e){let{segments:i,points:s}=t,r=!0,o=!1;n.beginPath();for(let a of i){let{start:c,end:u}=a,d=s[c],f=s[xl(c,u,s)];r?(n.moveTo(d.x,d.y),r=!1):(n.lineTo(d.x,e),n.lineTo(d.x,d.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(f.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function qh(n,t){let{line:e,target:i,property:s,color:r,scale:o}=t,a=Y1(e,i,s);for(let{source:c,target:u,start:d,end:f}of a){let{style:{backgroundColor:p=r}={}}=c,g=i!==!0;n.save(),n.fillStyle=p,uv(n,o,g&&vl(s,d,f)),n.beginPath();let _=!!e.pathSegment(n,c),b;if(g){_?n.closePath():Zh(n,i,f,s);let w=!!i.pathSegment(n,u,{move:_,reverse:!0});b=_&&w,b||Zh(n,i,d,s)}n.closePath(),n.fill(b?"evenodd":"nonzero"),n.restore()}}function uv(n,t,e){let{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=e||{};r==="x"&&(n.beginPath(),n.rect(o,i,a-o,s-i),n.clip())}function Zh(n,t,e,i){let s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var Sd={id:"filler",afterDatasetsUpdate(n,t,e){let i=(n.data.datasets||[]).length,s=[],r,o,a,c;for(o=0;o<i;++o)r=n.getDatasetMeta(o),a=r.dataset,c=null,a&&a.options&&a instanceof He&&(c={visible:n.isDatasetVisible(o),index:o,fill:Z1(a,o,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=c,s.push(c);for(o=0;o<i;++o)c=s[o],!(!c||c.fill===!1)&&(c.fill=q1(s,o,e.propagate))},beforeDraw(n,t,e){let i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=s.length-1;o>=0;--o){let a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&ll(n.ctx,a,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){let r=i[s].$filler;Yh(r)&&ll(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){let i=t.meta.$filler;!Yh(i)||e.drawTime!=="beforeDatasetDraw"||ll(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Xh=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},hv=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,lo=class extends Ue{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Pt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,s=Xt(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Xh(i,r),u,d;e.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,r,a,c)+10):(d=this.maxHeight,u=this._fitCols(o,s,a,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){let{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+a,f=t;r.textAlign="left",r.textBaseline="middle";let p=-1,g=-d;return this.legendItems.forEach((_,b)=>{let w=i+e/2+r.measureText(_.text).width;(b===0||u[u.length-1]+w+2*a>o)&&(f+=d,u[u.length-(b>0?0:1)]=0,g+=d,p++),c[b]={left:0,top:g,row:p,width:w,height:s},u[u.length-1]+=w+a}),f}_fitCols(t,e,i,s){let{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-t,f=a,p=0,g=0,_=0,b=0;return this.legendItems.forEach((w,S)=>{let{itemWidth:C,itemHeight:E}=dv(i,e,r,w,s);S>0&&g+E+2*a>d&&(f+=p+a,u.push({width:p,height:g}),_+=p+a,b++,p=g=0),c[S]={left:_,top:g,col:b,width:C,height:E},p=Math.max(p,C),g+=E+a}),f+=p,u.push({width:p,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:r}}=this,o=ci(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=ne(i,this.left+s,this.right-this.lineWidths[a]);for(let u of e)a!==u.row&&(a=u.row,c=ne(i,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+t+s,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+s}else{let a=0,c=ne(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(let u of e)u.col!==a&&(a=u.col,c=ne(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Ts(t,this),this._draw(),Ms(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Ht.color,c=ci(t.rtl,this.left,this.width),u=Xt(o.font),{padding:d}=o,f=u.size,p=f/2,g;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;let{boxWidth:_,boxHeight:b,itemHeight:w}=Xh(o,f),S=function(P,R,N){if(isNaN(_)||_<=0||isNaN(b)||b<0)return;s.save();let Y=yt(N.lineWidth,1);if(s.fillStyle=yt(N.fillStyle,a),s.lineCap=yt(N.lineCap,"butt"),s.lineDashOffset=yt(N.lineDashOffset,0),s.lineJoin=yt(N.lineJoin,"miter"),s.lineWidth=Y,s.strokeStyle=yt(N.strokeStyle,a),s.setLineDash(yt(N.lineDash,[])),o.usePointStyle){let T={radius:b*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:Y},I=c.xPlus(P,_/2),x=R+p;Ya(s,T,I,x,o.pointStyleWidth&&_)}else{let T=R+Math.max((f-b)/2,0),I=c.leftForLtr(P,_),x=li(N.borderRadius);s.beginPath(),Object.values(x).some(H=>H!==0)?Os(s,{x:I,y:T,w:_,h:b,radius:x}):s.rect(I,T,_,b),s.fill(),Y!==0&&s.stroke()}s.restore()},C=function(P,R,N){Un(s,N.text,P,R+w/2,u,{strikethrough:N.hidden,textAlign:c.textAlign(N.textAlign)})},E=this.isHorizontal(),F=this._computeTitleHeight();E?g={x:ne(r,this.left+d,this.right-i[0]),y:this.top+d+F,line:0}:g={x:this.left+d,y:ne(r,this.top+F+d,this.bottom-e[0].height),line:0},Qa(this.ctx,t.textDirection);let M=w+d;this.legendItems.forEach((P,R)=>{s.strokeStyle=P.fontColor,s.fillStyle=P.fontColor;let N=s.measureText(P.text).width,Y=c.textAlign(P.textAlign||(P.textAlign=o.textAlign)),T=_+p+N,I=g.x,x=g.y;c.setWidth(this.width),E?R>0&&I+T+d>this.right&&(x=g.y+=M,g.line++,I=g.x=ne(r,this.left+d,this.right-i[g.line])):R>0&&x+M>this.bottom&&(I=g.x=I+e[g.line].width+d,g.line++,x=g.y=ne(r,this.top+F+d,this.bottom-e[g.line].height));let H=c.x(I);if(S(H,x,P),I=Ku(Y,I+_+p,E?I+T:this.right,t.rtl),C(c.x(I),x,P),E)g.x+=T+d;else if(typeof P.text!="string"){let lt=u.lineHeight;g.y+=Ed(P,lt)+d}else g.y+=M}),tl(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,i=Xt(e.font),s=ie(e.padding);if(!e.display)return;let r=ci(t.rtl,this.left,this.width),o=this.ctx,a=e.position,c=i.size/2,u=s.top+c,d,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+u,f=ne(t.align,f,this.right-p);else{let _=this.columnSizes.reduce((b,w)=>Math.max(b,w.height),0);d=u+ne(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}let g=ne(a,f,f+p);o.textAlign=r.textAlign(Wr(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Un(o,e.text,g,d,i)}_computeTitleHeight(){let t=this.options.title,e=Xt(t.font),i=ie(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,r;if(ai(t,this.left,this.right)&&ai(e,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],ai(t,s.left,s.left+s.width)&&ai(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){let e=this.options;if(!gv(t.type,e))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let s=this._hoveredItem,r=hv(s,i);s&&!r&&Pt(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Pt(e.onHover,[t,i,this],this)}else i&&Pt(e.onClick,[t,i,this],this)}};function dv(n,t,e,i,s){let r=fv(i,n,t,e),o=pv(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function fv(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+i.measureText(s).width}function pv(n,t,e){let i=n;return typeof t.text!="string"&&(i=Ed(t,e)),i}function Ed(n,t){let e=n.text?n.text.length:0;return t*e}function gv(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Cd={id:"legend",_element:lo,start(n,t,e){let i=n.legend=new lo({ctx:n.ctx,options:e,chart:n});Ne.configure(n,i,e),Ne.addBox(n,i)},stop(n){Ne.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let i=n.legend;Ne.configure(n,i,e),i.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{let u=c.controller.getStyle(e?0:void 0),d=ie(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},co=class extends Ue{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let s=Lt(i.text)?i.text.length:1;this._padding=ie(i.padding);let r=s*Xt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:i,bottom:s,right:r,options:o}=this,a=o.align,c=0,u,d,f;return this.isHorizontal()?(d=ne(a,i,r),f=e+t,u=r-i):(o.position==="left"?(d=i+t,f=ne(a,s,e),c=Yt*-.5):(d=r-t,f=ne(a,e,s),c=Yt*.5),u=s-e),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=Xt(e.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(r);Un(t,e.text,0,0,i,{color:e.color,maxWidth:c,rotation:u,textAlign:Wr(e.align),textBaseline:"middle",translation:[o,a]})}};function mv(n,t){let e=new co({ctx:n.ctx,options:t,chart:n});Ne.configure(n,e,t),Ne.addBox(n,e),n.titleBlock=e}var Ad={id:"title",_element:co,start(n,t,e){mv(n,e)},stop(n){let t=n.titleBlock;Ne.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let i=n.titleBlock;Ne.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};var zs={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,r=0;for(t=0,e=n.length;t<e;++t){let a=n[t].element;if(a&&a.hasValue()){let c=a.tooltipPosition();i.add(c.x),s+=c.y,++r}}return{x:[...i].reduce((a,c)=>a+c)/i.size,y:s/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=n.length;r<o;++r){let c=n[r].element;if(c&&c.hasValue()){let u=c.getCenterPoint(),d=Lr(t,u);d<s&&(s=d,a=c)}}if(a){let c=a.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function tn(n,t){return t&&(Lt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Cn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function _v(n,t){let{element:e,datasetIndex:i,index:s}=t,r=n.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function Jh(n,t){let e=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:a}=t,c=Xt(t.bodyFont),u=Xt(t.titleFont),d=Xt(t.footerFont),f=r.length,p=s.length,g=i.length,_=ie(t.padding),b=_.height,w=0,S=i.reduce((F,M)=>F+M.before.length+M.lines.length+M.after.length,0);if(S+=n.beforeBody.length+n.afterBody.length,f&&(b+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),S){let F=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;b+=g*F+(S-g)*c.lineHeight+(S-1)*t.bodySpacing}p&&(b+=t.footerMarginTop+p*d.lineHeight+(p-1)*t.footerSpacing);let C=0,E=function(F){w=Math.max(w,e.measureText(F).width+C)};return e.save(),e.font=u.string,At(n.title,E),e.font=c.string,At(n.beforeBody.concat(n.afterBody),E),C=t.displayColors?o+2+t.boxPadding:0,At(i,F=>{At(F.before,E),At(F.lines,E),At(F.after,E)}),C=0,e.font=d.string,At(n.footer,E),e.restore(),w+=_.width,{width:w,height:b}}function bv(n,t){let{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function yv(n,t,e,i){let{x:s,width:r}=i,o=e.caretSize+e.caretPadding;if(n==="left"&&s+r+o>t.width||n==="right"&&s-r-o<0)return!0}function vv(n,t,e,i){let{x:s,width:r}=e,{width:o,chartArea:{left:a,right:c}}=n,u="center";return i==="center"?u=s<=(a+c)/2?"left":"right":s<=r/2?u="left":s>=o-r/2&&(u="right"),yv(u,n,t,e)&&(u="center"),u}function Kh(n,t,e){let i=e.yAlign||t.yAlign||bv(n,e);return{xAlign:e.xAlign||t.xAlign||vv(n,t,e,i),yAlign:i}}function wv(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function xv(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function Qh(n,t,e,i){let{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:c}=e,u=s+r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=li(o),_=wv(t,a),b=xv(t,c,u);return c==="center"?a==="left"?_+=u:a==="right"&&(_-=u):a==="left"?_-=Math.max(d,p)+s:a==="right"&&(_+=Math.max(f,g)+s),{x:Pe(_,0,i.width-t.width),y:Pe(b,0,i.height-t.height)}}function Kr(n,t,e){let i=ie(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function td(n){return tn([],Cn(n))}function kv(n,t,e){return Sn(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function ed(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var Dd={beforeTitle:Qe,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Qe,beforeBody:Qe,beforeLabel:Qe,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return Ft(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Qe,afterBody:Qe,beforeFooter:Qe,footer:Qe,afterFooter:Qe};function xe(n,t,e,i){let s=n[t].call(e,i);return typeof s=="undefined"?Dd[t].call(e,i):s}var Ws=class extends Ue{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,r=new so(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=kv(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){let{callbacks:i}=e,s=xe(i,"beforeTitle",this,t),r=xe(i,"title",this,t),o=xe(i,"afterTitle",this,t),a=[];return a=tn(a,Cn(s)),a=tn(a,Cn(r)),a=tn(a,Cn(o)),a}getBeforeBody(t,e){return td(xe(e.callbacks,"beforeBody",this,t))}getBody(t,e){let{callbacks:i}=e,s=[];return At(t,r=>{let o={before:[],lines:[],after:[]},a=ed(i,r);tn(o.before,Cn(xe(a,"beforeLabel",this,r))),tn(o.lines,xe(a,"label",this,r)),tn(o.after,Cn(xe(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,e){return td(xe(e.callbacks,"afterBody",this,t))}getFooter(t,e){let{callbacks:i}=e,s=xe(i,"beforeFooter",this,t),r=xe(i,"footer",this,t),o=xe(i,"afterFooter",this,t),a=[];return a=tn(a,Cn(s)),a=tn(a,Cn(r)),a=tn(a,Cn(o)),a}_createItems(t){let e=this._active,i=this.chart.data,s=[],r=[],o=[],a=[],c,u;for(c=0,u=e.length;c<u;++c)a.push(_v(this.chart,e[c]));return t.filter&&(a=a.filter((d,f,p)=>t.filter(d,f,p,i))),t.itemSort&&(a=a.sort((d,f)=>t.itemSort(d,f,i))),At(a,d=>{let f=ed(t.callbacks,d);s.push(xe(f,"labelColor",this,d)),r.push(xe(f,"labelPointStyle",this,d)),o.push(xe(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){let i=this.options.setContext(this.getContext()),s=this._active,r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{let a=zs[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);let c=this._size=Jh(this,i),u=Object.assign({},a,c),d=Kh(this.chart,i,u),f=Qh(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){let r=this.getCaretPosition(t,i,s);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){let{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=li(a),{x:p,y:g}=t,{width:_,height:b}=e,w,S,C,E,F,M;return r==="center"?(F=g+b/2,s==="left"?(w=p,S=w-o,E=F+o,M=F-o):(w=p+_,S=w+o,E=F-o,M=F+o),C=w):(s==="left"?S=p+Math.max(c,d)+o:s==="right"?S=p+_-Math.max(u,f)-o:S=this.caretX,r==="top"?(E=g,F=E-o,w=S-o,C=S+o):(E=g+b,F=E+o,w=S+o,C=S-o),M=E),{x1:w,x2:S,x3:C,y1:E,y2:F,y3:M}}drawTitle(t,e,i){let s=this.title,r=s.length,o,a,c;if(r){let u=ci(i.rtl,this.x,this.width);for(t.x=Kr(this,i.titleAlign,i),e.textAlign=u.textAlign(i.titleAlign),e.textBaseline="middle",o=Xt(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,c=0;c<r;++c)e.fillText(s[c],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,c+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,s,r){let o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:c,boxWidth:u}=r,d=Xt(r.bodyFont),f=Kr(this,"left",r),p=s.x(f),g=c<d.lineHeight?(d.lineHeight-c)/2:0,_=e.y+g;if(r.usePointStyle){let b={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=s.leftForLtr(p,u)+u/2,S=_+c/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Hr(t,b,w,S),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Hr(t,b,w,S)}else{t.lineWidth=vt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;let b=s.leftForLtr(p,u),w=s.leftForLtr(s.xPlus(p,1),u-2),S=li(o.borderRadius);Object.values(S).some(C=>C!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Os(t,{x:b,y:_,w:u,h:c,radius:S}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Os(t,{x:w,y:_+1,w:u-2,h:c-2,radius:S}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(b,_,u,c),t.strokeRect(b,_,u,c),t.fillStyle=o.backgroundColor,t.fillRect(w,_+1,u-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){let{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:u,boxPadding:d}=i,f=Xt(i.bodyFont),p=f.lineHeight,g=0,_=ci(i.rtl,this.x,this.width),b=function(N){e.fillText(N,_.x(t.x+g),t.y+p/2),t.y+=p+r},w=_.textAlign(o),S,C,E,F,M,P,R;for(e.textAlign=o,e.textBaseline="middle",e.font=f.string,t.x=Kr(this,w,i),e.fillStyle=i.bodyColor,At(this.beforeBody,b),g=a&&w!=="right"?o==="center"?u/2+d:u+2+d:0,F=0,P=s.length;F<P;++F){for(S=s[F],C=this.labelTextColors[F],e.fillStyle=C,At(S.before,b),E=S.lines,a&&E.length&&(this._drawColorBox(e,t,F,_,i),p=Math.max(f.lineHeight,c)),M=0,R=E.length;M<R;++M)b(E[M]),p=f.lineHeight;At(S.after,b)}g=0,p=f.lineHeight,At(this.afterBody,b),t.y-=r}drawFooter(t,e,i){let s=this.footer,r=s.length,o,a;if(r){let c=ci(i.rtl,this.x,this.width);for(t.x=Kr(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=c.textAlign(i.footerAlign),e.textBaseline="middle",o=Xt(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<r;++a)e.fillText(s[a],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){let{xAlign:r,yAlign:o}=this,{x:a,y:c}=t,{width:u,height:d}=i,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:_}=li(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+f,c),o==="top"&&this.drawCaret(t,e,i,s),e.lineTo(a+u-p,c),e.quadraticCurveTo(a+u,c,a+u,c+p),o==="center"&&r==="right"&&this.drawCaret(t,e,i,s),e.lineTo(a+u,c+d-_),e.quadraticCurveTo(a+u,c+d,a+u-_,c+d),o==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(a+g,c+d),e.quadraticCurveTo(a,c+d,a,c+d-g),o==="center"&&r==="left"&&this.drawCaret(t,e,i,s),e.lineTo(a,c+f),e.quadraticCurveTo(a,c,a+f,c),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){let o=zs[t.position].call(this,this._active,this._eventPosition);if(!o)return;let a=this._size=Jh(this,t),c=Object.assign({},o,this._size),u=Kh(e,t,c),d=Qh(t,c,u,e);(s._to!==d.x||r._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(e);let s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let o=ie(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,e),Qa(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),tl(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let i=this._active,s=t.map(({datasetIndex:a,index:c})=>{let u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[c],index:c}}),r=!Es(i,s),o=this._positionChanged(s,e);(r||o)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,i),a=this._positionChanged(o,t),c=e||!Es(o,r)||a;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),c}_getActiveElements(t,e,i,s){let r=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);let o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,e){let{caretX:i,caretY:s,options:r}=this,o=zs[r.position].call(this,t,e);return o!==!1&&(i!==o.x||s!==o.y)}};at(Ws,"positioners",zs);var Td={id:"tooltip",_element:Ws,positioners:zs,afterInit(n,t,e){e&&(n.tooltip=new Ws({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Dd},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};var Sv=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Ev(n,t,e,i){let s=n.indexOf(t);if(s===-1)return Sv(n,t,e,i);let r=n.lastIndexOf(t);return s!==r?e:s}var Cv=(n,t)=>n===null?null:Pe(Math.round(n),0,t);function nd(n){let t=this.getLabels();return n>=0&&n<t.length?t[n]:n}var ji=class extends gi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let e=this._addedLabels;if(e.length){let i=this.getLabels();for(let{index:s,label:r}of e)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ft(t))return null;let i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:Ev(i,t,yt(e,t),this._addedLabels),Cv(e,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){let t=this.min,e=this.max,i=this.options.offset,s=[],r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)s.push({value:o});return s}getLabelForValue(t){return nd.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}};at(ji,"id","category"),at(ji,"defaults",{ticks:{callback:nd}});function Av(n,t){let e=[],{bounds:s,step:r,min:o,max:a,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:p}=n,g=r||1,_=d-1,{min:b,max:w}=t,S=!Ft(o),C=!Ft(a),E=!Ft(u),F=(w-b)/(f+1),M=Ia((w-b)/_/g)*g,P,R,N,Y;if(M<1e-14&&!S&&!C)return[{value:b},{value:w}];Y=Math.ceil(w/M)-Math.floor(b/M),Y>_&&(M=Ia(Y*M/_/g)*g),Ft(c)||(P=Math.pow(10,c),M=Math.ceil(M*P)/P),s==="ticks"?(R=Math.floor(b/M)*M,N=Math.ceil(w/M)*M):(R=b,N=w),S&&C&&r&&Hu((a-o)/r,M/1e3)?(Y=Math.round(Math.min((a-o)/M,d)),M=(a-o)/Y,R=o,N=a):E?(R=S?o:R,N=C?a:N,Y=u-1,M=(N-R)/Y):(Y=(N-R)/M,Bi(Y,Math.round(Y),M/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));let T=Math.max(Ba(M),Ba(R));P=Math.pow(10,Ft(c)?T:c),R=Math.round(R*P)/P,N=Math.round(N*P)/P;let I=0;for(S&&(p&&R!==o?(e.push({value:o}),R<o&&I++,Bi(Math.round((R+I*M)*P)/P,o,id(o,F,n))&&I++):R<o&&I++);I<Y;++I){let x=Math.round((R+I*M)*P)/P;if(C&&x>a)break;e.push({value:x})}return C&&p&&N!==a?e.length&&Bi(e[e.length-1].value,a,id(a,F,n))?e[e.length-1].value=a:e.push({value:a}):(!C||N===a)&&e.push({value:N}),e}function id(n,t,{horizontal:e,minRotation:i}){let s=kn(i),r=(e?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+n).length;return Math.min(t/r,o)}var Vi=class extends gi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ft(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:s,max:r}=this,o=c=>s=e?s:c,a=c=>r=i?r:c;if(t){let c=ri(s),u=ri(r);c<0&&u<0?a(0):c>0&&u>0&&o(0)}if(s===r){let c=r===0?1:Math.abs(r*.05);a(r+c),t||o(s-c)}this.min=s,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=Av(s,r);return t.bounds==="ticks"&&Na(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return $r(t,this.chart.options.locale,this.options.ticks.format)}},Hi=class extends Vi{determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=jt(t)?t:0,this.max=jt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=kn(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}};at(Hi,"id","linear"),at(Hi,"defaults",{ticks:{callback:Ds.formatters.numeric}});var js=n=>Math.floor(xn(n)),hi=(n,t)=>Math.pow(10,js(n)+t);function sd(n){return n/Math.pow(10,js(n))===1}function rd(n,t,e){let i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function Dv(n,t){let e=t-n,i=js(e);for(;rd(n,t,i)>10;)i++;for(;rd(n,t,i)<10;)i--;return Math.min(i,js(n))}function Tv(n,{min:t,max:e}){t=we(n.min,t);let i=[],s=js(t),r=Dv(t,e),o=r<0?Math.pow(10,Math.abs(r)):1,a=Math.pow(10,r),c=s>r?Math.pow(10,s):0,u=Math.round((t-c)*o)/o,d=Math.floor((t-c)/a/10)*a*10,f=Math.floor((u-d)/Math.pow(10,r)),p=we(n.min,Math.round((c+d+f*Math.pow(10,r))*o)/o);for(;p<e;)i.push({value:p,major:sd(p),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(r++,f=2,o=r>=0?1:o),p=Math.round((c+d+f*Math.pow(10,r))*o)/o;let g=we(n.max,p);return i.push({value:g,major:sd(g),significand:f}),i}var Qr=class extends gi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=Vi.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return jt(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=jt(t)?Math.max(0,t):null,this.max=jt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!jt(this._userMin)&&(this.min=t===hi(this.min,0)?hi(this.min,-1):hi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,s=this.max,r=a=>i=t?i:a,o=a=>s=e?s:a;i===s&&(i<=0?(r(1),o(10)):(r(hi(i,-1)),o(hi(s,1)))),i<=0&&r(hi(s,-1)),s<=0&&o(hi(i,1)),this.min=i,this.max=s}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=Tv(e,this);return t.bounds==="ticks"&&Na(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":$r(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=xn(t),this._valueRange=xn(this.max)-xn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(xn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};at(Qr,"id","logarithmic"),at(Qr,"defaults",{ticks:{callback:Ds.formatters.logarithmic,major:{enabled:!0}}});function wl(n){let t=n.ticks;if(t.display&&n.display){let e=ie(t.backdropPadding);return yt(t.font&&t.font.size,Ht.font.size)+e.height}return 0}function Mv(n,t,e){return e=Lt(e)?e:[e],{w:nh(n,t.string,e),h:e.length*t.lineHeight}}function od(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function Ov(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Yt/r:0;for(let c=0;c<r;c++){let u=o.setContext(n.getPointLabelContext(c));s[c]=u.padding;let d=n.getPointPosition(c,n.drawingArea+s[c],a),f=Xt(u.font),p=Mv(n.ctx,f,n._pointLabels[c]);i[c]=p;let g=be(n.getIndexAngle(c)+a),_=Math.round(Br(g)),b=od(_,d.x,p.w,0,180),w=od(_,d.y,p.h,90,270);Pv(e,t,g,b,w)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=Lv(n,i,s)}function Pv(n,t,e,i,s){let r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),a=0,c=0;i.start<t.l?(a=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),s.start<t.t?(c=(t.t-s.start)/o,n.t=Math.min(n.t,t.t-c)):s.end>t.b&&(c=(s.end-t.b)/o,n.b=Math.max(n.b,t.b+c))}function Fv(n,t,e){let i=n.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=e,c=n.getPointPosition(t,i+s+o,r),u=Math.round(Br(be(c.angle+ye))),d=Bv(c.y,a.h,u),f=Iv(u),p=Nv(c.x,a.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:p,top:d,right:p+a.w,bottom:d+a.h}}function Rv(n,t){if(!t)return!0;let{left:e,top:i,right:s,bottom:r}=n;return!(Ke({x:e,y:i},t)||Ke({x:e,y:r},t)||Ke({x:s,y:i},t)||Ke({x:s,y:r},t))}function Lv(n,t,e){let i=[],s=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:a}=r.pointLabels,c={extra:wl(r)/2,additionalAngle:o?Yt/s:0},u;for(let d=0;d<s;d++){c.padding=e[d],c.size=t[d];let f=Fv(n,d,c);i.push(f),a==="auto"&&(f.visible=Rv(f,u),f.visible&&(u=f))}return i}function Iv(n){return n===0||n===180?"center":n<180?"left":"right"}function Nv(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function Bv(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function zv(n,t,e){let{left:i,top:s,right:r,bottom:o}=e,{backdropColor:a}=t;if(!Ft(a)){let c=li(t.borderRadius),u=ie(t.backdropPadding);n.fillStyle=a;let d=i-u.left,f=s-u.top,p=r-i+u.width,g=o-s+u.height;Object.values(c).some(_=>_!==0)?(n.beginPath(),Os(n,{x:d,y:f,w:p,h:g,radius:c}),n.fill()):n.fillRect(d,f,p,g)}}function Wv(n,t){let{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){let r=n._pointLabelItems[s];if(!r.visible)continue;let o=i.setContext(n.getPointLabelContext(s));zv(e,o,r);let a=Xt(o.font),{x:c,y:u,textAlign:d}=r;Un(e,n._pointLabels[s],c,u+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function Md(n,t,e,i){let{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,ve);else{let r=n.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=n.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function $v(n,t,e,i,s){let r=n.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!i||!a||!c||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),Md(n,e,o,i),r.closePath(),r.stroke(),r.restore())}function jv(n,t,e){return Sn(n,{label:e,index:t,type:"pointLabel"})}var Wi=class extends Vi{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=ie(wl(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=jt(t)&&!isNaN(t)?t:0,this.max=jt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wl(this.options))}generateTickLabels(t){Vi.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{let s=Pt(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?Ov(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){let e=ve/(this._pointLabels.length||1),i=this.options.startAngle||0;return be(t*e+kn(i))}getDistanceFromCenterForValue(t){if(Ft(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Ft(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return jv(this.getContext(),t,i)}}getPointPosition(t,e,i=0){let s=this.getIndexAngle(t)-ye+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),Md(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:i,grid:s,border:r}=e,o=this._pointLabels.length,a,c,u;if(e.pointLabels.display&&Wv(this,o),s.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);let p=this.getContext(f),g=s.setContext(p),_=r.setContext(p);$v(this,g,c,o,_)}}),i.display){for(t.save(),a=o-1;a>=0;a--){let d=i.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:p}=d;!p||!f||(t.lineWidth=p,t.strokeStyle=f,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),u=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let s=this.getIndexAngle(0),r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!e.reverse)return;let u=i.setContext(this.getContext(c)),d=Xt(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){t.font=d.string,o=t.measureText(a.label).width,t.fillStyle=u.backdropColor;let f=ie(u.backdropPadding);t.fillRect(-o/2-f.left,-r-d.size/2-f.top,o+f.width,d.size+f.height)}Un(t,a.label,0,-r,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}};at(Wi,"id","radialLinear"),at(Wi,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ds.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),at(Wi,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),at(Wi,"descriptors",{angleLines:{_fallback:"grid"}});var uo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ke=Object.keys(uo);function ad(n,t){return n-t}function ld(n,t){if(Ft(t))return null;let e=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts,o=t;return typeof i=="function"&&(o=i(o)),jt(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(s&&(o=s==="week"&&(zi(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,s)),+o)}function cd(n,t,e,i){let s=ke.length;for(let r=ke.indexOf(n);r<s-1;++r){let o=uo[ke[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return ke[r]}return ke[s-1]}function Hv(n,t,e,i,s){for(let r=ke.length-1;r>=ke.indexOf(e);r--){let o=ke[r];if(uo[o].common&&n._adapter.diff(s,i,o)>=t-1)return o}return ke[e?ke.indexOf(e):0]}function Uv(n){for(let t=ke.indexOf(n)+1,e=ke.length;t<e;++t)if(uo[ke[t]].common)return ke[t]}function ud(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:i,hi:s}=zr(e,t),r=e[i]>=t?e[i]:e[s];n[r]=!0}}function Vv(n,t,e,i){let s=n._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value,a,c;for(a=r;a<=o;a=+s.add(a,1,i))c=e[a],c>=0&&(t[c].major=!0);return t}function hd(n,t,e){let i=[],s={},r=t.length,o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!e?i:Vv(n,i,s,e)}var Ui=class extends gi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let i=t.time||(t.time={}),s=this._adapter=new Py._date(t.adapters.date);s.init(e),Ni(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:ld(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,i=t.time.unit||"day",{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=jt(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),r=jt(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){let t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let r=this.min,o=this.max,a=Gu(s,r,o);return this._unit=e.unit||(i.autoSkip?cd(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):Hv(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Uv(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),hd(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);let o=t.length<3?.5:.25;e=Pe(e,0,o),i=Pe(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){let t=this._adapter,e=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||cd(r.minUnit,e,i,this._getLabelCapacity(e)),a=yt(s.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,u=zi(c)||c===!0,d={},f=e,p,g;if(u&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,u?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);let _=s.ticks.source==="data"&&this.getDataTimestamps();for(p=f,g=0;p<i;p=+t.add(p,a,o),g++)ud(d,p,_);return(p===i||s.bounds==="ticks"||g===1)&&ud(d,p,_),Object.keys(d).sort(ad).map(b=>+b)}getLabelForValue(t){let e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){let s=this.options.time.displayFormats,r=this._unit,o=e||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,s){let r=this.options,o=r.ticks.callback;if(o)return Pt(o,[t,e,i],this);let a=r.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&a[c],f=u&&a[u],p=i[e],g=u&&f&&p&&p.major;return this._adapter.format(t,s||(g?f:d))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,i=this.ctx.measureText(t).width,s=kn(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){let e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,hd(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],e,i;if(t.length)return t;let s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(ld(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Xu(t.sort(ad))}};at(Ui,"id","time"),at(Ui,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function to(n,t,e){let i=0,s=n.length-1,r,o,a,c;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=$n(n,"pos",t)),{pos:r,time:a}=n[i],{pos:o,time:c}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=$n(n,"time",t)),{time:r,pos:a}=n[i],{time:o,pos:c}=n[s]);let u=o-r;return u?a+(c-a)*(t-r)/u:a}var eo=class extends Ui{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=to(e,this.min),this._tableRange=to(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:i}=this,s=[],r=[],o,a,c,u,d;for(o=0,a=t.length;o<a;++o)u=t[o],u>=e&&u<=i&&s.push(u);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],c=s[o-1],u=s[o],Math.round((d+c)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(to(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return to(this._table,i*this._tableRange+this._minPos,!0)}};at(eo,"id","timeseries"),at(eo,"defaults",Ui.defaults);var Od=/^on/,Pd=[];Object.keys(globalThis).forEach(n=>{Od.test(n)&&Pd.push(n.replace(Od,""))});function Ve(n){let t=Je,e=[];function i(s){gu(t,s)}ms(()=>{let s=n();Pd.forEach(s instanceof Element?r=>e.push(ba(s,r,i)):r=>e.push(s.$on(r,i)))}),_s(()=>{for(;e.length;)e.pop()()})}function Yv(n){let t,e=[n[1]],i={};for(let s=0;s<e.length;s+=1)i=ue(i,e[s]);return{c(){t=de("canvas"),hu(t,i)},m(s,r){qt(s,t,r),n[8](t)},p:ct,i:ct,o:ct,d(s){s&&Ut(t),n[8](null)}}}function Gv(n){let{data:t,type:e,options:i,plugins:s,children:r,$$scope:o,$$slots:a,...c}=n;return c}function qv(n,t,e){let{type:i}=t,{data:s={datasets:[]}}=t,{options:r={}}=t,{plugins:o=[]}=t,{updateMode:a=void 0}=t,{chart:c=null}=t,u,d=Gv(t);ms(()=>{e(2,c=new pe(u,{type:i,data:s,options:r,plugins:o}))}),ya(()=>{c&&(e(2,c.data=s,c),Object.assign(c.options,r),c.update(a))}),_s(()=>{c&&c.destroy(),e(2,c=null)}),Ve(()=>u);function f(p){_e[p?"unshift":"push"](()=>{u=p,e(0,u)})}return n.$$set=p=>{e(9,t=ue(ue({},t),De(p))),"type"in p&&e(3,i=p.type),"data"in p&&e(4,s=p.data),"options"in p&&e(5,r=p.options),"plugins"in p&&e(6,o=p.plugins),"updateMode"in p&&e(7,a=p.updateMode),"chart"in p&&e(2,c=p.chart)},t=De(t),[u,d,c,i,s,r,o,a,f]}var kl=class extends te{constructor(t){super(),fe(this,t,qv,Yv,he,{type:3,data:4,options:5,plugins:6,updateMode:7,chart:2})}},nn=kl;function Zv(n){let t,e,i,s=[{type:"line"},n[1]];function r(a){n[4](a)}let o={};for(let a=0;a<s.length;a+=1)o=ue(o,s[a]);return n[0]!==void 0&&(o.chart=n[0]),t=new nn({props:o}),n[3](t),_e.push(()=>yn(t,"chart",r)),{c(){Le(t.$$.fragment)},m(a,c){Me(t,a,c),i=!0},p(a,[c]){let u=c&2?_n(s,[s[0],bn(a[1])]):{};!e&&c&1&&(e=!0,u.chart=a[0],gn(()=>e=!1)),t.$set(u)},i(a){i||(Qt(t.$$.fragment,a),i=!0)},o(a){re(t.$$.fragment,a),i=!1},d(a){n[3](null),Oe(t,a)}}}function Xv(n,t,e){pe.register(fi);let{chart:i=null}=t,s,r;Ve(()=>r);function o(c){_e[c?"unshift":"push"](()=>{r=c,e(2,r)})}function a(c){i=c,e(0,i)}return n.$$set=c=>{e(5,t=ue(ue({},t),De(c))),"chart"in c&&e(0,i=c.chart)},n.$$.update=()=>{e(1,s=t)},t=De(t),[i,s,r,o,a]}var Sl=class extends te{constructor(t){super(),fe(this,t,Xv,Zv,he,{chart:0})}},ho=Sl;function Jv(n){xr(n,"svelte-169aap0","#statistics-line-chart.svelte-169aap0{--backgroundColor:rgba(225, 204,230, .4);--backgroundColor-1:rgba(255, 99, 132, 0.2);--borderColor-1:rgb(205, 130, 158);--point-border-color:rgb(205, 130,1 58);--pointBackgroundColor:rgb(255, 255, 255);--pointHoverBackgroundColor:rgb(0, 0, 0);--pointHoverBorderColor:rgba(220, 220, 220,1);--pageDataColor:rgb(255, 136, 0);position:relative;height:100%;width:100%;background-color:rgba(255, 255, 255, 0.9)}")}function Kv(n){let t,e;return t=new ho({props:{data:n[0],options:n[2]}}),{c(){Le(t.$$.fragment)},m(i,s){Me(t,i,s),e=!0},p:ct,i(i){e||(Qt(t.$$.fragment,i),e=!0)},o(i){re(t.$$.fragment,i),e=!1},d(i){Oe(t,i)}}}function Qv(n){let t,e;return t=new ho({props:{data:n[1],options:n[3]}}),{c(){Le(t.$$.fragment)},m(i,s){Me(t,i,s),e=!0},p:ct,i(i){e||(Qt(t.$$.fragment,i),e=!0)},o(i){re(t.$$.fragment,i),e=!1},d(i){Oe(t,i)}}}function tw(n){let t,e,i,s,r,o=[Qv,Kv],a=[];function c(u,d){return u[4]()?0:1}return i=c(n,-1),s=a[i]=o[i](n),{c(){t=de("div"),s.c(),Zt(t,"id","statistics-line-chart"),Zt(t,"class","svelte-169aap0")},m(u,d){qt(u,t,d),a[i].m(t,null),r=!0},p(u,[d]){s.p(u,d)},i(u){r||(Qt(s),r=!0)},o(u){re(s),r=!1},d(u){u&&Ut(t),a[i].d()}}}var ew=1e4;function nw(n,t,e){let{app:i}=t,{plugin:s}=t,{staticsFileData:r}=t,o=JSON.parse(r),a=[],c=[],u=[],d=[],f=Object.keys(o.history);for(let P of f)a.push({key:P,value:o.history[P].words}),c.push({key:P,value:-o.history[P].pages}),u.push({key:P,value:Number(o.history[P].files)}),d.push({key:P,value:Number(o.history[P].totalPages)});let p=ew/f.length,_={x:{type:"number",easing:"linear",duration:p,from:NaN,delay(P){return P.type!=="data"||P.xStarted?0:(P.xStarted=!0,P.index*p)}},y:{type:"number",easing:"linear",duration:p,from:P=>P.index===0?P.chart.scales.y.getPixelForValue(100):P.chart.getDatasetMeta(P.datasetIndex).data[P.index-1].getProps(["y"],!0).y,delay(P){return P.type!=="data"||P.yStarted?0:(P.yStarted=!0,P.index*p)}}},b={tension:{duration:1e3,easing:"linear",from:1,to:0,loop:!0}},w;s.settings.animation?w=_:w=b;let S={datasets:[{label:"Daily Words",fill:!0,data:a,backgroundColor:["rgba(255, 99, 132, 0.2)"],borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1,yAxisID:"y",parsing:{xAxisKey:"key",yAxisKey:"value"},cubicInterpolationMode:"monotone",pointStyle:"rectRounded"},{label:"Daily Pages",fill:!0,data:c,backgroundColor:["rgba(238, 130, 238, 0.2)"],borderColor:["rgba(238, 130, 238, 1)"],borderWidth:1,yAxisID:"y1",parsing:{xAxisKey:"key",yAxisKey:"value"},cubicInterpolationMode:"monotone",pointStyle:"rectRounded"}]},C={datasets:[{label:"Total Files",fill:!0,data:u,backgroundColor:["rgba(153, 102, 255, 0.2)"],borderColor:["rgba(153, 102, 255, 1)"],borderWidth:1,yAxisID:"y",parsing:{xAxisKey:"key",yAxisKey:"value"},cubicInterpolationMode:"monotone",pointStyle:"rectRounded"},{label:"Total Pages",fill:!0,data:d,backgroundColor:["rgba(255, 205, 86, 0.2)"],borderColor:["rgba(255, 205, 86, 1)"],borderWidth:1,yAxisID:"y1",parsing:{xAxisKey:"key",yAxisKey:"value"},cubicInterpolationMode:"monotone",pointStyle:"rectRounded"}]},E={responsive:!0,interaction:{intersect:!0,mode:"index"},plugins:{title:{display:!0,text:"Statistics of Obsidian Vault",font:{weight:"bold",size:16,family:"Barlow"},color:"rgba(48,48,48,1)"},subtitle:{display:!0,text:"words of vault named as Anthelion",font:{size:14,style:"italic",family:"sans-serif",weight:"bold"},color:"rgba(48,48,48,0.8)"},legend:{labels:{color:"rgba(0,0,0,1)",usePointStyle:!0,pointStyle:"rectRounded"}},tooltip:{usePointStyle:!0}},animations:w,scales:{y:{border:{display:!0,width:.8},grid:{display:!0,drawOnChartArea:!0,drawTicks:!0,color:"rgba(59, 59, 59, 0.2)"},title:{display:!0,text:"+words",font:{size:15,style:"italic",weight:"bold"},color:"rgba(255, 99, 132, 1)"},ticks:{color:"rgba(255, 99, 132, 1)",showLabelBackdrop:!1}},y1:{position:"right",border:{display:!0,width:.8},grid:{display:!0,drawOnChartArea:!0,drawTicks:!0,color:"rgba(59, 59, 59, 0.2)"},title:{display:!0,text:"-pages",font:{size:15,style:"italic",weight:"bold"},color:"rgba(238, 130, 238, 1)"},ticks:{color:"rgba(238, 130, 238, 1)",showLabelBackdrop:!1}},x:{border:{display:!1,width:.8},grid:{color:"rgba(59, 59, 59, 0.2)"},ticks:{}}}},F={interaction:{mode:"index",axis:"y"},plugins:{title:{display:!0,text:"Statistics of Obsidian Vault",font:{weight:"bold",size:16,family:"Barlow"}},subtitle:{display:!0,text:"total files/pages of vault named as "+i.vault.getName(),font:{size:14,style:"italic",family:"sans-serif"}},legend:{labels:{color:"rgba(0,0,0,1)",usePointStyle:!0,pointStyle:"rectRounded"}},tooltip:{usePointStyle:!0}},animations:w,scales:{y:{border:{display:!0,width:.8},grid:{display:!0,drawOnChartArea:!0,drawTicks:!0,color:"rgba(59, 59, 59, 0.2)"},title:{display:!0,text:"total-files",font:{size:15,style:"italic",weight:"bold",family:"Courier New"},color:"rgba(153, 102, 255, 1)"},ticks:{color:"rgba(153, 102, 255, 0.5)",showLabelBackdrop:!1},suggestedMin:1373},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"total-pages",font:{size:15,style:"italic",weight:"bold",family:"Courier New"},color:"rgba(255, 205, 86, 1)"},ticks:{color:"rgba(255, 205, 86, 1)",showLabelBackdrop:!1},suggestedMin:4045},x:{border:{display:!1,width:.8},grid:{color:"rgba(59, 59, 59, 0.2)"}}}},M=()=>s.settings.statisticsType==="total";return pe.register(Ad,Td,Cd,He,Hi,pi,ji,Sd),n.$$set=P=>{"app"in P&&e(5,i=P.app),"plugin"in P&&e(6,s=P.plugin),"staticsFileData"in P&&e(7,r=P.staticsFileData)},[S,C,E,F,M,i,s,r]}var El=class extends te{constructor(t){super(),fe(this,t,nw,tw,he,{app:5,plugin:6,staticsFileData:7},Jv)}},Cl=El;var fo="PluginAST_STAT",Al=new RegExp("%%[\\s\\S]*?(?!%%)[\\s\\S]+?%%","g"),Dl=new RegExp("<!--[\\s\\S]*?(?:-->)?<!---+>?|<!(?![dD][oO][cC][tT][yY][pP][eE]|\\[CDATA\\[)[^>]*>?|<[?][^>]*>?","g"),Fd="stats.json";var Yn="vault-statistics-preview",po=class extends go.ItemView{constructor(t,e,i){super(i),this.app=t,this.plugin=e,this.staticsFileData="",(0,go.addIcon)(fo,ce[fo])}getViewType(){return Yn}getDisplayText(){return"Vault Statistics Preview"}getIcon(){return fo}async onOpen(){let t=this.app.vault.configDir+"/"+Fd;this.staticsFileData=await this.app.vault.adapter.read(t);let e=this.containerEl.getElementsByClassName("view-content");this.component=new Cl({target:e[0],props:{app:this.app,plugin:this.plugin,staticsFileData:this.staticsFileData}}),this.containerEl.getElementsByTagName("canvas")[0].setAttribute("style","position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);")}async onClose(){this.component.$destroy()}onResize(){this.component.$destroy();let t=this.containerEl.getElementsByClassName("view-content");this.component=new Cl({target:t[0],props:{app:this.app,plugin:this.plugin,staticsFileData:this.staticsFileData}}),this.containerEl.getElementsByTagName("canvas")[0].setAttribute("style","position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);")}};var Ld={debug:!1,targetPath:".",fileFormat:"YYYY-MM-DD",previewLimits:5,previewTags:[],localGraph:{notice:"show current note grah view",type:"popover",depth:2,showTags:!0,showAttach:!0,showNeighbor:!0,collapse:!1,autoColors:!1,resizeStyle:{width:550,height:500}},memos:{resizeStyle:{width:550,height:500}},enableGraphColors:!1,colorGroups:[{query:"path:/",color:{a:1,rgb:6617700}}],enableMetadataUpdating:!1,metadatas:[{key:"modify",value:"YYYY-MM-DD HH:mm:ss",t:"moment"}],metadataExcludePath:[],isEnabledMetadataUpdating:!1,cachePluginRepo:{"personal-assistant":"edonyzpc/personal-assistant"},cacheThemeRepo:{Minimal:"kepano/obsidian-minimal"},statisticsType:"none",statsPath:".obsidian/stats.json",displaySectionCounts:!1,countComments:!1,animation:!1},Rd={query:"path:/",color:{a:1,rgb:6617700}},mo=class extends Dt.PluginSettingTab{constructor(t,e){super(t,e),this.plugin=e,this.log=(...i)=>e.log(...i)}display(){let t=this.plugin,{containerEl:e}=this;e.empty(),e.createEl("h1",{text:"Settings for Obsidian Assistant"});let i=document.createElement("a");i.setText("Open GitHub repository"),i.href="https://github.com/edonyzpc/personal-assistant",i.setAttr("style","font-style: italic;"),e.createEl("p",{text:"Obsidian Assistant by Shadow Walker, "}).appendChild(i),new Dt.Setting(e).setName("Debug").addToggle(p=>p.setValue(this.plugin.settings.debug).onChange(g=>{this.plugin.settings.debug=g,this.plugin.saveSettings()})),e.createEl("h2",{text:"Settings for Record"}),e.createEl("p",{text:"Obsidian Management for Recording in Specific Path"}).setAttr("style","font-size:14px"),new Dt.Setting(e).setName("Target Path").setDesc("Target directory to do recording").addText(p=>p.setPlaceholder(".").setValue(this.plugin.settings.targetPath).onChange(async g=>{this.log("target path: "+g),t.settings.targetPath=g,await this.plugin.saveSettings()}));let s=document.createDocumentFragment();s.createEl("p",void 0,p=>{p.innerText=`File format which is like Diary setting.
For more syntax details, `,p.createEl("a",void 0,g=>{g.innerText="please check moment format.",g.href="https://momentjs.com/docs/#/displaying/format/"})}),new Dt.Setting(e).setName("File Format").setDesc(s).addText(p=>p.setPlaceholder("YYYY-MM-DD").setValue(this.plugin.settings.fileFormat).onChange(async g=>{this.log("format setting: "+g),t.settings.fileFormat=g,await this.plugin.saveSettings()})),new Dt.Setting(e).setName("Preview Number").setDesc("File numbers to preview").addText(p=>{p.setPlaceholder("5").setValue(this.plugin.settings.previewLimits.toString()).onChange(async g=>{t.settings.previewLimits=parseInt(g),await this.plugin.saveSettings()})}),e.createEl("h2",{text:"Settings for Hover Local Graph"}),e.createEl("p",{text:"Obsidian Management for Hover Local Graph"}).setAttr("style","font-size:14px"),new Dt.Setting(e).setName("Type").setDesc("Type of hover").addText(p=>{p.setPlaceholder("popover").setValue(this.plugin.settings.localGraph.type).onChange(async g=>{t.settings.localGraph.type=g,await this.plugin.saveSettings()})}),new Dt.Setting(e).setName("Depth").setDesc("Depth of link jumps").addText(p=>{p.setPlaceholder("2").setValue(this.plugin.settings.localGraph.depth.toString()).onChange(async g=>{t.settings.localGraph.depth=parseInt(g),await this.plugin.saveSettings()})}),new Dt.Setting(e).setName("Show Tags").setDesc("Show tags in local graph view").addToggle(p=>{p.setValue(this.plugin.settings.localGraph.showTags).onChange(async g=>{t.settings.localGraph.showTags=g,await this.plugin.saveSettings()})}),new Dt.Setting(e).setName("Show Attachment").setDesc("Show attachments in local graph view").addToggle(p=>{p.setValue(this.plugin.settings.localGraph.showAttach).onChange(async g=>{t.settings.localGraph.showAttach=g,await this.plugin.saveSettings()})}),new Dt.Setting(e).setName("Show Neighbor").setDesc("Show neighbors in local graph view").addToggle(p=>{p.setValue(this.plugin.settings.localGraph.showNeighbor).onChange(async g=>{t.settings.localGraph.showNeighbor=g,await this.plugin.saveSettings()})}),new Dt.Setting(e).setName("Collapse").setDesc("Collapse local graph view setting").addToggle(p=>{p.setValue(this.plugin.settings.localGraph.collapse).onChange(async g=>{t.settings.localGraph.collapse=g,await this.plugin.saveSettings()})}),new Dt.Setting(e).setName("Auto Local Graph Colors").setDesc("Automatically set colors of local graph view.").addToggle(p=>{p.setValue(t.settings.localGraph.autoColors).onChange(async g=>{t.settings.localGraph.autoColors=g,await t.saveSettings()})}),e.createEl("p",{text:"Graph Resize"}).setAttr("style","font-size:15px");let r=document.createDocumentFragment();r.createEl("span",void 0,p=>{p.innerText="height",p.setAttr("style","margin:18px")});let o=document.createDocumentFragment();o.createEl("span",void 0,p=>{p.innerText="width",p.setAttr("style","margin:18px")}),document.createDocumentFragment().createEl("span",void 0,p=>{p.innerText="top",p.setAttr("style","margin:18px")}),document.createDocumentFragment().createEl("span",void 0,p=>{p.innerText="left",p.setAttr("style","margin:18px")}),new Dt.Setting(e).setName(r).addText(p=>{p.setPlaceholder("height").setValue(this.plugin.settings.localGraph.resizeStyle.height.toString()).onChange(async g=>{t.settings.localGraph.resizeStyle.height=parseInt(g),await this.plugin.saveSettings()})}),new Dt.Setting(e).setName(o).addText(p=>{p.setPlaceholder("width").setValue(this.plugin.settings.localGraph.resizeStyle.width.toString()).onChange(async g=>{t.settings.localGraph.resizeStyle.width=parseInt(g),await this.plugin.saveSettings()})}),e.createEl("h2",{text:"Settings for Memos"}),e.createEl("p",{text:"Memos Resize"}).setAttr("style","font-size:15px");let u=document.createDocumentFragment();u.createEl("span",void 0,p=>{p.innerText="height",p.setAttr("style","margin:18px")});let d=document.createDocumentFragment();d.createEl("span",void 0,p=>{p.innerText="width",p.setAttr("style","margin:18px")}),new Dt.Setting(e).setName(u).addText(p=>{p.setPlaceholder("height").setValue(this.plugin.settings.memos.resizeStyle.height.toString()).onChange(async g=>{t.settings.memos.resizeStyle.height=parseInt(g),await this.plugin.saveSettings()})}),new Dt.Setting(e).setName(d).addText(p=>{p.setPlaceholder("width").setValue(this.plugin.settings.memos.resizeStyle.width.toString()).onChange(async g=>{t.settings.memos.resizeStyle.width=parseInt(g),await this.plugin.saveSettings()})}),new Dt.Setting(e).setName("Enable Graph Colors").setDesc("Use personal assistant set colors of graph view.").addToggle(p=>{p.setValue(t.settings.enableGraphColors).onChange(async g=>{t.settings.enableGraphColors=g,await t.saveSettings(),this.display()})}),t.settings.enableGraphColors&&(JSON.parse(JSON.stringify(t.settings.colorGroups)).forEach(g=>{let _=this.findGraphColor(g),b=`#${g.color.rgb.toString(16)}`,S=(E=>{let F=parseInt(E.slice(1,3),16),M=parseInt(E.slice(3,5),16),P=parseInt(E.slice(5,7),16);return"rgb("+F+", "+M+", "+P+")"})(b),C=document.createDocumentFragment();C.createSpan({text:"\u25CF",attr:{style:`color: ${b}`}}),C.appendText(` Color for #${g.query}`),new Dt.Setting(e).setName(C).setDesc("This will be the Color used in the graph view.").addText(E=>{E.setValue(t.settings.colorGroups[_].query).onChange(async F=>{_>-1&&(t.settings.colorGroups[_].query=F,await this.plugin.saveSettings())})}).addButton(E=>{E.setButtonText("Change Color"),new ga({parent:E.buttonEl,onDone:async F=>{let M=F.hex.split("#")[1];this.log(`origin hex color = ${M}`),M.length===8&&(M=M.substring(0,6)),this.log(`hexColor without alpha ${M}`),_>-1&&(this.plugin.settings.colorGroups[_].color.rgb=parseInt(M,16),await this.plugin.saveSettings(),this.display())},popup:"left",color:S,alpha:!1})}).addExtraButton(E=>{E.setIcon("trash").setTooltip("Remove").onClick(async()=>{_>-1&&(this.log(`removing  ${this.plugin.settings.colorGroups[_]}`),this.plugin.settings.colorGroups.splice(_,1)),await this.plugin.saveSettings(),this.display()})}).addExtraButton(E=>{E.setIcon("reset").setTooltip("Reset to default").onClick(async()=>{_>-1&&(this.log(`resetting ${this.plugin.settings.colorGroups[_]}`),this.plugin.settings.colorGroups[_]=JSON.parse(JSON.stringify(Rd))),await this.plugin.saveSettings(),this.display()})})}),new Dt.Setting(e).addButton(g=>{g.setButtonText("Add Color").onClick(async()=>{this.log("adding new color"),this.plugin.settings.colorGroups.push(JSON.parse(JSON.stringify(Rd))),await this.plugin.saveSettings(),this.display()})}));let f=document.createDocumentFragment();if(f.createEl("p",void 0,p=>{p.innerText="Auto updating metadata in frontmatter when file is modified.\nTimestamp format follows `moment.js` and syntax details, ",p.createEl("a",void 0,g=>{g.innerText="please check moment format.",g.href="https://momentjs.com/docs/#/displaying/format/"})}),new Dt.Setting(e).setName("Enable Updating Metadata").setDesc(f).addToggle(p=>{p.setValue(t.settings.enableMetadataUpdating).onChange(async g=>{t.settings.enableMetadataUpdating=g,await t.saveSettings(),this.display()})}),t.settings.enableMetadataUpdating){let p=JSON.parse(JSON.stringify(t.settings.metadatas)),g=document.createDocumentFragment();g.createSpan({text:"---"}),new Dt.Setting(e).setName(g);for(let C=0;C<p.length;C++){let E=this.findMetadata(p[C].key),F=document.createDocumentFragment();F.appendText(`${p[C].key}: `),new Dt.Setting(e).setName(F).addText(M=>{M.setValue(t.settings.metadatas[E].value).onChange(async P=>{E>-1&&(t.settings.metadatas[E].value=P,await this.plugin.saveSettings())})}).addExtraButton(M=>{M.setIcon("trash").setTooltip("Remove").onClick(async()=>{E>-1&&(this.log(`removing  ${this.plugin.settings.metadatas[E]}`),this.plugin.settings.metadatas.splice(E,1)),await this.plugin.saveSettings(),this.display()})})}let _=document.createDocumentFragment();_.createSpan({text:"---"}),new Dt.Setting(e).setName(_);let b,w,S;new Dt.Setting(e).setName("Add Key:Value in frontmatter").setDesc("Value now only upport formatted timestamp and regular string.").addText(C=>{C.setPlaceholder("key").setValue(b).onChange(async E=>{b=E})}).addText(C=>{C.setPlaceholder("value").setValue(w).onChange(async E=>{w=E})}).addDropdown(C=>{C.addOption("string","1 Regular String"),C.addOption("moment","2 Timestamp"),C.onChange(async E=>{S=E})}).addButton(C=>{C.setButtonText("Add").onClick(async()=>{this.log("adding new frontmatter"),this.plugin.settings.metadatas.push({key:b,value:w,t:S}),await this.plugin.saveSettings(),this.display()})}),new Dt.Setting(e).setName("Meta Updating Exclude Path").setDesc("Exclude files in the directory to update metadata").addText(C=>{C.setPlaceholder("path strings with comma as separator, e.g. `tmp/,notes/templates`").setValue(this.plugin.settings.metadataExcludePath.join(",")).onChange(async E=>{t.settings.metadataExcludePath=E.split(","),await this.plugin.saveSettings()})})}new Dt.Setting(e).setName("Show Statistics").setDesc("Show statistics in the status bar").addDropdown(p=>{this.log(this.plugin.settings.statisticsType);let g=p.addOption("daily","Daily Statistcs"),_=p.addOption("total","Total Statistics");this.plugin.settings.statisticsType==="daily"?(g.setDisabled(!1),p.setValue("daily")):(_.setDisabled(!1),p.setValue("total")),p.onChange(async b=>{console.log("changing statistics type",b),this.plugin.settings.statisticsType=b,await this.plugin.saveSettings();let w=this.app.workspace.getLeaf("window");await w.setViewState({type:Yn,active:!1}),this.app.workspace.revealLeaf(w)})}),new Dt.Setting(e).setName("Vault Stats File Path").setDesc("Reload required for change to take effect. The location of the vault statistics file, relative to the vault root.").addText(p=>{p.setPlaceholder(".obsidian/stats.json"),p.setValue(this.plugin.settings.statsPath.toString()),p.onChange(async g=>{this.plugin.settings.statsPath=g,await this.plugin.saveSettings()})}),new Dt.Setting(e).setName("Animation").addToggle(p=>p.setValue(this.plugin.settings.animation).onChange(g=>{this.plugin.settings.animation=g,this.plugin.saveSettings()}))}findGraphColor(t){return this.plugin.settings.colorGroups.findIndex(e=>t.query===e.query&&t.color.a===e.color.a&&t.color.rgb===e.color.rgb)}findMetadata(t){return this.plugin.settings.metadatas.findIndex(e=>e.key===t)}};var Gn=require("obsidian");var Yi=class{constructor(t,e){this.viewDataType={memos:"memos_view",localGraph:"localgraph"};this.resized=!1,this.log=(...i)=>t.log(...i),this.plugin=t,this.viewType=e}async resize(){if(this.resized)return;let{localGraph:t,memos:e}=this.plugin.settings,i,s,r,o,a,c=window.innerWidth,u=window.innerHeight;switch(this.viewType){case 0:i=e.resizeStyle.width,s=e.resizeStyle.height,o=u/2-s/2,r=c/2-i/2,o=o+(10+Math.random()*100),r=r+(10+Math.random()*100),a=this.viewDataType.memos;break;case 1:i=t.resizeStyle.width,s=t.resizeStyle.height,o=u/2-s/2,r=c/2-i/2,o=o+(10+Math.random()*100),r=r+(10+Math.random()*100),a=this.viewDataType.localGraph;break}document.querySelectorAll("body .popover.hover-editor").forEach(f=>{this.log("iterating hovers..."),f.querySelector(`[data-type="${a}"]`)&&(this.log("setting hover editor attribute..."),f.setAttribute("style",`height: ${s}px; width: ${i}px; top: ${o}px; left: ${r}px; cursor: move;`),document.body.style.setProperty("--resize-popover-width",`${i} !important`),f.addClass("resize-popover-width"),this.resized=!0)})}};var _o=class extends Yi{constructor(t,e){super(e,1),this.app=t}async startup(){this.resized=!1;let t=this.app.workspace,e=t.getActiveFile();if(e&&(await t.getLeaf(!0).setViewState({type:"localgraph",active:!0,state:{file:e.path}}),await this.syncGlobalToLocal()),Gn.Platform.isDesktop&&this.plugin.settings.localGraph.type==="popover"){if(!await this.app.commands.executeCommandById("obsidian-hover-editor:convert-active-pane-to-popover")){new Gn.Notice("hover local graph failed");return}new Gn.Notice(this.plugin.settings.localGraph.notice)}this.plugin.settings.localGraph.autoColors&&this.plugin.settings.enableGraphColors&&await this.updateGraphColors()}async syncGlobalToLocal(){let t=this.app.vault.configDir;this.log(t);let e=(0,Gn.normalizePath)(t+"/graph.json"),i=await this.app.vault.adapter.read(e),r=JSON.parse(i).colorGroups;this.getLocalGraphLeaves().forEach(o=>{this.setColorGroups(o,r)})}getLocalGraphLeaves(){return this.app.workspace.getLeavesOfType("localgraph")}setColorGroups(t,e){let i=t.getViewState();this.log(i.state.options),i.state.options.colorGroups=e,i.state.options.localJumps=this.plugin.settings.localGraph.depth,i.state.options.showTags=this.plugin.settings.localGraph.showTags,i.state.options.showAttachments=this.plugin.settings.localGraph.showAttach,i.state.options.localInterlinks=this.plugin.settings.localGraph.showNeighbor,i.state.options.showArrow=!0,i.state.options.close=this.plugin.settings.localGraph.collapse,i.state.options.scale=1,t.setViewState(i)}async updateGraphColors(){let t=this.app.vault.configDir,e=(0,Gn.normalizePath)(t+"/graph.json"),i=await this.app.vault.adapter.read(e),s=JSON.parse(i),r=this.plugin.settings.colorGroups;r.forEach(o=>s.colorGroups.push(o)),this.app.workspace.getLeavesOfType("localgraph").forEach(o=>{this.plugin.log("setting colors");let a=o.getViewState();this.plugin.log(a.state.options),a.state.options.colorGroups=r,o.setViewState(a)})}};var yo=require("obsidian");var bo=class extends Yi{constructor(t,e){super(e,0),this.app=t}async startup(){this.resized=!1;let t=this.isEnabledPlugin("obsidian-memos"),e=this.isEnabledPlugin("obsidian-hover-editor");if(t&&e)yo.Platform.isDesktop?await this.app.commands.executeCommandById("obsidian-memos:show-memos-in-popover"):await this.app.commands.executeCommandById("obsidian-memos:open-memos");else{let i=t===e?"Memos and Hover are":t?"Hover is":"Memos is";new yo.Notice(`Can't work correctly! Plugin ${i} missing`)}}isEnabledPlugin(t){return!!this.app.plugins.enabledPlugins.has(t)}};var Ki=require("obsidian"),Po=fs(Xl());var sn=require("obsidian");var Ji=class{constructor(t,e,i){this.log=(...a)=>t.log(...a),this.idNumber=Qc(),this.gridID=`div-${e}-progress-bar-grid-${this.idNumber}`,this.gridDivID=`div-${e}-progress-bar-${this.idNumber}`,this.gridDivSpanID=`span-${e}-progress-bar-${this.idNumber}`,this.gridTextID=`div-${e}-progress-bar-text-${this.idNumber}`,this.totalSteps=i,this.steps=0,this.noticeEl=document.createDocumentFragment();let s=this.noticeEl.createEl("div",{attr:{id:this.gridID}});s.addClass("progress-bar-grid");let r=s.createEl("div",{attr:{id:this.gridDivID}});r.addClass("meter"),r.createEl("span",{attr:{style:"width: 0%",id:this.gridDivSpanID}});let o=s.createEl("div",{attr:{id:this.gridTextID}});o.addClass("progress-bar-number"),o.setText("0%"),(0,sn.addIcon)("PLUGIN_UPDATE_STATUS",ce.PLUGIN_UPDATE_STATUS),(0,sn.addIcon)("PLUGIN_UPDATED_STATUS",ce.PLUGIN_UPDATED_STATUS),(0,sn.addIcon)("SWITCH_ON_STATUS",ce.SWITCH_ON_STATUS),(0,sn.addIcon)("SWITCH_OFF_STATUS",ce.SWITCH_OFF_STATUS)}addDiv(t,e){var s,r;let i=document.getElementById(this.gridID);if(i){let o=(s=i.parentElement)==null?void 0:s.createEl("div",{attr:{style:"color: red",id:`div-${t}-${this.idNumber}`}});o?(o.addClass("progress-bar-items-grid"),(0,sn.setIcon)(o,"SWITCH_OFF_STATUS"),o.createSpan({text:e,attr:{class:"progress-bar-items-text"}}),(r=o.querySelector("svg"))==null||r.addClass("plugin-update-svg")):this.log("fail to find notice DocumentFragment")}else this.log("fail to find plugin updating notice HTML Element")}show(){var e,i;if(this.notice)return;this.notice=new sn.Notice(this.noticeEl,0);let t=document.getElementById(this.gridID);(e=t==null?void 0:t.parentElement)==null||e.setAttribute("id",`progress-bar-${this.idNumber}`),(i=t==null?void 0:t.parentElement)==null||i.addClass("progress-bar-notice")}hide(){this.notice.hide()}stepin(t,e,i){var u;let s=this.totalSteps;i&&(s=i),this.steps++;let r=this.steps>=s?s:this.steps,o=document.getElementById(this.gridDivSpanID);o==null||o.setAttr("style",`width:${(100*(r/s)).toFixed(1)}%`);let a=document.getElementById(this.gridTextID);a==null||a.setText(`${(100*(r/s)).toFixed(1)}%`);let c=document.getElementById(`div-${t}-${this.idNumber}`);if(c){let d=c.getElementsByTagName("span").item(0);d&&c.removeChild(d);let f=c.getElementsByTagName("svg").item(0);f&&c.removeChild(f),(0,sn.setIcon)(c,"SWITCH_ON_STATUS"),c.createSpan({text:e,attr:{class:"progress-bar-items-text"}}),(u=c.querySelector("svg"))==null||u.addClass("plugin-update-svg")}}updateProgress(t){let e=document.getElementById(this.gridDivSpanID);e==null||e.setAttr("style",`width:${t}%`);let i=document.getElementById(this.gridTextID);i==null||i.setText(`${t}%`)}};var Oo=class{constructor(t,e){this.TagName="tag_name";this.app=t,this.commandPlugin=e,this.log=(...i)=>e.log(...i),this.URLCDN="https://cdn.jsdelivr.net/gh/obsidianmd/obsidian-releases@master/community-plugins.json",this.items=[];for(let i of Object.values(t.plugins.manifests)){let s={id:i.id,version:i.version};this.items.push(s)}this.totalPlugins=0,this.checkedPlugins=0,this.progressBar=new Ji(e,"plugin-updating",this.totalPlugins)}async getCommunityPluginsJson(){try{let t=await(0,Ki.request)({url:this.URLCDN});return t==="404: Not Found"?null:t}catch(t){return this.log("error in getCommunityPlugins",t),null}}async getRepo(t){if(this.commandPlugin.settings.cachePluginRepo[t])return this.log(`found ${t} which cached in data.json`),this.commandPlugin.settings.cachePluginRepo[t];if(!this.communityPlugins){let e=await this.getCommunityPluginsJson();if(e)this.communityPlugins=JSON.parse(e);else return this.log("fail to get commnity plugin json file from jsdelivr"),null}for(let e=0;e<this.communityPlugins.length;e++){let{id:i,repo:s}=this.communityPlugins[e];if(i===t)return this.commandPlugin.settings.cachePluginRepo[t]=s,await this.commandPlugin.saveSettings(),s}return this.log("fail to find plugin in community-plugins.json"),null}async getLatestRelease(t){if(!t)return this.log("repo is null"),null;let e=`https://api.github.com/repos/${t}/releases/latest`;try{let i=await(0,Ki.request)({url:e});return i==="404: Not Found"?null:await JSON.parse(i)}catch(i){return i!="Error: Request failed, status 404"&&this.log(`error in getLatestRelease for ${e}`,i),null}}getLatestTag(t){if(!t)return this.log("the input JSON for getLatestTag is null"),null;for(let e=0;e<Object.getOwnPropertyNames(t).length;e++)if(this.TagName===Object.getOwnPropertyNames(t)[e])return Object(t)[this.TagName];return this.log(`getLatestTag cannot find the object named ${this.TagName}`),null}async isNeedToUpdate(t,e){if(t){let i=this.getLatestTag(t);if(i){i.startsWith("v")&&(i=i.split("v")[1]),this.log("latest tag: "+i,"current tag: "+e);let s=(0,Po.prerelease)(i);if(s&&s.length>0)return{needUpdate:!1,targetVersion:e};if((0,Po.gt)(i,e))return{needUpdate:!0,targetVersion:i}}}return{needUpdate:!1,targetVersion:e}}async update(){let t=async(s,r,o)=>{let a=`https://github.com/${s}/releases/download/${r}/${o}`;try{let c=await(0,Ki.request)({url:a});return c==="Not Found"||c==='{"error":"Not Found"}'?null:c}catch(c){return this.log("error in grabReleaseFileFromRepository",a,c),null}},e=async(s,r)=>{let o=(0,Ki.normalizePath)(this.app.vault.configDir+"/plugins/"+s)+"/",a=this.app.vault.adapter;if(!r.mainJs||!r.manifest){this.log("downloaded files are empty");return}(await a.exists(o)===!1||!await a.exists(o+"manifest.json"))&&await a.mkdir(o),await a.write(o+"main.js",r.mainJs),await a.write(o+"manifest.json",r.manifest),r.styles&&await a.write(o+"styles.css",r.styles),this.log(`updated plugin[${s}]`)};this.progressBar.show();for(let s=0;s<this.items.length;s++){let r=this.items[s],o=await this.getRepo(r.id),a=await this.getLatestRelease(o);this.log(`checking updating status for ${r.id}`);let c=await this.isNeedToUpdate(a,r.version);o&&a&&c.needUpdate&&(this.totalPlugins++,this.items[s].toUpdate={needUpdate:c.needUpdate,repo:o,targetVersion:c.targetVersion,isZipFile:!1},this.progressBar.addDiv(r.id,`update ${r.id} to ${c.targetVersion}`))}let i=this.items.map(async s=>{var r;if((r=s.toUpdate)!=null&&r.needUpdate){this.log("updating plugin "+s.id);let o={mainJs:null,manifest:null,styles:null},a=s.toUpdate.repo,c=s.toUpdate.targetVersion;o.mainJs=await t(a,c,"main.js"),o.manifest=await t(a,c,"manifest.json"),o.styles=await t(a,c,"styles.css"),await e(s.id,o),this.app.plugins.enablePluginAndSave(s.id),this.progressBar.stepin(s.id,`update ${s.id} to ${c}`,this.totalPlugins),this.checkedPlugins++}});await Promise.all(i),this.log("All async plugin updating completed"),this.progressBar.updateProgress(100),setInterval(()=>{this.progressBar.hide()},2e3)}};var Mn=require("obsidian"),Ro=fs(Xl());var Fo=class n{constructor(t,e){this.TagName="tag_name";this.app=t,this.URLCDN="https://cdn.jsdelivr.net/gh/obsidianmd/obsidian-releases@master/community-css-themes.json",this.commandPlugin=e,this.log=(...i)=>e.log(...i),this.totalThemes=0,this.checkedThemes=0,this.items=[],this.progressBar=new Ji(e,"theme-updating",this.totalThemes)}static async init(t,e){let i=new n(t,e);i.items=await i.listThemes(i.app);let s=await i.getCommunityThemesJson();return s?i.communityThemes=JSON.parse(s):new Mn.Notice("got some network issue when accessing github.com",500),i}async listThemes(t){let e=[];return(await t.vault.adapter.list(t.vault.configDir+"/themes")).folders.forEach(async s=>{let r=(0,Mn.normalizePath)(s+"/manifest.json"),o=await t.vault.adapter.read(r),a=JSON.parse(o);e.push({id:a.name,version:a.version})}),e}async getCommunityThemesJson(){try{let t=await(0,Mn.request)({url:this.URLCDN});return t==="404: Not Found"?null:t}catch(t){return this.log("error in getCommunityThemes",t),null}}async getRepo(t){if(this.commandPlugin.settings.cacheThemeRepo[t])return this.log(`found ${t} which cached in data.json`),this.commandPlugin.settings.cacheThemeRepo[t];if(!this.communityThemes){let e=await this.getCommunityThemesJson();if(e)this.communityThemes=JSON.parse(e);else return this.log("fail to get commnity theme json file"),null}for(let e=0;e<this.communityThemes.length;e++){let{name:i,repo:s}=this.communityThemes[e];if(i===t)return this.commandPlugin.settings.cacheThemeRepo[t]=s,await this.commandPlugin.saveSettings(),s}return this.log("fail to find plugin from community-themes.json"),null}async getLatestRelease(t){if(!t)return this.log("repo is null"),null;let e=`https://api.github.com/repos/${t}/releases/latest`;try{let i=await(0,Mn.request)({url:e});return i==="404: Not Found"?null:await JSON.parse(i)}catch(i){return i!="Error: Request failed, status 404"&&this.log(`error in getLatestRelease for ${e}`,i),null}}getLatestTag(t){if(!t)return this.log("the input JSON for getLatestTag is null"),null;for(let e=0;e<Object.getOwnPropertyNames(t).length;e++)if(this.TagName===Object.getOwnPropertyNames(t)[e])return Object(t)[this.TagName];return this.log(`getLatestTag cannot find the object named ${this.TagName}`),null}async isNeedToUpdate(t,e){if(t){let i=this.getLatestTag(t),s="";if(i){s=i,i.startsWith("v")&&(s=i.split("v")[1]),this.log("latest tag: "+s,"current tag: "+e);let r=(0,Ro.prerelease)(s);if(r&&r.length>0)return{needUpdate:!1,targetVersion:e};if((0,Ro.gt)(s,e))return{needUpdate:!0,targetVersion:i}}}return{needUpdate:!1,targetVersion:e}}async onlyHaveZipFile(t){let e=await this.getRepo(t.id);if(e){this.log("checking need to only has zip file for "+e);let i=await this.getLatestRelease(e);if(i){for(let s=0;s<Object.getOwnPropertyNames(i).length;s++)if(Object.getOwnPropertyNames(i)[s]==="assets"&&Object(i).assets.length>0)return!1;return!0}}return!1}async update(){let t=async(r,o,a)=>{let c=`https://github.com/${r}/releases/download/${o}/${a}`;try{let u=await(0,Mn.request)({url:c});return u==="Not Found"||u==='{"error":"Not Found"}'?null:u}catch(u){return this.log("error in grabReleaseFileFromRepository",c,u),null}},e=async(r,o)=>{let a=`https://github.com/${r}/archive/refs/tags/${o}.zip`;try{return await tu(a)}catch(c){return this.log("error in grabReleaseFileFromRepository",a,c),null}},i=async(r,o)=>{let a=(0,Mn.normalizePath)(this.app.vault.configDir+"/themes/"+r)+"/",c=this.app.vault.adapter;if(!o.theme||!o.manifest){this.log("downloaded files are empty");return}(await c.exists(a)===!1||!await c.exists(a+"manifest.json"))&&await c.mkdir(a),await c.write(a+"theme.css",o.theme),await c.write(a+"manifest.json",o.manifest),this.log(`updated theme[${r}]`)};this.progressBar.show();for(let r=0;r<this.items.length;r++){let o=this.items[r],a=await this.getRepo(o.id),c=await this.getLatestRelease(a),u=await this.isNeedToUpdate(c,o.version);if(a&&c&&u.needUpdate){this.totalThemes++;let d=await this.onlyHaveZipFile(this.items[r]);this.items[r].toUpdate={needUpdate:u.needUpdate,repo:a,targetVersion:u.targetVersion,isZipFile:d},this.progressBar.addDiv(o.id,`update ${o.id} to ${u.targetVersion}`)}}let s=this.items.map(async r=>{var o;if((o=r.toUpdate)!=null&&o.needUpdate){this.log("updating theme "+r.id);let a={manifest:null,theme:null},c=r.toUpdate.repo,u=r.toUpdate.targetVersion;if(r.toUpdate.isZipFile){let d=await e(c,u);d&&(a.theme=await ca(d,"theme.css"),a.manifest=await ca(d,"manifest.json"))}else a.theme=await t(c,u,"theme.css"),a.manifest=await t(c,u,"manifest.json");await i(r.id,a),this.progressBar.stepin(r.id,`update ${r.id} to ${u}`,this.totalThemes),this.checkedThemes++}});await Promise.all(s),this.log("All async theme updating completed"),this.progressBar.updateProgress(100),setInterval(()=>{this.progressBar.hide()},2e3)}};var Rp=require("obsidian");function Lp(n){if(!Rp.Platform.isMobile)return;let t=`${n.manifest.dir}/logs.txt`,e=[],i=s=>(...r)=>{e.push(`
[${s}]`);for(let o of r)e.push(String(o));n.app.vault.adapter.write(t,e.join(" "))};console.debug=i("debug"),console.error=i("error"),console.info=i("info"),console.log=i("log"),console.warn=i("warn")}var Ge=require("obsidian");var ek=/^\s*rgba?\(\s*([\d.]+%?)\s*[, ]\s*([\d.]+%?)\s*[, ]\s*([\d.]+%?\s*)\)\s*$/i;function Ip(n){let t=ek.exec(n);if(t===null)return null;let e=t.slice(1).map(s=>s.trim()),i=nk(e);return i===null||i.find(s=>isNaN(s)||s<0||s>255)!==void 0?null:{r:i[0],g:i[1],b:i[2]}}function nk(n){return n[0].endsWith("%")?n.slice(1,3).find(t=>!t.endsWith("%"))!==void 0?null:n.map(t=>parseFloat(t.substring(0,t.length-1))).map(t=>Math.floor(t*255/100)):n.slice(1,3).find(t=>t.endsWith("%"))!==void 0?null:n.map(t=>parseInt(t,10))}var Lo=class extends Ge.SuggestModal{constructor(t,e){super(t),this.plugin=e}getSuggestions(t){var i;let e=(i=this.plugin.calloutManager)==null?void 0:i.getCallouts();return e?e.concat().filter(s=>s.id.toLowerCase().includes(t.toLowerCase())):[{id:"quote",icon:"quote-glyph",color:"158, 158, 158",sources:[{type:"builtin"},{type:"snippet",snippet:"callout"}]}]}renderSuggestion(t,e){let i=e.createEl("div");i.classList.add("calloutmanager-preview-container"),i.setAttribute("data-callout-manager-callout",t.id);let{icon:s,id:r}=t,o=sk(t);new Jl(i,{id:r,icon:s,title:Np(t),color:o!=null?o:void 0})}async onChooseSuggestion(t,e){let i=Np(t),s=`
> [!${t.id}] ${i}
> Contents

`;await navigator.clipboard.writeText(s);let r=this.app.workspace.getActiveViewOfType(Ge.MarkdownView);if(r){if(r.getMode()==="preview"){new Ge.Notice("Tips: please switch to edit mode to insert",5e3);return}let a=r.editor.getCursor();r.editor.replaceRange(s,a),a.line=a.line+4,r.editor.setCursor(a)}else new Ge.Notice("Error: not a editable markdown file",5e3)}},ik=Symbol(),Jl=class n extends Ge.Component{constructor(t,e){super();let{color:i,icon:s,id:r,title:o,content:a}=e,c=document.createDocumentFragment(),u=this.calloutEl=c.createDiv({cls:["callout","calloutmanager-preview"]}),d=u.createDiv({cls:"callout-title"});this.iconEl=d.createDiv({cls:"callout-icon"});let f=this.titleEl=d.createDiv({cls:"callout-title-inner"}),p=this.contentEl=a===void 0?void 0:u.createDiv({cls:"callout-content"});this.setIcon(s),this.setColor(i),this.setCalloutID(r),o==null?f.textContent=r:typeof o=="function"?o(f):typeof o=="string"?f.textContent=o:f.appendChild(o),p!=null&&(typeof a=="function"?a(p):typeof a=="string"?p.textContent=a:p.appendChild(a)),t!=ik&&n.prototype.attachTo.call(this,t)}setCalloutID(t){let{calloutEl:e}=this;return e.setAttribute("data-callout",t),this}setIcon(t){let{iconEl:e,calloutEl:i}=this;i.style.setProperty("--callout-icon",t),e.empty();let s=(0,Ge.getIcon)(t);return s!=null&&this.iconEl.appendChild(s),this}setColor(t){let{calloutEl:e}=this;return t==null?(e.style.removeProperty("--callout-color"),this):(e.style.setProperty("--callout-color",`${t.r}, ${t.g}, ${t.b}`),this)}attachTo(t){return t.appendChild(this.calloutEl),this}resetStylePropertyOverrides(){let{calloutEl:t}=this;t.style.removeProperty("--callout-color"),t.style.removeProperty("--callout-icon")}};function Np(n){let t=/^(.)(.*)/u.exec(n.id);if(t==null)return n.id;let e=t[1].toLocaleUpperCase(),i=t[2].toLocaleLowerCase().replace(/-+/g," ");return`${e}${i}`}function sk(n){return Ip(`rgb(${n.color})`)}var vi=require("obsidian");function Io(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(d){try{u(i.next(d))}catch(f){o(f)}}function c(d){try{u(i.throw(d))}catch(f){o(f)}}function u(d){d.done?r(d.value):s(d.value).then(a,c)}u((i=i.apply(n,t||[])).next())})}var qn=require("obsidian");function rk(n){xr(n,"svelte-wp0wfe",".recordlist-wrapper.svelte-wp0wfe{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;flex-grow:1;width:100%;overflow-y:scroll;gap:8px;scrollbar-width:none}.record-wrapper.svelte-wp0wfe{display:flex;flex-direction:column;width:60%;padding:12px 18px;background-color:var(--pa-record-background-color);color:var(--pa-record-font-color);border-radius:8px;border:0.2px solid #f1f1f1}.record-wrapper-mobile.svelte-wp0wfe{display:flex;flex-direction:column;width:90%;padding:12px 18px;background-color:var(--pa-record-background-color);color:var(--pa-record-font-color);border-radius:8px;border:0.2px solid #f1f1f1}")}function Bp(n,t,e){let i=n.slice();return i[16]=t[e],i[18]=e,i}function zp(n,t,e){let i=n.slice();return i[16]=t[e],i[18]=e,i}function Wp(n,t,e){let i=n.slice();return i[16]=t[e],i[18]=e,i}function ok(n){let t,e=mn(n[0]),i=[];for(let s=0;s<e.length;s+=1)i[s]=$p(zp(n,e,s));return{c(){t=de("div");for(let s=0;s<i.length;s+=1)i[s].c();Zt(t,"class","recordlist-wrapper svelte-wp0wfe"),Zt(t,"id","persoanl-assistant-record-list")},m(s,r){qt(s,t,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(t,null)},p(s,r){if(r&47){e=mn(s[0]);let o;for(o=0;o<e.length;o+=1){let a=zp(s,e,o);i[o]?i[o].p(a,r):(i[o]=$p(a),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(s){s&&Ut(t),kr(i,s)}}}function ak(n){let t,e=mn(n[0]),i=[];for(let s=0;s<e.length;s+=1)i[s]=jp(Wp(n,e,s));return{c(){t=de("div");for(let s=0;s<i.length;s+=1)i[s].c();Zt(t,"class","recordlist-wrapper svelte-wp0wfe"),Zt(t,"id","persoanl-assistant-record-list")},m(s,r){qt(s,t,r);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(t,null)},p(s,r){if(r&47){e=mn(s[0]);let o;for(o=0;o<e.length;o+=1){let a=Wp(s,e,o);i[o]?i[o].p(a,r):(i[o]=jp(a),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(s){s&&Ut(t),kr(i,s)}}}function lk(n){return{c:ct,m:ct,p:ct,d:ct}}function ck(n){let t,e,i={ctx:n,current:null,token:null,hasCatch:!1,pending:dk,then:hk,catch:uk,value:19};return je(t=n[5](n[21],n[3](`record-wrapper-sub-${n[18]}`),n[16],n[1]),i),{c(){i.block.c(),e=ti()},m(s,r){i.block.m(s,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,qt(s,e,r)},p(s,r){n=s,i.ctx=n,r&3&&t!==(t=n[5](n[21],n[3](`record-wrapper-sub-${n[18]}`),n[16],n[1]))&&je(t,i)},d(s){s&&Ut(e),i.block.d(s),i.token=null,i=null}}}function uk(n){return{c:ct,m:ct,d:ct}}function hk(n){return{c:ct,m:ct,d:ct}}function dk(n){return{c:ct,m:ct,d:ct}}function fk(n){return{c:ct,m:ct,p:ct,d:ct}}function $p(n){let t,e,i,s,r,o={ctx:n,current:null,token:null,hasCatch:!1,pending:fk,then:ck,catch:lk,value:21};return je(r=n[2](n[16]),o),{c(){t=de("div"),i=ti(),s=Sr(),o.block.c(),Zt(t,"class","record-wrapper svelte-wp0wfe"),Zt(t,"id",e="record-wrapper-sub-"+n[18])},m(a,c){qt(a,t,c),qt(a,i,c),qt(a,s,c),o.block.m(a,o.anchor=c),o.mount=()=>s.parentNode,o.anchor=s},p(a,c){n=a,o.ctx=n,c&1&&r!==(r=n[2](n[16]))&&je(r,o)||Ea(o,n,c)},d(a){a&&(Ut(t),Ut(i),Ut(s)),o.block.d(a),o.token=null,o=null}}}function pk(n){return{c:ct,m:ct,p:ct,d:ct}}function gk(n){let t,e,i={ctx:n,current:null,token:null,hasCatch:!1,pending:bk,then:_k,catch:mk,value:19};return je(t=n[5](n[21],n[3](`record-wrapper-sub-${n[18]}`),n[16],n[1]),i),{c(){i.block.c(),e=ti()},m(s,r){i.block.m(s,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,qt(s,e,r)},p(s,r){n=s,i.ctx=n,r&3&&t!==(t=n[5](n[21],n[3](`record-wrapper-sub-${n[18]}`),n[16],n[1]))&&je(t,i)},d(s){s&&Ut(e),i.block.d(s),i.token=null,i=null}}}function mk(n){return{c:ct,m:ct,d:ct}}function _k(n){return{c:ct,m:ct,d:ct}}function bk(n){return{c:ct,m:ct,d:ct}}function yk(n){return{c:ct,m:ct,p:ct,d:ct}}function jp(n){let t,e,i,s,r,o={ctx:n,current:null,token:null,hasCatch:!1,pending:yk,then:gk,catch:pk,value:21};return je(r=n[2](n[16]),o),{c(){t=de("div"),i=ti(),s=Sr(),o.block.c(),Zt(t,"class","record-wrapper-mobile svelte-wp0wfe"),Zt(t,"id",e="record-wrapper-sub-"+n[18])},m(a,c){qt(a,t,c),qt(a,i,c),qt(a,s,c),o.block.m(a,o.anchor=c),o.mount=()=>s.parentNode,o.anchor=s},p(a,c){n=a,o.ctx=n,c&1&&r!==(r=n[2](n[16]))&&je(r,o)||Ea(o,n,c)},d(a){a&&(Ut(t),Ut(i),Ut(s)),o.block.d(a),o.token=null,o=null}}}function vk(n){return{c:ct,m:ct,d:ct}}function wk(n){return{c:ct,m:ct,d:ct}}function xk(n){return{c:ct,m:ct,d:ct}}function Hp(n){let t,e,i={ctx:n,current:null,token:null,hasCatch:!1,pending:xk,then:wk,catch:vk,value:19};return je(e=n[6](`record-wrapper-sub-${n[18]}`,n[16]),i),{c(){t=Sr(),i.block.c()},m(s,r){qt(s,t,r),i.block.m(s,i.anchor=r),i.mount=()=>t.parentNode,i.anchor=t},p(s,r){n=s,i.ctx=n,r&1&&e!==(e=n[6](`record-wrapper-sub-${n[18]}`,n[16]))&&je(e,i)},d(s){s&&Ut(t),i.block.d(s),i.token=null,i=null}}}function kk(n){let t,e,i,s,r,o;function a(p,g){return p[4]()?ak:ok}let u=a(n,-1)(n),d=mn(n[0]),f=[];for(let p=0;p<d.length;p+=1)f[p]=Hp(Bp(n,d,p));return{c(){t=de("div"),e=de("div"),i=de("div"),i.innerHTML='<div class="markdown-preview-pusher" style="width: 1px; height: 0.1px; margin-bottom: 0px;"></div>',s=ti(),u.c(),o=ti();for(let p=0;p<f.length;p+=1)f[p].c();Zt(i,"class","markdown-preview-sizer markdown-preview-section"),Zt(e,"class","markdown-preview-view markdown-rendered node-insert-event is-readable-line-width allow-fold-headings show-indentation-guide allow-fold-lists show-properties"),Zt(e,"tabindex","-1"),Er(e,"tab-size","4"),Zt(t,"class","markdown-reading-view"),Er(t,"width","100%"),Er(t,"height","100%")},m(p,g){qt(p,t,g),Qn(t,e),Qn(e,i),Qn(e,s),u.m(e,null),Qn(e,o);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(e,null)},p(p,[g]){if(u.p(p,g),g&65){d=mn(p[0]);let _;for(_=0;_<d.length;_+=1){let b=Bp(p,d,_);f[_]?f[_].p(b,g):(f[_]=Hp(b),f[_].c(),f[_].m(e,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=d.length}},i:ct,o:ct,d(p){p&&Ut(t),u.d(),kr(f,p)}}}function Sk(n,t,e){let i=(()=>{let o=e.split("/");return o.pop(),o.join("/")})(),s=t;if(t.startsWith(".")){let o=e.split("/");o.pop();for(let a of t.split("/"))if(a==="..")o.pop();else{if(a===".")continue;o.push(a)}s=o.join("/")}let r=[];for(let o of n.getFiles())if(o.path.endsWith(s)){if(o.path===s)return o.path;r.push(o.path)}return r.sort((o,a)=>o.startsWith(i)&&!a.startsWith(i)?-1:a.startsWith(i)&&!o.startsWith(i)?1:o<=a?-1:1),r?r[0]:t}function Ek(n,t,e){let{app:i}=t,{fileNames:s}=t,{container:r}=t,{plugin:o}=t;function a(E){return Io(this,void 0,void 0,function*(){return i.vault.adapter.read(E)})}let c=E=>{let F=document.getElementById(E);return F?(o.log("get the element"),F):(o.log("fail over to get parent element"),r)},u=()=>(o.log("this is Mobile",qn.Platform.isMobile),qn.Platform.isMobile),d=E=>i.plugins.manifests.hasOwnProperty(E)&&i.plugins.enabledPlugins.has(E);var f;(function(E){E.Image="Image",E.Audio="Audio",E.Video="Video",E.PDF="PDF",E.Note="Note",E.Unknown="Unknown"})(f||(f={}));let p={[f.Image]:["png","jpg","jpeg","gif","bmp","svg"],[f.Audio]:["mp3","webm","wav","m4a","ogg","3gp","flac"],[f.Video]:["mp4","webm","ogv","mov","mkv"],[f.PDF]:["pdf"]},g={};Object.keys(p).forEach(E=>{g[E]=new RegExp([".+\\.(",p[E].join("|"),").*"].join(""),"i")});function _(E){let F=E.getAttribute("src");if(!F)return f.Unknown;for(let[M,P]of Object.entries(g))if(F.match(P))return f[M];return f.Note}let b=(E,F,M)=>{let P=Sk(E,F,M);return E.adapter.getResourcePath(P)},w=(E,F)=>d("obsidian-advanced-uri")?["obsidian://advanced-uri?vault=",encodeURIComponent(E.getName()),"&filepath=",encodeURIComponent(F)].join(""):["obsidian://open?vault=",encodeURIComponent(E.getName()),"&file=",encodeURIComponent(F)].join(""),S=(E,F,M,P)=>Io(void 0,void 0,void 0,function*(){yield qn.MarkdownRenderer.render(i,E,F,M,P),F.querySelectorAll("span.internal-embed").forEach(Y=>{switch(_(Y)){case f.Image:let I=createEl("img");I.src=b(i.vault,Y.getAttribute("src"),M),Y.empty(),Y.appendChild(I);break;case f.Audio:let x=createEl("audio");x.controls=!0,x.src=b(i.vault,Y.getAttribute("src"),M),Y.empty(),Y.appendChild(x);break;case f.Video:let H=createEl("video");H.controls=!0,H.src=b(i.vault,Y.getAttribute("src"),M),Y.empty(),Y.appendChild(H);break;case f.PDF:if(!qn.Platform.isDesktop){o.log("Embedded PDFs are only supported on the desktop.");return}let lt=createEl("iframe");lt.src=b(i.vault,Y.getAttribute("src"),M),lt.width="100%",lt.height="500px",Y.empty(),Y.appendChild(lt);break;case f.Note:o.log("Embedded notes are not perfectly supported.");let V=Y.getAttribute("src"),rt=createDiv();rt.setAttribute("data-callout-metadata",""),rt.setAttribute("data-callout-fold","-"),rt.setAttribute("data-callout","abstract"),rt.addClasses(["callout","is-collapsible","is-collapsed"]);let X=rt.createDiv();X.addClass("callout-title");let ot=X.createDiv();ot.addClass("callout-icon"),(0,qn.setIcon)(ot,"loader");let W=X.createDiv();W.addClass("callout-title-inner");let z=createEl("a");z.target="_blank",z.rel="noopener",z.addClass("internal-link"),z.setText(V+" \u{1F4A8}"),z.href=w(i.vault,V),W.appendChild(z),Y.empty(),Y.appendChild(rt);break;case f.Unknown:default:o.log("Could not determine embedding type for element:"),o.log(Y)}}),F.querySelectorAll("a.internal-link").forEach(Y=>{if(!Y.getAttribute("href"))return;let T=Y;T.addEventListener("click",I=>{I.stopPropagation()}),!T.href.startsWith("obsidian://")&&(T.href=w(i.vault,T.getAttribute("href")))})}),C=(E,F)=>Io(void 0,void 0,void 0,function*(){var M;yield Sa();let P=document.getElementById(E);if(P){o.log("get the element");let R=(M=F.split("\\").pop())===null||M===void 0?void 0:M.split("/").pop();if(R){let N=w(i.vault,R);P.setAttribute("onclick",`location.href='${N}'`),P.setAttribute("style","cursor:pointer")}}else o.log("fail to find element with ",E)});return n.$$set=E=>{"app"in E&&e(7,i=E.app),"fileNames"in E&&e(0,s=E.fileNames),"container"in E&&e(8,r=E.container),"plugin"in E&&e(1,o=E.plugin)},[s,o,a,c,u,S,C,i,r]}var Kl=class extends te{constructor(t){super(),fe(this,t,Ek,kk,he,{app:7,fileNames:0,container:8,plugin:1},rk)}},Ql=Kl;var Qi="record-preview",No=class extends vi.ItemView{constructor(t,e,i){e.log("startup new RecordList"),super(i),(0,vi.addIcon)("PluginAST_PREVIEW",ce.PluginAST_PREVIEW),this.app=t,this.plugin=e,this.files=[]}getViewType(){return Qi}getDisplayText(){return"Records Preview"}getIcon(){return"PluginAST_PREVIEW"}async onOpen(){let e=(await this.app.vault.adapter.list(this.plugin.settings.targetPath)).files.sort((o,a)=>{let c=this.app.vault.getAbstractFileByPath(o),u=this.app.vault.getAbstractFileByPath(a);return c instanceof vi.TFile&&u instanceof vi.TFile?c.stat.mtime-u.stat.mtime:o<a?-1:o>a?1:0}),i=e.filter((o,a,c)=>{let d=RegExp(/\[(.*)\]/,"i").exec(this.plugin.settings.fileFormat);if(d&&d.length>1){let f=o.substring(o.lastIndexOf("/")+1);return f.endsWith(".md")&&f.includes(d[1])}else return!1}),s=e.filter((o,a,c)=>o.endsWith(".md")&&!i.contains(o));this.files=i.reverse().concat(...s.reverse());let r=this.plugin.settings.previewLimits;r>this.files.length&&(r=this.files.length),this.component=new Ql({target:this.contentEl,props:{app:this.app,plugin:this.plugin,fileNames:this.files.slice(0,r),container:this.containerEl}}),this.app.vault.on("modify",o=>{this.plugin.log(`update preview record for file[${o.path}] changed`),this.files.slice(0,r).contains(o.path)&&(this.component.$destroy(),this.component=new Ql({target:this.contentEl,props:{app:this.app,plugin:this.plugin,fileNames:this.files.slice(0,r),container:this.containerEl}}))})}async onClose(){this.component.$destroy()}};var Up=require("obsidian"),On=fs(ra());function Zn(n){let t=/'’A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,e=/\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5/.source,i=/[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5]{1}/.source,s=new RegExp([`(?:[0-9]+(?:(?:,|\\.)[0-9]+)*|[\\-${t}])+`,e,i].join("|"),"g");return(n.match(s)||[]).length}function tc(n){return n.length}function ec(n){let t=n.match(/\[\^\S+](?!:)/g),e=n.match(/\^\[[^^].+?]/g),i=0;return t&&(i+=t.length),e&&(i+=e.length),i}function nc(n){let t=n.match(/@[A-Za-z0-9-]+[,;\]](?!\()/gi);return t?[...new Set(t)].length:0}function ic(n){return((n||"").match(/[^.!?\s][^.!?]*(?:[.!?](?!['"]?\s|$)[^.!?]*)*[.!?]?['"]?(?=\s|$)/gm)||[]).length}function sc(n,t){return parseFloat((Zn(n)/t).toFixed(1))}var Qs=class{constructor(t,e){this.vault=t.vault,this.workspace=t.workspace,this.plugin=e,this.today=(0,On.default)().format("YYYY-MM-DD"),this.vaultStats={history:{},modifiedFiles:{}},this.debounceChange=(0,Up.debounce)(i=>this.change(i),50,!1),this.vault.on("rename",(i,s)=>{if(this.vaultStats.modifiedFiles.hasOwnProperty(s)){let r=this.vaultStats.modifiedFiles[s];delete this.vaultStats.modifiedFiles[s],this.vaultStats.modifiedFiles[i.path]=r}}),this.vault.on("delete",i=>{this.vaultStats.modifiedFiles.hasOwnProperty(i.path)&&delete this.vaultStats.modifiedFiles[i.path]}),this.vault.adapter.exists(this.plugin.settings.statsPath).then(async i=>{if(i){if(this.vaultStats=JSON.parse(await this.vault.adapter.read(this.plugin.settings.statsPath)),!this.vaultStats.hasOwnProperty("history")){let s={history:{},modifiedFiles:{}};await this.vault.adapter.write(this.plugin.settings.statsPath,JSON.stringify(s,null,2))}this.vaultStats=JSON.parse(await this.vault.adapter.read(this.plugin.settings.statsPath))}else{let s={history:{},modifiedFiles:{}};await this.vault.adapter.write(this.plugin.settings.statsPath,JSON.stringify(s,null,2)),this.vaultStats=JSON.parse(await this.vault.adapter.read(this.plugin.settings.statsPath))}await this.updateToday()})}async update(){this.vault.adapter.write(this.plugin.settings.statsPath,JSON.stringify(this.vaultStats,null,2))}async updateToday(){if(this.vaultStats.history.hasOwnProperty((0,On.default)().format("YYYY-MM-DD"))){this.today=(0,On.default)().format("YYYY-MM-DD");return}this.today=(0,On.default)().format("YYYY-MM-DD");let t=1,e=0,i=Object.keys(this.vaultStats.history).length;if(i>0){for(;!this.vaultStats.history.hasOwnProperty((0,On.default)().subtract(t,"days").format("YYYY-MM-DD"))&&t<=i;)t++;e=this.vaultStats.history[(0,On.default)().subtract(t,"days").format("YYYY-MM-DD")].files}else e=0;let s=await this.calcTotalWords(),r=await this.calcTotalCharacters(),o=await this.calcTotalSentences(),a=await this.calcTotalFootnotes(),c=await this.calcTotalCitations(),u=await this.calcTotalPages(),d={words:0,characters:0,sentences:0,pages:0,files:e,footnotes:0,citations:0,totalWords:s,totalCharacters:r,totalSentences:o,totalFootnotes:a,totalCitations:c,totalPages:u};this.vaultStats.modifiedFiles={},this.vaultStats.history[this.today]=d,await this.update()}async change(t){var u;let e=(u=this.workspace.getActiveFile())==null?void 0:u.path,i=Zn(t),s=tc(t),r=ic(t),o=nc(t),a=ec(t),c=sc(t,300);if(this.vaultStats.history.hasOwnProperty(this.today)&&this.today===(0,On.default)().format("YYYY-MM-DD")){let d=this.vaultStats.modifiedFiles;if(e===void 0)return;d.hasOwnProperty(e)?(this.vaultStats.history[this.today].totalWords+=i-d[e].words.current,this.vaultStats.history[this.today].totalCharacters+=s-d[e].characters.current,this.vaultStats.history[this.today].totalSentences+=r-d[e].sentences.current,this.vaultStats.history[this.today].totalFootnotes+=r-d[e].footnotes.current,this.vaultStats.history[this.today].totalCitations+=r-d[e].citations.current,this.vaultStats.history[this.today].totalPages+=c-d[e].pages.current,d[e].words.current=i,d[e].characters.current=s,d[e].sentences.current=r,d[e].footnotes.current=a,d[e].citations.current=o,d[e].pages.current=c):d[e]={words:{initial:i,current:i},characters:{initial:s,current:s},sentences:{initial:r,current:r},footnotes:{initial:a,current:a},citations:{initial:o,current:o},pages:{initial:c,current:c}};let f=Object.values(d).map(S=>Math.max(0,S.words.current-S.words.initial)).reduce((S,C)=>S+C,0),p=Object.values(d).map(S=>Math.max(0,S.characters.current-S.characters.initial)).reduce((S,C)=>S+C,0),g=Object.values(d).map(S=>Math.max(0,S.sentences.current-S.sentences.initial)).reduce((S,C)=>S+C,0),_=Object.values(d).map(S=>Math.max(0,S.footnotes.current-S.footnotes.initial)).reduce((S,C)=>S+C,0),b=Object.values(d).map(S=>Math.max(0,S.citations.current-S.citations.initial)).reduce((S,C)=>S+C,0),w=Object.values(d).map(S=>Math.max(0,S.pages.current-S.pages.initial)).reduce((S,C)=>S+C,0);this.vaultStats.history[this.today].words=f,this.vaultStats.history[this.today].characters=p,this.vaultStats.history[this.today].sentences=g,this.vaultStats.history[this.today].footnotes=_,this.vaultStats.history[this.today].citations=b,this.vaultStats.history[this.today].pages=w,this.vaultStats.history[this.today].files=this.getTotalFiles(),await this.update()}else this.updateToday()}async recalcTotals(){if(this.vaultStats)if(this.vaultStats.history.hasOwnProperty(this.today)&&this.today===(0,On.default)().format("YYYY-MM-DD")){let t=this.vaultStats.history[this.today];t.totalWords=await this.calcTotalWords(),t.totalCharacters=await this.calcTotalCharacters(),t.totalSentences=await this.calcTotalSentences(),t.totalFootnotes=await this.calcTotalFootnotes(),t.totalCitations=await this.calcTotalCitations(),t.totalPages=await this.calcTotalPages(),this.update()}else this.updateToday()}async calcTotalWords(){let t=0,e=this.vault.getFiles();for(let i in e){let s=e[i];s.extension==="md"&&(t+=Zn(await this.vault.cachedRead(s)))}return t}async calcTotalCharacters(){let t=0,e=this.vault.getFiles();for(let i in e){let s=e[i];s.extension==="md"&&(t+=tc(await this.vault.cachedRead(s)))}return t}async calcTotalSentences(){let t=0,e=this.vault.getFiles();for(let i in e){let s=e[i];s.extension==="md"&&(t+=ic(await this.vault.cachedRead(s)))}return t}async calcTotalPages(){let t=0,e=this.vault.getFiles();for(let i in e){let s=e[i];s.extension==="md"&&(t+=sc(await this.vault.cachedRead(s),300))}return t}async calcTotalFootnotes(){let t=0,e=this.vault.getFiles();for(let i in e){let s=e[i];s.extension==="md"&&(t+=ec(await this.vault.cachedRead(s)))}return t}async calcTotalCitations(){let t=0,e=this.vault.getFiles();for(let i in e){let s=e[i];s.extension==="md"&&(t+=nc(await this.vault.cachedRead(s)))}return t}getDailyWords(){return this.vaultStats.history[this.today].words}getDailyCharacters(){return this.vaultStats.history[this.today].characters}getDailySentences(){return this.vaultStats.history[this.today].sentences}getDailyFootnotes(){return this.vaultStats.history[this.today].footnotes}getDailyCitations(){return this.vaultStats.history[this.today].citations}getDailyPages(){return this.vaultStats.history[this.today].pages}getTotalFiles(){return this.vault.getMarkdownFiles().length}async getTotalWords(){return this.vaultStats?this.vaultStats.history[this.today].totalWords:await this.calcTotalWords()}async getTotalCharacters(){return this.vaultStats?this.vaultStats.history[this.today].totalCharacters:await this.calcTotalCharacters()}async getTotalSentences(){return this.vaultStats?this.vaultStats.history[this.today].totalSentences:await this.calcTotalSentences()}async getTotalFootnotes(){return this.vaultStats?this.vaultStats.history[this.today].totalFootnotes:await this.calcTotalFootnotes()}async getTotalCitations(){return this.vaultStats?this.vaultStats.history[this.today].totalCitations:await this.calcTotalCitations()}async getTotalPages(){return this.vaultStats?this.vaultStats.history[this.today].totalPages:await this.calcTotalPages()}};var rn=require("@codemirror/state"),Pn=require("@codemirror/view"),rc=require("@codemirror/language");var ts=rn.StateField.define({create(n){return null},update(n){return n}}),oc=class{constructor(t){this.view=t}update(t){let e=t.transactions[0];if(!e)return;let i=t.view.state.field(ts),s=e.annotation(rn.Transaction.userEvent)===void 0;if((e.isUserEvent("select")||s)&&e.newSelection.ranges[0].from!==e.newSelection.ranges[0].to){let r="",o=e.newSelection.main,a=e.newDoc.iterRange(o.from,o.to);for(;!a.done;)r=r+a.next().value}else if(e.isUserEvent("input")||e.isUserEvent("delete")||e.isUserEvent("move")||e.isUserEvent("undo")||e.isUserEvent("redo")||e.isUserEvent("select")){let r=e.newDoc.iter(),o="";for(;!r.done;)o=o+r.next().value;e.docChanged&&i&&i.statsManager&&i.statsManager.debounceChange(o)}}destroy(){}},Vp=Pn.ViewPlugin.fromClass(oc),ac=class extends Pn.WidgetType{constructor(t){super(),this.data=t}eq(t){let{pos:e,self:i,total:s}=this.data;return e===t.data.pos&&i===t.data.self&&s===t.data.total}getDisplayText(){let{self:t,total:e}=this.data;return t&&t!==e?`${t} / ${e}`:e.toString()}toDOM(){return createSpan({cls:"bwc-section-count",text:this.getDisplayText()})}},lc=class{constructor(t){this.lineCounts=[];let e=t.state.field(ts);if(e&&!e.settings.displaySectionCounts){this.decorations=Pn.Decoration.none;return}e&&this.calculateLineCounts(t.state,e),this.decorations=this.mkDeco(t)}calculateLineCounts(t,e){let i=e.settings.countComments,s=t.doc.toString();if(i){let o=(a,c,u)=>{let d="";for(let f=c,p=c+a.length;f<p;f++)/[\r\n]/.test(u[f])&&(d+=u[f]);return d};s=s.replace(Al,o).replace(Dl,o)}let r=s.split(t.facet(rn.EditorState.lineSeparator)||/\r\n?|\n/);for(let o=0,a=r.length;o<a;o++){let c=r[o];this.lineCounts.push(Zn(c))}}update(t){let e=t.view.state.field(ts);if(!e)return;let{displaySectionCounts:i,countComments:s}=e.settings,r=!1;if(this.lineCounts.length&&!i){this.lineCounts=[],this.decorations=Pn.Decoration.none;return}else!this.lineCounts.length&&i&&(r=!0,e&&this.calculateLineCounts(t.startState,e));if(t.docChanged){let a=t.startState.doc,c=1/0,u=-1/0;if(t.changes.iterChanges((d,f,p,g,_)=>{let b=p,w=p+(f-d),S=b+_.length,C=a.lineAt(b),E=a.lineAt(w);a=a.replace(p,p+(f-d),_);let F=a.lineAt(b),M=a.lineAt(S),P=[];for(let Y=F.number;Y<=M.number;Y++)P.push(Zn(a.line(Y).text));let R=C.number-1,N=E.number-C.number+1;c=Math.min(c,R),u=Math.max(u,R+(M.number-F.number+1)),this.lineCounts.splice(R,N,...P)}),s){let d=(0,rc.syntaxTree)(t.state);for(let f=c;f<u;f++){let p=t.state.doc.line(f+1),g="",_=0,b=!1;d.iterate({enter(w){w.name&&/comment/.test(w.name)&&(b=!0,g+=p.text.substring(_,w.from-p.from),_=w.to-p.from)},from:p.from,to:p.to}),b&&(g+=p.text.substring(_),this.lineCounts[f]=Zn(g))}}}(t.docChanged||t.viewportChanged||r)&&(this.decorations=this.mkDeco(t.view))}mkDeco(t){let e=t.state.field(ts),i=new rn.RangeSetBuilder;if(e&&!e.settings.displaySectionCounts)return i.finish();let s=(0,rc.syntaxTree)(t.state),r=p=>{var b;let g=s.resolve(p.from,1);if(/code-?block|math/.test((b=g==null?void 0:g.type)==null?void 0:b.name))return null;let _=p.text.match(/^(#+)[ \t]/);return _?_[1].length:null};if(!t.visibleRanges.length)return i.finish();let{from:o}=t.visibleRanges[0],a=t.state.doc,c=a.lineAt(o),u=a.lines,d=[],f=[];for(let p=c.number;p<=u;p++){let g;p===c.number?g=c:g=a.line(p);let _=r(g),b=f.last();if(_){if(!b||_>b.level)f.push({line:p,level:_,self:0,total:0,pos:g.to});else if(b.level===_){let w=f.pop();w&&d.push(w),f.push({line:p,level:_,self:0,total:0,pos:g.to})}else if(b.level>_)for(let w=f.length-1;w>=0;w--){let S=f[w];if(_<S.level){let C=f.pop();C&&d.push(C),w===0&&f.push({line:p,level:_,self:0,total:0,pos:g.to});continue}if(_===S.level){let C=f.pop();C&&d.push(C),f.push({line:p,level:_,self:0,total:0,pos:g.to});break}if(_>S.level){f.push({line:p,level:_,self:0,total:0,pos:g.to});break}}}else if(f.length){let w=this.lineCounts[p-1];for(let S of f)S===b&&(S.self+=w),S.total+=w}}f.length&&d.push(...f),d.sort((p,g)=>p.line-g.line);for(let p of d)i.add(p.pos,p.pos,Pn.Decoration.widget({side:1,widget:new ac(p)}));return i.finish()}},ED=rn.StateEffect.define(),Yp=Pn.ViewPlugin.fromClass(lc,{decorations:n=>n.decorations});var Ck=(n,...t)=>{n&&console.log(...t)},Bo=class extends Kt.Plugin{constructor(){super(...arguments);this.localGraph=new _o(this.app,this);this.memos=new bo(this.app,this);this.settingTab=new mo(this.app,this);this.updateMetadata=e=>{if(e instanceof Kt.TFile&&e.extension==="md"){let i=e.path;for(let r of this.settings.metadataExcludePath)if(r!==""&&e.path.startsWith(r)){this.log(`filtered ${e.path} in ${r}`),i="";break}let s=this.app.metadataCache.getCache(i);s&&s.frontmatter&&this.app.fileManager.processFrontMatter(e,r=>{for(let o of Object.getOwnPropertyNames(r))for(let a of this.settings.metadatas)if(o===a.key){this.log(r[o]);let c;switch(a.t){case"moment":c=(0,cc.default)(new Date(e.stat.mtime)).format(a.value);break;case"string":c=a.value;break;default:c=a.value;break}r[o]=c}setTimeout(()=>{this.updateDebouncer.cancel()},100)})}}}async onload(){await this.loadSettings(),this.settings.debug&&(new Kt.Notice("starting obsidian assistant"),Lp(this)),new MutationObserver(r=>{r.forEach(o=>{o.addedNodes.forEach(a=>{a instanceof HTMLElement&&document.querySelectorAll(".popover.hover-popover.hover-editor").forEach(c=>{this.log("observing..."),this.localGraph.resize(),this.memos.resize()})})})}).observe(document.body,{attributes:!0,childList:!0}),(0,Kt.addIcon)("PluginAST",ce.PluginAST),this.addRibbonIcon("PluginAST","Obsidian Assistant",r=>{new ps(this.app).open()}).addClass("plugin-manager-ribbon-class");let s=this.addStatusBarItem();s.addClass("personal-assistant-statusbar"),s.setAttribute("id","personal-assistant-statusbar"),(0,Kt.addIcon)("PluginAST_STATUSBAR",ce.PluginAST_STATUSBAR),(0,Kt.setIcon)(s,"PluginAST_STATUSBAR"),s.onClickEvent(r=>{this.app.setting.open(),this.app.setting.openTabById("personal-assistant")}),this.app.workspace.onLayoutReady(async()=>{this.calloutManager=await Zc(this),this.registerView(Qi,r=>new No(this.app,this,r)),this.registerView(Yn,r=>new po(this.app,this,r))}),this.statsManager=new Qs(this.app,this),this.addCommand({id:"startup-recording",name:"Open specific note to record",callback:async()=>{let r=(0,cc.default)().format(this.settings.fileFormat),o=this.settings.targetPath;this.log(o,r),await this.createNewNote(o,r)}}),this.addCommand({id:"memos",name:"assistant hover memos",callback:async()=>{await this.memos.startup()}}),this.addCommand({id:"local-graph",name:"hover local graph",callback:async()=>{await this.localGraph.startup()}}),this.addCommand({id:"switch-on-or-off-plugin",name:"switch on/off plugin according to its status",callback:()=>{let r=new ps(this.app);r.setPlaceholder("Type plugin name to find it"),r.open()}}),this.addCommand({id:"set-local-graph-view-colors",name:"Set graph view colors",callback:async()=>{await this.localGraph.updateGraphColors()}}),this.addCommand({id:"update-plugins",name:"Update plugins with one command",callback:async()=>{await new Oo(this.app,this).update()}}),this.addCommand({id:"update-themes",name:"Update themes with one command",callback:async()=>{await(await Fo.init(this.app,this)).update()}}),this.addCommand({id:"update-metadata",name:"Update metadata with one command",callback:async()=>{if(this.settings.enableMetadataUpdating)if(this.settings.isEnabledMetadataUpdating){let r=document.getElementById("personal-assistant-statusbar");r==null||r.removeClass("personal-assistant-statusbar-breathing"),this.updateDebouncer=(0,Kt.debounce)(o=>{},100,!0),this.settings.isEnabledMetadataUpdating=!1}else{this.updateDebouncer=(0,Kt.debounce)(this.updateMetadata,100,!0);let r=document.getElementById("personal-assistant-statusbar");r==null||r.addClass("personal-assistant-statusbar-breathing"),this.registerEvent(this.app.workspace.on("file-open",o=>{this.updateDebouncer(o)})),this.settings.isEnabledMetadataUpdating=!0}else new Kt.Notice("update metadata command is not enabled in setting tab")}}),this.addCommand({id:"list-callouts",name:"List callout for quickly insert",callback:()=>{new Lo(this.app,this).open()}}),this.addCommand({id:"preview-records",name:"Preview records that are created by `startup-recording` command",callback:async()=>{this.activateView()}}),this.addCommand({id:"show-statistics",name:"Show statistics",callback:async()=>{await this.activeStatView()}}),this.registerEditorExtension([ts.init(()=>this),Vp,Yp]),this.registerEvent(this.app.workspace.on("active-leaf-change",async r=>{this.statsManager&&await this.statsManager.recalcTotals()})),this.registerEvent(this.app.vault.on("delete",async()=>{this.statsManager&&await this.statsManager.recalcTotals()})),this.addSettingTab(this.settingTab)}onunload(){}async loadSettings(){this.settings=Object.assign({},Ld,await this.loadData()),this.log("logging settings...",this.settings)}async saveSettings(){await this.saveData(this.settings)}log(...e){Ck(this.settings.debug,...e)}async createDirectory(e){let{vault:i}=this.app,s=i.getRoot().path,r=this.join(s,e);i.getAbstractFileByPath(r)==null&&await i.createFolder(r)}async createNewNote(e,i){let{vault:s}=this.app,r=s.getRoot().path,o=this.join(r,e),a=this.join(o,`${i}.md`);try{if(this.app.vault.getAbstractFileByPath(a)instanceof Kt.TFile){let d=s.getMarkdownFiles();for(let f of d)if(f.path===a){await this.app.workspace.getLeaf("tab").openFile(f);return}throw new Error(`${a} already exists but fail to open`)}o!==""&&(this.log("creating directory path: ",o),await this.createDirectory(o)),this.log("creating file: ",a);let c=await s.create(a,"");await this.app.workspace.getLeaf("tab").openFile(c)}catch(c){new Kt.Notice(c.toString())}}join(...e){let i=e.map(s=>String(s).trim()).filter(s=>s!=null);return(0,Kt.normalizePath)(i.join("/"))}async activateView(){this.app.workspace.detachLeavesOfType(Qi),await this.app.workspace.getLeaf("tab").setViewState({type:Qi,active:!0}),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(Qi)[0])}async activeStatView(){let e=this.app.workspace.getLeavesOfType(Yn),i=e.length;await this.app.workspace.getLeaf("tab").setViewState({type:Yn,active:!0}),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(Yn)[i]);for(let r=0;r<i;r++)e[r].detach()}};var Ak=Bo;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)

vanilla-picker/dist/vanilla-picker.mjs:
  (*!
   * vanilla-picker v2.12.2
   * https://vanilla-picker.js.org
   *
   * Copyright 2017-2023 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
   * Released under the ISC license.
   *)

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.2
   * https://github.com/kurkle/color#readme
   * (c) 2023 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.segment.js:
  (*!
   * Chart.js v4.4.2
   * https://www.chartjs.org
   * (c) 2024 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/chart.js:
  (*!
   * Chart.js v4.4.2
   * https://www.chartjs.org
   * (c) 2024 Chart.js Contributors
   * Released under the MIT License
   *)
*/
